(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nd={exports:{}},Mo={},Rd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function t1(){if(wg)return De;wg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function L(N,F,ve){this.props=N,this.context=F,this.refs=I,this.updater=ve||E}L.prototype.isReactComponent={},L.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=L.prototype;function $(N,F,ve){this.props=N,this.context=F,this.refs=I,this.updater=ve||E}var W=$.prototype=new j;W.constructor=$,S(W,L.prototype),W.isPureReactComponent=!0;var ie=Array.isArray,R=Object.prototype.hasOwnProperty,ee={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function G(N,F,ve){var _e,Te={},Re=null,We=null;if(F!=null)for(_e in F.ref!==void 0&&(We=F.ref),F.key!==void 0&&(Re=""+F.key),F)R.call(F,_e)&&!ce.hasOwnProperty(_e)&&(Te[_e]=F[_e]);var Me=arguments.length-2;if(Me===1)Te.children=ve;else if(1<Me){for(var Ie=Array(Me),rt=0;rt<Me;rt++)Ie[rt]=arguments[rt+2];Te.children=Ie}if(N&&N.defaultProps)for(_e in Me=N.defaultProps,Me)Te[_e]===void 0&&(Te[_e]=Me[_e]);return{$$typeof:t,type:N,key:Re,ref:We,props:Te,_owner:ee.current}}function ae(N,F){return{$$typeof:t,type:N.type,key:F,ref:N.ref,props:N.props,_owner:N._owner}}function se(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function Ne(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ve){return F[ve]})}var we=/\/+/g;function ye(N,F){return typeof N=="object"&&N!==null&&N.key!=null?Ne(""+N.key):F.toString(36)}function Se(N,F,ve,_e,Te){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var We=!1;if(N===null)We=!0;else switch(Re){case"string":case"number":We=!0;break;case"object":switch(N.$$typeof){case t:case e:We=!0}}if(We)return We=N,Te=Te(We),N=_e===""?"."+ye(We,0):_e,ie(Te)?(ve="",N!=null&&(ve=N.replace(we,"$&/")+"/"),Se(Te,F,ve,"",function(rt){return rt})):Te!=null&&(se(Te)&&(Te=ae(Te,ve+(!Te.key||We&&We.key===Te.key?"":(""+Te.key).replace(we,"$&/")+"/")+N)),F.push(Te)),1;if(We=0,_e=_e===""?".":_e+":",ie(N))for(var Me=0;Me<N.length;Me++){Re=N[Me];var Ie=_e+ye(Re,Me);We+=Se(Re,F,ve,Ie,Te)}else if(Ie=x(N),typeof Ie=="function")for(N=Ie.call(N),Me=0;!(Re=N.next()).done;)Re=Re.value,Ie=_e+ye(Re,Me++),We+=Se(Re,F,ve,Ie,Te);else if(Re==="object")throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return We}function ge(N,F,ve){if(N==null)return N;var _e=[],Te=0;return Se(N,_e,"","",function(Re){return F.call(ve,Re,Te++)}),_e}function Qe(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(ve){(N._status===0||N._status===-1)&&(N._status=1,N._result=ve)},function(ve){(N._status===0||N._status===-1)&&(N._status=2,N._result=ve)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},q={transition:null},J={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:q,ReactCurrentOwner:ee};function X(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:ge,forEach:function(N,F,ve){ge(N,function(){F.apply(this,arguments)},ve)},count:function(N){var F=0;return ge(N,function(){F++}),F},toArray:function(N){return ge(N,function(F){return F})||[]},only:function(N){if(!se(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},De.Component=L,De.Fragment=n,De.Profiler=o,De.PureComponent=$,De.StrictMode=s,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,De.act=X,De.cloneElement=function(N,F,ve){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var _e=S({},N.props),Te=N.key,Re=N.ref,We=N._owner;if(F!=null){if(F.ref!==void 0&&(Re=F.ref,We=ee.current),F.key!==void 0&&(Te=""+F.key),N.type&&N.type.defaultProps)var Me=N.type.defaultProps;for(Ie in F)R.call(F,Ie)&&!ce.hasOwnProperty(Ie)&&(_e[Ie]=F[Ie]===void 0&&Me!==void 0?Me[Ie]:F[Ie])}var Ie=arguments.length-2;if(Ie===1)_e.children=ve;else if(1<Ie){Me=Array(Ie);for(var rt=0;rt<Ie;rt++)Me[rt]=arguments[rt+2];_e.children=Me}return{$$typeof:t,type:N.type,key:Te,ref:Re,props:_e,_owner:We}},De.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:l,_context:N},N.Consumer=N},De.createElement=G,De.createFactory=function(N){var F=G.bind(null,N);return F.type=N,F},De.createRef=function(){return{current:null}},De.forwardRef=function(N){return{$$typeof:f,render:N}},De.isValidElement=se,De.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:Qe}},De.memo=function(N,F){return{$$typeof:m,type:N,compare:F===void 0?null:F}},De.startTransition=function(N){var F=q.transition;q.transition={};try{N()}finally{q.transition=F}},De.unstable_act=X,De.useCallback=function(N,F){return Fe.current.useCallback(N,F)},De.useContext=function(N){return Fe.current.useContext(N)},De.useDebugValue=function(){},De.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},De.useEffect=function(N,F){return Fe.current.useEffect(N,F)},De.useId=function(){return Fe.current.useId()},De.useImperativeHandle=function(N,F,ve){return Fe.current.useImperativeHandle(N,F,ve)},De.useInsertionEffect=function(N,F){return Fe.current.useInsertionEffect(N,F)},De.useLayoutEffect=function(N,F){return Fe.current.useLayoutEffect(N,F)},De.useMemo=function(N,F){return Fe.current.useMemo(N,F)},De.useReducer=function(N,F,ve){return Fe.current.useReducer(N,F,ve)},De.useRef=function(N){return Fe.current.useRef(N)},De.useState=function(N){return Fe.current.useState(N)},De.useSyncExternalStore=function(N,F,ve){return Fe.current.useSyncExternalStore(N,F,ve)},De.useTransition=function(){return Fe.current.useTransition()},De.version="18.3.1",De}var Eg;function Ff(){return Eg||(Eg=1,Rd.exports=t1()),Rd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function n1(){if(kg)return Mo;kg=1;var t=Ff(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,m){var y,_={},x=null,E=null;m!==void 0&&(x=""+m),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(E=p.ref);for(y in p)s.call(p,y)&&!l.hasOwnProperty(y)&&(_[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)_[y]===void 0&&(_[y]=p[y]);return{$$typeof:e,type:f,key:x,ref:E,props:_,_owner:o.current}}return Mo.Fragment=n,Mo.jsx=u,Mo.jsxs=u,Mo}var Cg;function r1(){return Cg||(Cg=1,Nd.exports=n1()),Nd.exports}var g=r1(),C=Ff();const pi=Mf(C);var Al={},Pd={exports:{}},en={},Dd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function i1(){return bg||(bg=1,function(t){function e(q,J){var X=q.length;q.push(J);e:for(;0<X;){var N=X-1>>>1,F=q[N];if(0<o(F,J))q[N]=J,q[X]=F,X=N;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var J=q[0],X=q.pop();if(X!==J){q[0]=X;e:for(var N=0,F=q.length,ve=F>>>1;N<ve;){var _e=2*(N+1)-1,Te=q[_e],Re=_e+1,We=q[Re];if(0>o(Te,X))Re<F&&0>o(We,Te)?(q[N]=We,q[Re]=X,N=Re):(q[N]=Te,q[_e]=X,N=_e);else if(Re<F&&0>o(We,X))q[N]=We,q[Re]=X,N=Re;else break e}}return J}function o(q,J){var X=q.sortIndex-J.sortIndex;return X!==0?X:q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,_=null,x=3,E=!1,S=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(q){for(var J=n(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=q)s(m),J.sortIndex=J.expirationTime,e(p,J);else break;J=n(m)}}function ie(q){if(I=!1,W(q),!S)if(n(p)!==null)S=!0,Qe(R);else{var J=n(m);J!==null&&Fe(ie,J.startTime-q)}}function R(q,J){S=!1,I&&(I=!1,j(G),G=-1),E=!0;var X=x;try{for(W(J),_=n(p);_!==null&&(!(_.expirationTime>J)||q&&!Ne());){var N=_.callback;if(typeof N=="function"){_.callback=null,x=_.priorityLevel;var F=N(_.expirationTime<=J);J=t.unstable_now(),typeof F=="function"?_.callback=F:_===n(p)&&s(p),W(J)}else s(p);_=n(p)}if(_!==null)var ve=!0;else{var _e=n(m);_e!==null&&Fe(ie,_e.startTime-J),ve=!1}return ve}finally{_=null,x=X,E=!1}}var ee=!1,ce=null,G=-1,ae=5,se=-1;function Ne(){return!(t.unstable_now()-se<ae)}function we(){if(ce!==null){var q=t.unstable_now();se=q;var J=!0;try{J=ce(!0,q)}finally{J?ye():(ee=!1,ce=null)}}else ee=!1}var ye;if(typeof $=="function")ye=function(){$(we)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ge=Se.port2;Se.port1.onmessage=we,ye=function(){ge.postMessage(null)}}else ye=function(){L(we,0)};function Qe(q){ce=q,ee||(ee=!0,ye())}function Fe(q,J){G=L(function(){q(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,Qe(R))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(q){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var X=x;x=J;try{return q()}finally{x=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var X=x;x=q;try{return J()}finally{x=X}},t.unstable_scheduleCallback=function(q,J,X){var N=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?N+X:N):X=N,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=X+F,q={id:y++,callback:J,priorityLevel:q,startTime:X,expirationTime:F,sortIndex:-1},X>N?(q.sortIndex=X,e(m,q),n(p)===null&&q===n(m)&&(I?(j(G),G=-1):I=!0,Fe(ie,X-N))):(q.sortIndex=F,e(p,q),S||E||(S=!0,Qe(R))),q},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(q){var J=x;return function(){var X=x;x=J;try{return q.apply(this,arguments)}finally{x=X}}}}(Od)),Od}var Sg;function s1(){return Sg||(Sg=1,Dd.exports=i1()),Dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function o1(){if(Tg)return en;Tg=1;var t=Ff(),e=s1();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function x(r){return p.call(_,r)?!0:p.call(y,r)?!1:m.test(r)?_[r]=!0:(y[r]=!0,!1)}function E(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,a,c){if(i===null||typeof i>"u"||E(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(r,i,a,c,d,h,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=h,this.removeEmptyString=v}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];L[i]=new I(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function $(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(j,$);L[i]=new I(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(j,$);L[i]=new I(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(j,$);L[i]=new I(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,i,a,c){var d=L.hasOwnProperty(i)?L[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,a,d,c)&&(a=null),c||d===null?x(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var ie=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),ee=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Ne=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),q=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var X=Object.assign,N;function F(r){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+r}var ve=!1;function _e(r,i){if(!r||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(A){var c=A}Reflect.construct(r,[],i)}else{try{i.call()}catch(A){c=A}r.call(i.prototype)}else{try{throw Error()}catch(A){c=A}r()}}catch(A){if(A&&c&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),h=c.stack.split(`
`),v=d.length-1,w=h.length-1;1<=v&&0<=w&&d[v]!==h[w];)w--;for(;1<=v&&0<=w;v--,w--)if(d[v]!==h[w]){if(v!==1||w!==1)do if(v--,w--,0>w||d[v]!==h[w]){var k=`
`+d[v].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=v&&0<=w);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function Te(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=_e(r.type,!1),r;case 11:return r=_e(r.type.render,!1),r;case 1:return r=_e(r.type,!0),r;default:return""}}function Re(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ce:return"Fragment";case ee:return"Portal";case ae:return"Profiler";case G:return"StrictMode";case ye:return"Suspense";case Se:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Ne:return(r.displayName||"Context")+".Consumer";case se:return(r._context.displayName||"Context")+".Provider";case we:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ge:return i=r.displayName||null,i!==null?i:Re(r.type)||"Memo";case Qe:i=r._payload,r=r._init;try{return Re(r(i))}catch{}}return null}function We(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ie(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rt(r){var i=Ie(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,h.call(this,v)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function un(r){r._valueTracker||(r._valueTracker=rt(r))}function Tn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=Ie(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function Wt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Or(r,i){var a=i.checked;return X({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function bi(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ar(r,i){i=i.checked,i!=null&&W(r,"checked",i,!1)}function dn(r,i){Ar(r,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Kn(r,i.type,a):i.hasOwnProperty("defaultValue")&&Kn(r,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Lr(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Kn(r,i,a){(i!=="number"||Wt(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var fn=Array.isArray;function Ft(r,i,a,c){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function In(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Si(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(fn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Me(a)}}function Y(r,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function de(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ze(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ze(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ht,Gn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(ht=ht||document.createElement("div"),ht.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ht.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function _t(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(pn).forEach(function(r){jr.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),pn[i]=pn[r]})});function lr(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||pn.hasOwnProperty(r)&&pn[r]?(""+i).trim():i+"px"}function cr(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=lr(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var Mr=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hn(r,i){if(i){if(Mr[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Yn(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=null;function Ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ls=null,Fr=null,ur=null;function Ii(r){if(r=Eo(r)){if(typeof ls!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Ya(i),ls(r.stateNode,r.type,i))}}function Ni(r){Fr?ur?ur.push(r):ur=[r]:Fr=r}function Na(){if(Fr){var r=Fr,i=ur;if(ur=Fr=null,Ii(r),i)for(r=0;r<i.length;r++)Ii(i[r])}}function Ra(r,i){return r(i)}function b(){}var P=!1;function M(r,i,a){if(P)return r(i,a);P=!0;try{return Ra(r,i,a)}finally{P=!1,(Fr!==null||ur!==null)&&(b(),Na())}}function U(r,i){var a=r.stateNode;if(a===null)return null;var c=Ya(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var ne=!1;if(f)try{var fe={};Object.defineProperty(fe,"passive",{get:function(){ne=!0}}),window.addEventListener("test",fe,fe),window.removeEventListener("test",fe,fe)}catch{ne=!1}function Ee(r,i,a,c,d,h,v,w,k){var A=Array.prototype.slice.call(arguments,3);try{i.apply(a,A)}catch(B){this.onError(B)}}var te=!1,le=null,Q=!1,ke=null,Pe={onError:function(r){te=!0,le=r}};function Je(r,i,a,c,d,h,v,w,k){te=!1,le=null,Ee.apply(Pe,arguments)}function Et(r,i,a,c,d,h,v,w,k){if(Je.apply(this,arguments),te){if(te){var A=le;te=!1,le=null}else throw Error(n(198));Q||(Q=!0,ke=A)}}function Ve(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Ke(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function mt(r){if(Ve(r)!==r)throw Error(n(188))}function zr(r){var i=r.alternate;if(!i){if(i=Ve(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,c=i;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return mt(d),r;if(h===c)return mt(d),i;h=h.sibling}throw Error(n(188))}if(a.return!==c.return)a=d,c=h;else{for(var v=!1,w=d.child;w;){if(w===a){v=!0,a=d,c=h;break}if(w===c){v=!0,c=d,a=h;break}w=w.sibling}if(!v){for(w=h.child;w;){if(w===a){v=!0,a=h,c=d;break}if(w===c){v=!0,c=h,a=d;break}w=w.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function Ur(r){return r=zr(r),r!==null?mn(r):null}function mn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=mn(r);if(i!==null)return i;r=r.sibling}return null}var nn=e.unstable_scheduleCallback,cs=e.unstable_cancelCallback,Ri=e.unstable_shouldYield,dr=e.unstable_requestPaint,Ze=e.unstable_now,us=e.unstable_getCurrentPriorityLevel,$e=e.unstable_ImmediatePriority,kt=e.unstable_UserBlockingPriority,fr=e.unstable_NormalPriority,Pi=e.unstable_LowPriority,ct=e.unstable_IdlePriority,Rn=null,rn=null;function Yc(r){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Rn,r,void 0,(r.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:xx,yx=Math.log,_x=Math.LN2;function xx(r){return r>>>=0,r===0?32:31-(yx(r)/_x|0)|0}var Pa=64,Da=4194304;function ro(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Oa(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,h=r.pingedLanes,v=a&268435455;if(v!==0){var w=v&~d;w!==0?c=ro(w):(h&=v,h!==0&&(c=ro(h)))}else v=a&~d,v!==0?c=ro(v):h!==0&&(c=ro(h));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,h=i&-i,d>=h||d===16&&(h&4194240)!==0))return i;if(c&4&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-Pn(i),d=1<<a,c|=r[a],i&=~d;return c}function wx(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ex(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,h=r.pendingLanes;0<h;){var v=31-Pn(h),w=1<<v,k=d[v];k===-1?(!(w&a)||w&c)&&(d[v]=wx(w,i)):k<=i&&(r.expiredLanes|=w),h&=~w}}function Qc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Jp(){var r=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),r}function Xc(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function io(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Pn(i),r[i]=a}function kx(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Pn(a),h=1<<d;i[d]=0,c[d]=-1,r[d]=-1,a&=~h}}function Jc(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-Pn(a),d=1<<c;d&i|r[c]&i&&(r[c]|=i),a&=~d}}var qe=0;function Zp(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var eh,Zc,th,nh,rh,eu=!1,Aa=[],Br=null,Hr=null,Wr=null,so=new Map,oo=new Map,Vr=[],Cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ih(r,i){switch(r){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":so.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(i.pointerId)}}function ao(r,i,a,c,d,h){return r===null||r.nativeEvent!==h?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Eo(i),i!==null&&Zc(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function bx(r,i,a,c,d){switch(i){case"focusin":return Br=ao(Br,r,i,a,c,d),!0;case"dragenter":return Hr=ao(Hr,r,i,a,c,d),!0;case"mouseover":return Wr=ao(Wr,r,i,a,c,d),!0;case"pointerover":var h=d.pointerId;return so.set(h,ao(so.get(h)||null,r,i,a,c,d)),!0;case"gotpointercapture":return h=d.pointerId,oo.set(h,ao(oo.get(h)||null,r,i,a,c,d)),!0}return!1}function sh(r){var i=Di(r.target);if(i!==null){var a=Ve(i);if(a!==null){if(i=a.tag,i===13){if(i=Ke(a),i!==null){r.blockedOn=i,rh(r.priority,function(){th(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function La(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=nu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Nn=c,a.target.dispatchEvent(c),Nn=null}else return i=Eo(a),i!==null&&Zc(i),r.blockedOn=a,!1;i.shift()}return!0}function oh(r,i,a){La(r)&&a.delete(i)}function Sx(){eu=!1,Br!==null&&La(Br)&&(Br=null),Hr!==null&&La(Hr)&&(Hr=null),Wr!==null&&La(Wr)&&(Wr=null),so.forEach(oh),oo.forEach(oh)}function lo(r,i){r.blockedOn===i&&(r.blockedOn=null,eu||(eu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sx)))}function co(r){function i(d){return lo(d,r)}if(0<Aa.length){lo(Aa[0],r);for(var a=1;a<Aa.length;a++){var c=Aa[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Br!==null&&lo(Br,r),Hr!==null&&lo(Hr,r),Wr!==null&&lo(Wr,r),so.forEach(i),oo.forEach(i),a=0;a<Vr.length;a++)c=Vr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)sh(a),a.blockedOn===null&&Vr.shift()}var ds=ie.ReactCurrentBatchConfig,ja=!0;function Tx(r,i,a,c){var d=qe,h=ds.transition;ds.transition=null;try{qe=1,tu(r,i,a,c)}finally{qe=d,ds.transition=h}}function Ix(r,i,a,c){var d=qe,h=ds.transition;ds.transition=null;try{qe=4,tu(r,i,a,c)}finally{qe=d,ds.transition=h}}function tu(r,i,a,c){if(ja){var d=nu(r,i,a,c);if(d===null)_u(r,i,c,Ma,a),ih(r,c);else if(bx(d,r,i,a,c))c.stopPropagation();else if(ih(r,c),i&4&&-1<Cx.indexOf(r)){for(;d!==null;){var h=Eo(d);if(h!==null&&eh(h),h=nu(r,i,a,c),h===null&&_u(r,i,c,Ma,a),h===d)break;d=h}d!==null&&c.stopPropagation()}else _u(r,i,c,null,a)}}var Ma=null;function nu(r,i,a,c){if(Ma=null,r=Ti(c),r=Di(r),r!==null)if(i=Ve(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Ke(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ma=r,null}function ah(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(us()){case $e:return 1;case kt:return 4;case fr:case Pi:return 16;case ct:return 536870912;default:return 16}default:return 16}}var $r=null,ru=null,Fa=null;function lh(){if(Fa)return Fa;var r,i=ru,a=i.length,c,d="value"in $r?$r.value:$r.textContent,h=d.length;for(r=0;r<a&&i[r]===d[r];r++);var v=a-r;for(c=1;c<=v&&i[a-c]===d[h-c];c++);return Fa=d.slice(r,1<c?1-c:void 0)}function za(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ua(){return!0}function ch(){return!1}function sn(r){function i(a,c,d,h,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ua:ch,this.isPropagationStopped=ch,this}return X(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),i}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=sn(fs),uo=X({},fs,{view:0,detail:0}),Nx=sn(uo),su,ou,fo,Ba=X({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fo&&(fo&&r.type==="mousemove"?(su=r.screenX-fo.screenX,ou=r.screenY-fo.screenY):ou=su=0,fo=r),su)},movementY:function(r){return"movementY"in r?r.movementY:ou}}),uh=sn(Ba),Rx=X({},Ba,{dataTransfer:0}),Px=sn(Rx),Dx=X({},uo,{relatedTarget:0}),au=sn(Dx),Ox=X({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ax=sn(Ox),Lx=X({},fs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jx=sn(Lx),Mx=X({},fs,{data:0}),dh=sn(Mx),Fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bx(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ux[r])?!!i[r]:!1}function lu(){return Bx}var Hx=X({},uo,{key:function(r){if(r.key){var i=Fx[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=za(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?zx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(r){return r.type==="keypress"?za(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?za(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Wx=sn(Hx),Vx=X({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fh=sn(Vx),$x=X({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),qx=sn($x),Kx=X({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gx=sn(Kx),Yx=X({},Ba,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qx=sn(Yx),Xx=[9,13,27,32],cu=f&&"CompositionEvent"in window,po=null;f&&"documentMode"in document&&(po=document.documentMode);var Jx=f&&"TextEvent"in window&&!po,ph=f&&(!cu||po&&8<po&&11>=po),hh=" ",mh=!1;function gh(r,i){switch(r){case"keyup":return Xx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ps=!1;function Zx(r,i){switch(r){case"compositionend":return vh(i);case"keypress":return i.which!==32?null:(mh=!0,hh);case"textInput":return r=i.data,r===hh&&mh?null:r;default:return null}}function ew(r,i){if(ps)return r==="compositionend"||!cu&&gh(r,i)?(r=lh(),Fa=ru=$r=null,ps=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ph&&i.locale!=="ko"?null:i.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!tw[r.type]:i==="textarea"}function _h(r,i,a,c){Ni(c),i=qa(i,"onChange"),0<i.length&&(a=new iu("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var ho=null,mo=null;function nw(r){Mh(r,0)}function Ha(r){var i=ys(r);if(Tn(i))return r}function rw(r,i){if(r==="change")return i}var xh=!1;if(f){var uu;if(f){var du="oninput"in document;if(!du){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),du=typeof wh.oninput=="function"}uu=du}else uu=!1;xh=uu&&(!document.documentMode||9<document.documentMode)}function Eh(){ho&&(ho.detachEvent("onpropertychange",kh),mo=ho=null)}function kh(r){if(r.propertyName==="value"&&Ha(mo)){var i=[];_h(i,mo,r,Ti(r)),M(nw,i)}}function iw(r,i,a){r==="focusin"?(Eh(),ho=i,mo=a,ho.attachEvent("onpropertychange",kh)):r==="focusout"&&Eh()}function sw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ha(mo)}function ow(r,i){if(r==="click")return Ha(i)}function aw(r,i){if(r==="input"||r==="change")return Ha(i)}function lw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Dn=typeof Object.is=="function"?Object.is:lw;function go(r,i){if(Dn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(i,d)||!Dn(r[d],i[d]))return!1}return!0}function Ch(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bh(r,i){var a=Ch(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ch(a)}}function Sh(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Sh(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Th(){for(var r=window,i=Wt();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Wt(r.document)}return i}function fu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function cw(r){var i=Th(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Sh(a.ownerDocument.documentElement,a)){if(c!==null&&fu(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,h=Math.min(c.start,d);c=c.end===void 0?h:Math.min(c.end,d),!r.extend&&h>c&&(d=c,c=h,h=d),d=bh(a,h);var v=bh(a,c);d&&v&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),h>c?(r.addRange(i),r.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uw=f&&"documentMode"in document&&11>=document.documentMode,hs=null,pu=null,vo=null,hu=!1;function Ih(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hu||hs==null||hs!==Wt(c)||(c=hs,"selectionStart"in c&&fu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vo&&go(vo,c)||(vo=c,c=qa(pu,"onSelect"),0<c.length&&(i=new iu("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=hs)))}function Wa(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ms={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},mu={},Nh={};f&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Va(r){if(mu[r])return mu[r];if(!ms[r])return r;var i=ms[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Nh)return mu[r]=i[a];return r}var Rh=Va("animationend"),Ph=Va("animationiteration"),Dh=Va("animationstart"),Oh=Va("transitionend"),Ah=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(r,i){Ah.set(r,i),l(i,[r])}for(var gu=0;gu<Lh.length;gu++){var vu=Lh[gu],dw=vu.toLowerCase(),fw=vu[0].toUpperCase()+vu.slice(1);qr(dw,"on"+fw)}qr(Rh,"onAnimationEnd"),qr(Ph,"onAnimationIteration"),qr(Dh,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(Oh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function jh(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,Et(c,i,void 0,r),r.currentTarget=null}function Mh(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var h=void 0;if(i)for(var v=c.length-1;0<=v;v--){var w=c[v],k=w.instance,A=w.currentTarget;if(w=w.listener,k!==h&&d.isPropagationStopped())break e;jh(d,w,A),h=k}else for(v=0;v<c.length;v++){if(w=c[v],k=w.instance,A=w.currentTarget,w=w.listener,k!==h&&d.isPropagationStopped())break e;jh(d,w,A),h=k}}}if(Q)throw r=ke,Q=!1,ke=null,r}function st(r,i){var a=i[bu];a===void 0&&(a=i[bu]=new Set);var c=r+"__bubble";a.has(c)||(Fh(i,r,2,!1),a.add(c))}function yu(r,i,a){var c=0;i&&(c|=4),Fh(a,r,c,i)}var $a="_reactListening"+Math.random().toString(36).slice(2);function _o(r){if(!r[$a]){r[$a]=!0,s.forEach(function(a){a!=="selectionchange"&&(pw.has(a)||yu(a,!1,r),yu(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[$a]||(i[$a]=!0,yu("selectionchange",!1,i))}}function Fh(r,i,a,c){switch(ah(i)){case 1:var d=Tx;break;case 4:d=Ix;break;default:d=tu}a=d.bind(null,i,a,r),d=void 0,!ne||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function _u(r,i,a,c,d){var h=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var w=c.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;v=v.return}for(;w!==null;){if(v=Di(w),v===null)return;if(k=v.tag,k===5||k===6){c=h=v;continue e}w=w.parentNode}}c=c.return}M(function(){var A=h,B=Ti(a),H=[];e:{var z=Ah.get(r);if(z!==void 0){var Z=iu,oe=r;switch(r){case"keypress":if(za(a)===0)break e;case"keydown":case"keyup":Z=Wx;break;case"focusin":oe="focus",Z=au;break;case"focusout":oe="blur",Z=au;break;case"beforeblur":case"afterblur":Z=au;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=qx;break;case Rh:case Ph:case Dh:Z=Ax;break;case Oh:Z=Gx;break;case"scroll":Z=Nx;break;case"wheel":Z=Qx;break;case"copy":case"cut":case"paste":Z=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=fh}var ue=(i&4)!==0,xt=!ue&&r==="scroll",D=ue?z!==null?z+"Capture":null:z;ue=[];for(var T=A,O;T!==null;){O=T;var V=O.stateNode;if(O.tag===5&&V!==null&&(O=V,D!==null&&(V=U(T,D),V!=null&&ue.push(xo(T,V,O)))),xt)break;T=T.return}0<ue.length&&(z=new Z(z,oe,null,a,B),H.push({event:z,listeners:ue}))}}if(!(i&7)){e:{if(z=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",z&&a!==Nn&&(oe=a.relatedTarget||a.fromElement)&&(Di(oe)||oe[pr]))break e;if((Z||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,Z?(oe=a.relatedTarget||a.toElement,Z=A,oe=oe?Di(oe):null,oe!==null&&(xt=Ve(oe),oe!==xt||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(Z=null,oe=A),Z!==oe)){if(ue=uh,V="onMouseLeave",D="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(ue=fh,V="onPointerLeave",D="onPointerEnter",T="pointer"),xt=Z==null?z:ys(Z),O=oe==null?z:ys(oe),z=new ue(V,T+"leave",Z,a,B),z.target=xt,z.relatedTarget=O,V=null,Di(B)===A&&(ue=new ue(D,T+"enter",oe,a,B),ue.target=O,ue.relatedTarget=xt,V=ue),xt=V,Z&&oe)t:{for(ue=Z,D=oe,T=0,O=ue;O;O=gs(O))T++;for(O=0,V=D;V;V=gs(V))O++;for(;0<T-O;)ue=gs(ue),T--;for(;0<O-T;)D=gs(D),O--;for(;T--;){if(ue===D||D!==null&&ue===D.alternate)break t;ue=gs(ue),D=gs(D)}ue=null}else ue=null;Z!==null&&zh(H,z,Z,ue,!1),oe!==null&&xt!==null&&zh(H,xt,oe,ue,!0)}}e:{if(z=A?ys(A):window,Z=z.nodeName&&z.nodeName.toLowerCase(),Z==="select"||Z==="input"&&z.type==="file")var pe=rw;else if(yh(z))if(xh)pe=aw;else{pe=sw;var he=iw}else(Z=z.nodeName)&&Z.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(pe=ow);if(pe&&(pe=pe(r,A))){_h(H,pe,a,B);break e}he&&he(r,z,A),r==="focusout"&&(he=z._wrapperState)&&he.controlled&&z.type==="number"&&Kn(z,"number",z.value)}switch(he=A?ys(A):window,r){case"focusin":(yh(he)||he.contentEditable==="true")&&(hs=he,pu=A,vo=null);break;case"focusout":vo=pu=hs=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Ih(H,a,B);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":Ih(H,a,B)}var me;if(cu)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ps?gh(r,a)&&(Ce="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(ph&&a.locale!=="ko"&&(ps||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ps&&(me=lh()):($r=B,ru="value"in $r?$r.value:$r.textContent,ps=!0)),he=qa(A,Ce),0<he.length&&(Ce=new dh(Ce,r,null,a,B),H.push({event:Ce,listeners:he}),me?Ce.data=me:(me=vh(a),me!==null&&(Ce.data=me)))),(me=Jx?Zx(r,a):ew(r,a))&&(A=qa(A,"onBeforeInput"),0<A.length&&(B=new dh("onBeforeInput","beforeinput",null,a,B),H.push({event:B,listeners:A}),B.data=me))}Mh(H,i)})}function xo(r,i,a){return{instance:r,listener:i,currentTarget:a}}function qa(r,i){for(var a=i+"Capture",c=[];r!==null;){var d=r,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=U(r,a),h!=null&&c.unshift(xo(r,h,d)),h=U(r,i),h!=null&&c.push(xo(r,h,d))),r=r.return}return c}function gs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function zh(r,i,a,c,d){for(var h=i._reactName,v=[];a!==null&&a!==c;){var w=a,k=w.alternate,A=w.stateNode;if(k!==null&&k===c)break;w.tag===5&&A!==null&&(w=A,d?(k=U(a,h),k!=null&&v.unshift(xo(a,k,w))):d||(k=U(a,h),k!=null&&v.push(xo(a,k,w)))),a=a.return}v.length!==0&&r.push({event:i,listeners:v})}var hw=/\r\n?/g,mw=/\u0000|\uFFFD/g;function Uh(r){return(typeof r=="string"?r:""+r).replace(hw,`
`).replace(mw,"")}function Ka(r,i,a){if(i=Uh(i),Uh(r)!==i&&a)throw Error(n(425))}function Ga(){}var xu=null,wu=null;function Eu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(r){return Bh.resolve(null).then(r).catch(yw)}:ku;function yw(r){setTimeout(function(){throw r})}function Cu(r,i){var a=i,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),co(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);co(i)}function Kr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Hh(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Qn="__reactFiber$"+vs,wo="__reactProps$"+vs,pr="__reactContainer$"+vs,bu="__reactEvents$"+vs,_w="__reactListeners$"+vs,xw="__reactHandles$"+vs;function Di(r){var i=r[Qn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[pr]||a[Qn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Hh(r);r!==null;){if(a=r[Qn])return a;r=Hh(r)}return i}r=a,a=r.parentNode}return null}function Eo(r){return r=r[Qn]||r[pr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ys(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ya(r){return r[wo]||null}var Su=[],_s=-1;function Gr(r){return{current:r}}function ot(r){0>_s||(r.current=Su[_s],Su[_s]=null,_s--)}function et(r,i){_s++,Su[_s]=r.current,r.current=i}var Yr={},zt=Gr(Yr),Yt=Gr(!1),Oi=Yr;function xs(r,i){var a=r.type.contextTypes;if(!a)return Yr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in a)d[h]=i[h];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(r){return r=r.childContextTypes,r!=null}function Qa(){ot(Yt),ot(zt)}function Wh(r,i,a){if(zt.current!==Yr)throw Error(n(168));et(zt,i),et(Yt,a)}function Vh(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(n(108,We(r)||"Unknown",d));return X({},a,c)}function Xa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Yr,Oi=zt.current,et(zt,r),et(Yt,Yt.current),!0}function $h(r,i,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=Vh(r,i,Oi),c.__reactInternalMemoizedMergedChildContext=r,ot(Yt),ot(zt),et(zt,r)):ot(Yt),et(Yt,a)}var hr=null,Ja=!1,Tu=!1;function qh(r){hr===null?hr=[r]:hr.push(r)}function ww(r){Ja=!0,qh(r)}function Qr(){if(!Tu&&hr!==null){Tu=!0;var r=0,i=qe;try{var a=hr;for(qe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}hr=null,Ja=!1}catch(d){throw hr!==null&&(hr=hr.slice(r+1)),nn($e,Qr),d}finally{qe=i,Tu=!1}}return null}var ws=[],Es=0,Za=null,el=0,gn=[],vn=0,Ai=null,mr=1,gr="";function Li(r,i){ws[Es++]=el,ws[Es++]=Za,Za=r,el=i}function Kh(r,i,a){gn[vn++]=mr,gn[vn++]=gr,gn[vn++]=Ai,Ai=r;var c=mr;r=gr;var d=32-Pn(c)-1;c&=~(1<<d),a+=1;var h=32-Pn(i)+d;if(30<h){var v=d-d%5;h=(c&(1<<v)-1).toString(32),c>>=v,d-=v,mr=1<<32-Pn(i)+d|a<<d|c,gr=h+r}else mr=1<<h|a<<d|c,gr=r}function Iu(r){r.return!==null&&(Li(r,1),Kh(r,1,0))}function Nu(r){for(;r===Za;)Za=ws[--Es],ws[Es]=null,el=ws[--Es],ws[Es]=null;for(;r===Ai;)Ai=gn[--vn],gn[vn]=null,gr=gn[--vn],gn[vn]=null,mr=gn[--vn],gn[vn]=null}var on=null,an=null,lt=!1,On=null;function Gh(r,i){var a=wn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Yh(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,on=r,an=Kr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,on=r,an=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ai!==null?{id:mr,overflow:gr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=wn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,on=r,an=null,!0):!1;default:return!1}}function Ru(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Pu(r){if(lt){var i=an;if(i){var a=i;if(!Yh(r,i)){if(Ru(r))throw Error(n(418));i=Kr(a.nextSibling);var c=on;i&&Yh(r,i)?Gh(c,a):(r.flags=r.flags&-4097|2,lt=!1,on=r)}}else{if(Ru(r))throw Error(n(418));r.flags=r.flags&-4097|2,lt=!1,on=r}}}function Qh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;on=r}function tl(r){if(r!==on)return!1;if(!lt)return Qh(r),lt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Eu(r.type,r.memoizedProps)),i&&(i=an)){if(Ru(r))throw Xh(),Error(n(418));for(;i;)Gh(r,i),i=Kr(i.nextSibling)}if(Qh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){an=Kr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}an=null}}else an=on?Kr(r.stateNode.nextSibling):null;return!0}function Xh(){for(var r=an;r;)r=Kr(r.nextSibling)}function ks(){an=on=null,lt=!1}function Du(r){On===null?On=[r]:On.push(r)}var Ew=ie.ReactCurrentBatchConfig;function ko(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var d=c,h=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===h?i.ref:(i=function(v){var w=d.refs;v===null?delete w[h]:w[h]=v},i._stringRef=h,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function nl(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Jh(r){var i=r._init;return i(r._payload)}function Zh(r){function i(D,T){if(r){var O=D.deletions;O===null?(D.deletions=[T],D.flags|=16):O.push(T)}}function a(D,T){if(!r)return null;for(;T!==null;)i(D,T),T=T.sibling;return null}function c(D,T){for(D=new Map;T!==null;)T.key!==null?D.set(T.key,T):D.set(T.index,T),T=T.sibling;return D}function d(D,T){return D=ii(D,T),D.index=0,D.sibling=null,D}function h(D,T,O){return D.index=O,r?(O=D.alternate,O!==null?(O=O.index,O<T?(D.flags|=2,T):O):(D.flags|=2,T)):(D.flags|=1048576,T)}function v(D){return r&&D.alternate===null&&(D.flags|=2),D}function w(D,T,O,V){return T===null||T.tag!==6?(T=kd(O,D.mode,V),T.return=D,T):(T=d(T,O),T.return=D,T)}function k(D,T,O,V){var pe=O.type;return pe===ce?B(D,T,O.props.children,V,O.key):T!==null&&(T.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Qe&&Jh(pe)===T.type)?(V=d(T,O.props),V.ref=ko(D,T,O),V.return=D,V):(V=Sl(O.type,O.key,O.props,null,D.mode,V),V.ref=ko(D,T,O),V.return=D,V)}function A(D,T,O,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=Cd(O,D.mode,V),T.return=D,T):(T=d(T,O.children||[]),T.return=D,T)}function B(D,T,O,V,pe){return T===null||T.tag!==7?(T=Wi(O,D.mode,V,pe),T.return=D,T):(T=d(T,O),T.return=D,T)}function H(D,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=kd(""+T,D.mode,O),T.return=D,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case R:return O=Sl(T.type,T.key,T.props,null,D.mode,O),O.ref=ko(D,null,T),O.return=D,O;case ee:return T=Cd(T,D.mode,O),T.return=D,T;case Qe:var V=T._init;return H(D,V(T._payload),O)}if(fn(T)||J(T))return T=Wi(T,D.mode,O,null),T.return=D,T;nl(D,T)}return null}function z(D,T,O,V){var pe=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return pe!==null?null:w(D,T,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return O.key===pe?k(D,T,O,V):null;case ee:return O.key===pe?A(D,T,O,V):null;case Qe:return pe=O._init,z(D,T,pe(O._payload),V)}if(fn(O)||J(O))return pe!==null?null:B(D,T,O,V,null);nl(D,O)}return null}function Z(D,T,O,V,pe){if(typeof V=="string"&&V!==""||typeof V=="number")return D=D.get(O)||null,w(T,D,""+V,pe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return D=D.get(V.key===null?O:V.key)||null,k(T,D,V,pe);case ee:return D=D.get(V.key===null?O:V.key)||null,A(T,D,V,pe);case Qe:var he=V._init;return Z(D,T,O,he(V._payload),pe)}if(fn(V)||J(V))return D=D.get(O)||null,B(T,D,V,pe,null);nl(T,V)}return null}function oe(D,T,O,V){for(var pe=null,he=null,me=T,Ce=T=0,Rt=null;me!==null&&Ce<O.length;Ce++){me.index>Ce?(Rt=me,me=null):Rt=me.sibling;var Be=z(D,me,O[Ce],V);if(Be===null){me===null&&(me=Rt);break}r&&me&&Be.alternate===null&&i(D,me),T=h(Be,T,Ce),he===null?pe=Be:he.sibling=Be,he=Be,me=Rt}if(Ce===O.length)return a(D,me),lt&&Li(D,Ce),pe;if(me===null){for(;Ce<O.length;Ce++)me=H(D,O[Ce],V),me!==null&&(T=h(me,T,Ce),he===null?pe=me:he.sibling=me,he=me);return lt&&Li(D,Ce),pe}for(me=c(D,me);Ce<O.length;Ce++)Rt=Z(me,D,Ce,O[Ce],V),Rt!==null&&(r&&Rt.alternate!==null&&me.delete(Rt.key===null?Ce:Rt.key),T=h(Rt,T,Ce),he===null?pe=Rt:he.sibling=Rt,he=Rt);return r&&me.forEach(function(si){return i(D,si)}),lt&&Li(D,Ce),pe}function ue(D,T,O,V){var pe=J(O);if(typeof pe!="function")throw Error(n(150));if(O=pe.call(O),O==null)throw Error(n(151));for(var he=pe=null,me=T,Ce=T=0,Rt=null,Be=O.next();me!==null&&!Be.done;Ce++,Be=O.next()){me.index>Ce?(Rt=me,me=null):Rt=me.sibling;var si=z(D,me,Be.value,V);if(si===null){me===null&&(me=Rt);break}r&&me&&si.alternate===null&&i(D,me),T=h(si,T,Ce),he===null?pe=si:he.sibling=si,he=si,me=Rt}if(Be.done)return a(D,me),lt&&Li(D,Ce),pe;if(me===null){for(;!Be.done;Ce++,Be=O.next())Be=H(D,Be.value,V),Be!==null&&(T=h(Be,T,Ce),he===null?pe=Be:he.sibling=Be,he=Be);return lt&&Li(D,Ce),pe}for(me=c(D,me);!Be.done;Ce++,Be=O.next())Be=Z(me,D,Ce,Be.value,V),Be!==null&&(r&&Be.alternate!==null&&me.delete(Be.key===null?Ce:Be.key),T=h(Be,T,Ce),he===null?pe=Be:he.sibling=Be,he=Be);return r&&me.forEach(function(e1){return i(D,e1)}),lt&&Li(D,Ce),pe}function xt(D,T,O,V){if(typeof O=="object"&&O!==null&&O.type===ce&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case R:e:{for(var pe=O.key,he=T;he!==null;){if(he.key===pe){if(pe=O.type,pe===ce){if(he.tag===7){a(D,he.sibling),T=d(he,O.props.children),T.return=D,D=T;break e}}else if(he.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Qe&&Jh(pe)===he.type){a(D,he.sibling),T=d(he,O.props),T.ref=ko(D,he,O),T.return=D,D=T;break e}a(D,he);break}else i(D,he);he=he.sibling}O.type===ce?(T=Wi(O.props.children,D.mode,V,O.key),T.return=D,D=T):(V=Sl(O.type,O.key,O.props,null,D.mode,V),V.ref=ko(D,T,O),V.return=D,D=V)}return v(D);case ee:e:{for(he=O.key;T!==null;){if(T.key===he)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){a(D,T.sibling),T=d(T,O.children||[]),T.return=D,D=T;break e}else{a(D,T);break}else i(D,T);T=T.sibling}T=Cd(O,D.mode,V),T.return=D,D=T}return v(D);case Qe:return he=O._init,xt(D,T,he(O._payload),V)}if(fn(O))return oe(D,T,O,V);if(J(O))return ue(D,T,O,V);nl(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(a(D,T.sibling),T=d(T,O),T.return=D,D=T):(a(D,T),T=kd(O,D.mode,V),T.return=D,D=T),v(D)):a(D,T)}return xt}var Cs=Zh(!0),em=Zh(!1),rl=Gr(null),il=null,bs=null,Ou=null;function Au(){Ou=bs=il=null}function Lu(r){var i=rl.current;ot(rl),r._currentValue=i}function ju(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function Ss(r,i){il=r,Ou=bs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(Xt=!0),r.firstContext=null)}function yn(r){var i=r._currentValue;if(Ou!==r)if(r={context:r,memoizedValue:i,next:null},bs===null){if(il===null)throw Error(n(308));bs=r,il.dependencies={lanes:0,firstContext:r}}else bs=bs.next=r;return i}var ji=null;function Mu(r){ji===null?ji=[r]:ji.push(r)}function tm(r,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Mu(i)):(a.next=d.next,d.next=a),i.interleaved=a,vr(r,c)}function vr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Xr=!1;function Fu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Jr(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Ue&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,vr(r,a)}return d=c.interleaved,d===null?(i.next=i,Mu(c)):(i.next=d.next,d.next=i),c.interleaved=i,vr(r,a)}function sl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Jc(r,a)}}function rm(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?d=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?d=h=i:h=h.next=i}else d=h=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ol(r,i,a,c){var d=r.updateQueue;Xr=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var k=w,A=k.next;k.next=null,v===null?h=A:v.next=A,v=k;var B=r.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==v&&(w===null?B.firstBaseUpdate=A:w.next=A,B.lastBaseUpdate=k))}if(h!==null){var H=d.baseState;v=0,B=A=k=null,w=h;do{var z=w.lane,Z=w.eventTime;if((c&z)===z){B!==null&&(B=B.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var oe=r,ue=w;switch(z=i,Z=a,ue.tag){case 1:if(oe=ue.payload,typeof oe=="function"){H=oe.call(Z,H,z);break e}H=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ue.payload,z=typeof oe=="function"?oe.call(Z,H,z):oe,z==null)break e;H=X({},H,z);break e;case 2:Xr=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,z=d.effects,z===null?d.effects=[w]:z.push(w))}else Z={eventTime:Z,lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(A=B=Z,k=H):B=B.next=Z,v|=z;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;z=w,w=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);if(B===null&&(k=H),d.baseState=k,d.firstBaseUpdate=A,d.lastBaseUpdate=B,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else h===null&&(d.shared.lanes=0);zi|=v,r.lanes=v,r.memoizedState=H}}function im(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Co={},Xn=Gr(Co),bo=Gr(Co),So=Gr(Co);function Mi(r){if(r===Co)throw Error(n(174));return r}function zu(r,i){switch(et(So,i),et(bo,r),et(Xn,Co),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:it(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=it(i,r)}ot(Xn),et(Xn,i)}function Ts(){ot(Xn),ot(bo),ot(So)}function sm(r){Mi(So.current);var i=Mi(Xn.current),a=it(i,r.type);i!==a&&(et(bo,r),et(Xn,a))}function Uu(r){bo.current===r&&(ot(Xn),ot(bo))}var ut=Gr(0);function al(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bu=[];function Hu(){for(var r=0;r<Bu.length;r++)Bu[r]._workInProgressVersionPrimary=null;Bu.length=0}var ll=ie.ReactCurrentDispatcher,Wu=ie.ReactCurrentBatchConfig,Fi=0,dt=null,Ct=null,It=null,cl=!1,To=!1,Io=0,kw=0;function Ut(){throw Error(n(321))}function Vu(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Dn(r[a],i[a]))return!1;return!0}function $u(r,i,a,c,d,h){if(Fi=h,dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ll.current=r===null||r.memoizedState===null?Tw:Iw,r=a(c,d),To){h=0;do{if(To=!1,Io=0,25<=h)throw Error(n(301));h+=1,It=Ct=null,i.updateQueue=null,ll.current=Nw,r=a(c,d)}while(To)}if(ll.current=fl,i=Ct!==null&&Ct.next!==null,Fi=0,It=Ct=dt=null,cl=!1,i)throw Error(n(300));return r}function qu(){var r=Io!==0;return Io=0,r}function Jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=r:It=It.next=r,It}function _n(){if(Ct===null){var r=dt.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var i=It===null?dt.memoizedState:It.next;if(i!==null)It=i,Ct=r;else{if(r===null)throw Error(n(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},It===null?dt.memoizedState=It=r:It=It.next=r}return It}function No(r,i){return typeof i=="function"?i(r):i}function Ku(r){var i=_n(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=Ct,d=c.baseQueue,h=a.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}c.baseQueue=d=h,a.pending=null}if(d!==null){h=d.next,c=c.baseState;var w=v=null,k=null,A=h;do{var B=A.lane;if((Fi&B)===B)k!==null&&(k=k.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),c=A.hasEagerState?A.eagerState:r(c,A.action);else{var H={lane:B,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};k===null?(w=k=H,v=c):k=k.next=H,dt.lanes|=B,zi|=B}A=A.next}while(A!==null&&A!==h);k===null?v=c:k.next=w,Dn(c,i.memoizedState)||(Xt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=k,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do h=d.lane,dt.lanes|=h,zi|=h,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Gu(r){var i=_n(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,h=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do h=r(h,v.action),v=v.next;while(v!==d);Dn(h,i.memoizedState)||(Xt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,c]}function om(){}function am(r,i){var a=dt,c=_n(),d=i(),h=!Dn(c.memoizedState,d);if(h&&(c.memoizedState=d,Xt=!0),c=c.queue,Yu(um.bind(null,a,c,r),[r]),c.getSnapshot!==i||h||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ro(9,cm.bind(null,a,c,d,i),void 0,null),Nt===null)throw Error(n(349));Fi&30||lm(a,i,d)}return d}function lm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=dt.updateQueue,i===null?(i={lastEffect:null,stores:null},dt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function cm(r,i,a,c){i.value=a,i.getSnapshot=c,dm(i)&&fm(r)}function um(r,i,a){return a(function(){dm(i)&&fm(r)})}function dm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Dn(r,a)}catch{return!0}}function fm(r){var i=vr(r,1);i!==null&&Mn(i,r,1,-1)}function pm(r){var i=Jn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:r},i.queue=r,r=r.dispatch=Sw.bind(null,dt,r),[i.memoizedState,r]}function Ro(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=dt.updateQueue,i===null?(i={lastEffect:null,stores:null},dt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function hm(){return _n().memoizedState}function ul(r,i,a,c){var d=Jn();dt.flags|=r,d.memoizedState=Ro(1|i,a,void 0,c===void 0?null:c)}function dl(r,i,a,c){var d=_n();c=c===void 0?null:c;var h=void 0;if(Ct!==null){var v=Ct.memoizedState;if(h=v.destroy,c!==null&&Vu(c,v.deps)){d.memoizedState=Ro(i,a,h,c);return}}dt.flags|=r,d.memoizedState=Ro(1|i,a,h,c)}function mm(r,i){return ul(8390656,8,r,i)}function Yu(r,i){return dl(2048,8,r,i)}function gm(r,i){return dl(4,2,r,i)}function vm(r,i){return dl(4,4,r,i)}function ym(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function _m(r,i,a){return a=a!=null?a.concat([r]):null,dl(4,4,ym.bind(null,i,r),a)}function Qu(){}function xm(r,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Vu(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function wm(r,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Vu(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function Em(r,i,a){return Fi&21?(Dn(a,i)||(a=Jp(),dt.lanes|=a,zi|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,Xt=!0),r.memoizedState=a)}function Cw(r,i){var a=qe;qe=a!==0&&4>a?a:4,r(!0);var c=Wu.transition;Wu.transition={};try{r(!1),i()}finally{qe=a,Wu.transition=c}}function km(){return _n().memoizedState}function bw(r,i,a){var c=ni(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Cm(r))bm(i,a);else if(a=tm(r,i,a,c),a!==null){var d=$t();Mn(a,r,c,d),Sm(a,i,c)}}function Sw(r,i,a){var c=ni(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cm(r))bm(i,d);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var v=i.lastRenderedState,w=h(v,a);if(d.hasEagerState=!0,d.eagerState=w,Dn(w,v)){var k=i.interleaved;k===null?(d.next=d,Mu(i)):(d.next=k.next,k.next=d),i.interleaved=d;return}}catch{}finally{}a=tm(r,i,d,c),a!==null&&(d=$t(),Mn(a,r,c,d),Sm(a,i,c))}}function Cm(r){var i=r.alternate;return r===dt||i!==null&&i===dt}function bm(r,i){To=cl=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Sm(r,i,a){if(a&4194240){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Jc(r,a)}}var fl={readContext:yn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},Tw={readContext:yn,useCallback:function(r,i){return Jn().memoizedState=[r,i===void 0?null:i],r},useContext:yn,useEffect:mm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,ul(4194308,4,ym.bind(null,i,r),a)},useLayoutEffect:function(r,i){return ul(4194308,4,r,i)},useInsertionEffect:function(r,i){return ul(4,2,r,i)},useMemo:function(r,i){var a=Jn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=Jn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=bw.bind(null,dt,r),[c.memoizedState,r]},useRef:function(r){var i=Jn();return r={current:r},i.memoizedState=r},useState:pm,useDebugValue:Qu,useDeferredValue:function(r){return Jn().memoizedState=r},useTransition:function(){var r=pm(!1),i=r[0];return r=Cw.bind(null,r[1]),Jn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=dt,d=Jn();if(lt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),Nt===null)throw Error(n(349));Fi&30||lm(c,i,a)}d.memoizedState=a;var h={value:a,getSnapshot:i};return d.queue=h,mm(um.bind(null,c,h,r),[r]),c.flags|=2048,Ro(9,cm.bind(null,c,h,a,i),void 0,null),a},useId:function(){var r=Jn(),i=Nt.identifierPrefix;if(lt){var a=gr,c=mr;a=(c&~(1<<32-Pn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Io++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=kw++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Iw={readContext:yn,useCallback:xm,useContext:yn,useEffect:Yu,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:vm,useMemo:wm,useReducer:Ku,useRef:hm,useState:function(){return Ku(No)},useDebugValue:Qu,useDeferredValue:function(r){var i=_n();return Em(i,Ct.memoizedState,r)},useTransition:function(){var r=Ku(No)[0],i=_n().memoizedState;return[r,i]},useMutableSource:om,useSyncExternalStore:am,useId:km,unstable_isNewReconciler:!1},Nw={readContext:yn,useCallback:xm,useContext:yn,useEffect:Yu,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:vm,useMemo:wm,useReducer:Gu,useRef:hm,useState:function(){return Gu(No)},useDebugValue:Qu,useDeferredValue:function(r){var i=_n();return Ct===null?i.memoizedState=r:Em(i,Ct.memoizedState,r)},useTransition:function(){var r=Gu(No)[0],i=_n().memoizedState;return[r,i]},useMutableSource:om,useSyncExternalStore:am,useId:km,unstable_isNewReconciler:!1};function An(r,i){if(r&&r.defaultProps){i=X({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Xu(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:X({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var pl={isMounted:function(r){return(r=r._reactInternals)?Ve(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=$t(),d=ni(r),h=yr(c,d);h.payload=i,a!=null&&(h.callback=a),i=Jr(r,h,d),i!==null&&(Mn(i,r,d,c),sl(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=$t(),d=ni(r),h=yr(c,d);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Jr(r,h,d),i!==null&&(Mn(i,r,d,c),sl(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=$t(),c=ni(r),d=yr(a,c);d.tag=2,i!=null&&(d.callback=i),i=Jr(r,d,c),i!==null&&(Mn(i,r,c,a),sl(i,r,c))}};function Tm(r,i,a,c,d,h,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,h,v):i.prototype&&i.prototype.isPureReactComponent?!go(a,c)||!go(d,h):!0}function Im(r,i,a){var c=!1,d=Yr,h=i.contextType;return typeof h=="object"&&h!==null?h=yn(h):(d=Qt(i)?Oi:zt.current,c=i.contextTypes,h=(c=c!=null)?xs(r,d):Yr),i=new i(a,h),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=pl,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=h),i}function Nm(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&pl.enqueueReplaceState(i,i.state,null)}function Ju(r,i,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Fu(r);var h=i.contextType;typeof h=="object"&&h!==null?d.context=yn(h):(h=Qt(i)?Oi:zt.current,d.context=xs(r,h)),d.state=r.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(Xu(r,i,h,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&pl.enqueueReplaceState(d,d.state,null),ol(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Is(r,i){try{var a="",c=i;do a+=Te(c),c=c.return;while(c);var d=a}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:r,source:i,stack:d,digest:null}}function Zu(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function ed(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Rw=typeof WeakMap=="function"?WeakMap:Map;function Rm(r,i,a){a=yr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){xl||(xl=!0,md=c),ed(r,i)},a}function Pm(r,i,a){a=yr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){ed(r,i)}}var h=r.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){ed(r,i),typeof c!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Dm(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Rw;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),r=Vw.bind(null,r,i,a),i.then(r,r))}function Om(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Am(r,i,a,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=yr(-1,1),i.tag=2,Jr(a,i,1))),a.lanes|=1),r)}var Pw=ie.ReactCurrentOwner,Xt=!1;function Vt(r,i,a,c){i.child=r===null?em(i,null,a,c):Cs(i,r.child,a,c)}function Lm(r,i,a,c,d){a=a.render;var h=i.ref;return Ss(i,d),c=$u(r,i,a,c,h,d),a=qu(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,_r(r,i,d)):(lt&&a&&Iu(i),i.flags|=1,Vt(r,i,c,d),i.child)}function jm(r,i,a,c,d){if(r===null){var h=a.type;return typeof h=="function"&&!Ed(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=h,Mm(r,i,h,c,d)):(r=Sl(a.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(h=r.child,!(r.lanes&d)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:go,a(v,c)&&r.ref===i.ref)return _r(r,i,d)}return i.flags|=1,r=ii(h,c),r.ref=i.ref,r.return=i,i.child=r}function Mm(r,i,a,c,d){if(r!==null){var h=r.memoizedProps;if(go(h,c)&&r.ref===i.ref)if(Xt=!1,i.pendingProps=c=h,(r.lanes&d)!==0)r.flags&131072&&(Xt=!0);else return i.lanes=r.lanes,_r(r,i,d)}return td(r,i,a,c,d)}function Fm(r,i,a){var c=i.pendingProps,d=c.children,h=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Rs,ln),ln|=a;else{if(!(a&1073741824))return r=h!==null?h.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,et(Rs,ln),ln|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:a,et(Rs,ln),ln|=c}else h!==null?(c=h.baseLanes|a,i.memoizedState=null):c=a,et(Rs,ln),ln|=c;return Vt(r,i,d,a),i.child}function zm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function td(r,i,a,c,d){var h=Qt(a)?Oi:zt.current;return h=xs(i,h),Ss(i,d),a=$u(r,i,a,c,h,d),c=qu(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,_r(r,i,d)):(lt&&c&&Iu(i),i.flags|=1,Vt(r,i,a,d),i.child)}function Um(r,i,a,c,d){if(Qt(a)){var h=!0;Xa(i)}else h=!1;if(Ss(i,d),i.stateNode===null)ml(r,i),Im(i,a,c),Ju(i,a,c,d),c=!0;else if(r===null){var v=i.stateNode,w=i.memoizedProps;v.props=w;var k=v.context,A=a.contextType;typeof A=="object"&&A!==null?A=yn(A):(A=Qt(a)?Oi:zt.current,A=xs(i,A));var B=a.getDerivedStateFromProps,H=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function";H||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==c||k!==A)&&Nm(i,v,c,A),Xr=!1;var z=i.memoizedState;v.state=z,ol(i,c,v,d),k=i.memoizedState,w!==c||z!==k||Yt.current||Xr?(typeof B=="function"&&(Xu(i,a,B,c),k=i.memoizedState),(w=Xr||Tm(i,a,w,c,z,k,A))?(H||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=k),v.props=c,v.state=k,v.context=A,c=w):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,nm(r,i),w=i.memoizedProps,A=i.type===i.elementType?w:An(i.type,w),v.props=A,H=i.pendingProps,z=v.context,k=a.contextType,typeof k=="object"&&k!==null?k=yn(k):(k=Qt(a)?Oi:zt.current,k=xs(i,k));var Z=a.getDerivedStateFromProps;(B=typeof Z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==H||z!==k)&&Nm(i,v,c,k),Xr=!1,z=i.memoizedState,v.state=z,ol(i,c,v,d);var oe=i.memoizedState;w!==H||z!==oe||Yt.current||Xr?(typeof Z=="function"&&(Xu(i,a,Z,c),oe=i.memoizedState),(A=Xr||Tm(i,a,A,c,z,oe,k)||!1)?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,oe,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,oe,k)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===r.memoizedProps&&z===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&z===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=oe),v.props=c,v.state=oe,v.context=k,c=A):(typeof v.componentDidUpdate!="function"||w===r.memoizedProps&&z===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&z===r.memoizedState||(i.flags|=1024),c=!1)}return nd(r,i,a,c,h,d)}function nd(r,i,a,c,d,h){zm(r,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&$h(i,a,!1),_r(r,i,h);c=i.stateNode,Pw.current=i;var w=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&v?(i.child=Cs(i,r.child,null,h),i.child=Cs(i,null,w,h)):Vt(r,i,w,h),i.memoizedState=c.state,d&&$h(i,a,!0),i.child}function Bm(r){var i=r.stateNode;i.pendingContext?Wh(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Wh(r,i.context,!1),zu(r,i.containerInfo)}function Hm(r,i,a,c,d){return ks(),Du(d),i.flags|=256,Vt(r,i,a,c),i.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function id(r){return{baseLanes:r,cachePool:null,transitions:null}}function Wm(r,i,a){var c=i.pendingProps,d=ut.current,h=!1,v=(i.flags&128)!==0,w;if((w=v)||(w=r!==null&&r.memoizedState===null?!1:(d&2)!==0),w?(h=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),et(ut,d&1),r===null)return Pu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,r=c.fallback,h?(c=i.mode,h=i.child,v={mode:"hidden",children:v},!(c&1)&&h!==null?(h.childLanes=0,h.pendingProps=v):h=Tl(v,c,0,null),r=Wi(r,c,a,null),h.return=i,r.return=i,h.sibling=r,i.child=h,i.child.memoizedState=id(a),i.memoizedState=rd,r):sd(i,v));if(d=r.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return Dw(r,i,v,c,w,d,a);if(h){h=c.fallback,v=i.mode,d=r.child,w=d.sibling;var k={mode:"hidden",children:c.children};return!(v&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=k,i.deletions=null):(c=ii(d,k),c.subtreeFlags=d.subtreeFlags&14680064),w!==null?h=ii(w,h):(h=Wi(h,v,a,null),h.flags|=2),h.return=i,c.return=i,c.sibling=h,i.child=c,c=h,h=i.child,v=r.child.memoizedState,v=v===null?id(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=r.childLanes&~a,i.memoizedState=rd,c}return h=r.child,r=h.sibling,c=ii(h,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function sd(r,i){return i=Tl({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function hl(r,i,a,c){return c!==null&&Du(c),Cs(i,r.child,null,a),r=sd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Dw(r,i,a,c,d,h,v){if(a)return i.flags&256?(i.flags&=-257,c=Zu(Error(n(422))),hl(r,i,v,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(h=c.fallback,d=i.mode,c=Tl({mode:"visible",children:c.children},d,0,null),h=Wi(h,d,v,null),h.flags|=2,c.return=i,h.return=i,c.sibling=h,i.child=c,i.mode&1&&Cs(i,r.child,null,v),i.child.memoizedState=id(v),i.memoizedState=rd,h);if(!(i.mode&1))return hl(r,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var w=c.dgst;return c=w,h=Error(n(419)),c=Zu(h,c,void 0),hl(r,i,v,c)}if(w=(v&r.childLanes)!==0,Xt||w){if(c=Nt,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|v)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,vr(r,d),Mn(c,r,d,-1))}return wd(),c=Zu(Error(n(421))),hl(r,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=$w.bind(null,r),d._reactRetry=i,null):(r=h.treeContext,an=Kr(d.nextSibling),on=i,lt=!0,On=null,r!==null&&(gn[vn++]=mr,gn[vn++]=gr,gn[vn++]=Ai,mr=r.id,gr=r.overflow,Ai=i),i=sd(i,c.children),i.flags|=4096,i)}function Vm(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),ju(r.return,i,a)}function od(r,i,a,c,d){var h=r.memoizedState;h===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=a,h.tailMode=d)}function $m(r,i,a){var c=i.pendingProps,d=c.revealOrder,h=c.tail;if(Vt(r,i,c.children,a),c=ut.current,c&2)c=c&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vm(r,a,i);else if(r.tag===19)Vm(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(et(ut,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&al(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),od(i,!1,d,a,h);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&al(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}od(i,!0,a,null,h);break;case"together":od(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ml(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function _r(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),zi|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=ii(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=ii(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Ow(r,i,a){switch(i.tag){case 3:Bm(i),ks();break;case 5:sm(i);break;case 1:Qt(i.type)&&Xa(i);break;case 4:zu(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;et(rl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(et(ut,ut.current&1),i.flags|=128,null):a&i.child.childLanes?Wm(r,i,a):(et(ut,ut.current&1),r=_r(r,i,a),r!==null?r.sibling:null);et(ut,ut.current&1);break;case 19:if(c=(a&i.childLanes)!==0,r.flags&128){if(c)return $m(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),et(ut,ut.current),c)break;return null;case 22:case 23:return i.lanes=0,Fm(r,i,a)}return _r(r,i,a)}var qm,ad,Km,Gm;qm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ad=function(){},Km=function(r,i,a,c){var d=r.memoizedProps;if(d!==c){r=i.stateNode,Mi(Xn.current);var h=null;switch(a){case"input":d=Or(r,d),c=Or(r,c),h=[];break;case"select":d=X({},d,{value:void 0}),c=X({},c,{value:void 0}),h=[];break;case"textarea":d=In(r,d),c=In(r,c),h=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Ga)}hn(a,c);var v;a=null;for(A in d)if(!c.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var w=d[A];for(v in w)w.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(o.hasOwnProperty(A)?h||(h=[]):(h=h||[]).push(A,null));for(A in c){var k=c[A];if(w=d!=null?d[A]:void 0,c.hasOwnProperty(A)&&k!==w&&(k!=null||w!=null))if(A==="style")if(w){for(v in w)!w.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in k)k.hasOwnProperty(v)&&w[v]!==k[v]&&(a||(a={}),a[v]=k[v])}else a||(h||(h=[]),h.push(A,a)),a=k;else A==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,w=w?w.__html:void 0,k!=null&&w!==k&&(h=h||[]).push(A,k)):A==="children"?typeof k!="string"&&typeof k!="number"||(h=h||[]).push(A,""+k):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(o.hasOwnProperty(A)?(k!=null&&A==="onScroll"&&st("scroll",r),h||w===k||(h=[])):(h=h||[]).push(A,k))}a&&(h=h||[]).push("style",a);var A=h;(i.updateQueue=A)&&(i.flags|=4)}},Gm=function(r,i,a,c){a!==c&&(i.flags|=4)};function Po(r,i){if(!lt)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Bt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function Aw(r,i,a){var c=i.pendingProps;switch(Nu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(i),null;case 1:return Qt(i.type)&&Qa(),Bt(i),null;case 3:return c=i.stateNode,Ts(),ot(Yt),ot(zt),Hu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(tl(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,On!==null&&(yd(On),On=null))),ad(r,i),Bt(i),null;case 5:Uu(i);var d=Mi(So.current);if(a=i.type,r!==null&&i.stateNode!=null)Km(r,i,a,c,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Bt(i),null}if(r=Mi(Xn.current),tl(i)){c=i.stateNode,a=i.type;var h=i.memoizedProps;switch(c[Qn]=i,c[wo]=h,r=(i.mode&1)!==0,a){case"dialog":st("cancel",c),st("close",c);break;case"iframe":case"object":case"embed":st("load",c);break;case"video":case"audio":for(d=0;d<yo.length;d++)st(yo[d],c);break;case"source":st("error",c);break;case"img":case"image":case"link":st("error",c),st("load",c);break;case"details":st("toggle",c);break;case"input":bi(c,h),st("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},st("invalid",c);break;case"textarea":Si(c,h),st("invalid",c)}hn(a,h),d=null;for(var v in h)if(h.hasOwnProperty(v)){var w=h[v];v==="children"?typeof w=="string"?c.textContent!==w&&(h.suppressHydrationWarning!==!0&&Ka(c.textContent,w,r),d=["children",w]):typeof w=="number"&&c.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&Ka(c.textContent,w,r),d=["children",""+w]):o.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&st("scroll",c)}switch(a){case"input":un(c),Lr(c,h,!0);break;case"textarea":un(c),de(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=Ga)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ze(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=v.createElement(a,{is:c.is}):(r=v.createElement(a),a==="select"&&(v=r,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):r=v.createElementNS(r,a),r[Qn]=i,r[wo]=c,qm(r,i,!1,!1),i.stateNode=r;e:{switch(v=Yn(a,c),a){case"dialog":st("cancel",r),st("close",r),d=c;break;case"iframe":case"object":case"embed":st("load",r),d=c;break;case"video":case"audio":for(d=0;d<yo.length;d++)st(yo[d],r);d=c;break;case"source":st("error",r),d=c;break;case"img":case"image":case"link":st("error",r),st("load",r),d=c;break;case"details":st("toggle",r),d=c;break;case"input":bi(r,c),d=Or(r,c),st("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=X({},c,{value:void 0}),st("invalid",r);break;case"textarea":Si(r,c),d=In(r,c),st("invalid",r);break;default:d=c}hn(a,d),w=d;for(h in w)if(w.hasOwnProperty(h)){var k=w[h];h==="style"?cr(r,k):h==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Gn(r,k)):h==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&_t(r,k):typeof k=="number"&&_t(r,""+k):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(o.hasOwnProperty(h)?k!=null&&h==="onScroll"&&st("scroll",r):k!=null&&W(r,h,k,v))}switch(a){case"input":un(r),Lr(r,c,!1);break;case"textarea":un(r),de(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Me(c.value));break;case"select":r.multiple=!!c.multiple,h=c.value,h!=null?Ft(r,!!c.multiple,h,!1):c.defaultValue!=null&&Ft(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Ga)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Bt(i),null;case 6:if(r&&i.stateNode!=null)Gm(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=Mi(So.current),Mi(Xn.current),tl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Qn]=i,(h=c.nodeValue!==a)&&(r=on,r!==null))switch(r.tag){case 3:Ka(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ka(c.nodeValue,a,(r.mode&1)!==0)}h&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Qn]=i,i.stateNode=c}return Bt(i),null;case 13:if(ot(ut),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(lt&&an!==null&&i.mode&1&&!(i.flags&128))Xh(),ks(),i.flags|=98560,h=!1;else if(h=tl(i),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(n(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Qn]=i}else ks(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Bt(i),h=!1}else On!==null&&(yd(On),On=null),h=!0;if(!h)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(r===null||ut.current&1?bt===0&&(bt=3):wd())),i.updateQueue!==null&&(i.flags|=4),Bt(i),null);case 4:return Ts(),ad(r,i),r===null&&_o(i.stateNode.containerInfo),Bt(i),null;case 10:return Lu(i.type._context),Bt(i),null;case 17:return Qt(i.type)&&Qa(),Bt(i),null;case 19:if(ot(ut),h=i.memoizedState,h===null)return Bt(i),null;if(c=(i.flags&128)!==0,v=h.rendering,v===null)if(c)Po(h,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(v=al(r),v!==null){for(i.flags|=128,Po(h,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)h=a,r=c,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=r,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,r=v.dependencies,h.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return et(ut,ut.current&1|2),i.child}r=r.sibling}h.tail!==null&&Ze()>Ps&&(i.flags|=128,c=!0,Po(h,!1),i.lanes=4194304)}else{if(!c)if(r=al(v),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Po(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!lt)return Bt(i),null}else 2*Ze()-h.renderingStartTime>Ps&&a!==1073741824&&(i.flags|=128,c=!0,Po(h,!1),i.lanes=4194304);h.isBackwards?(v.sibling=i.child,i.child=v):(a=h.last,a!==null?a.sibling=v:i.child=v,h.last=v)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ze(),i.sibling=null,a=ut.current,et(ut,c?a&1|2:a&1),i):(Bt(i),null);case 22:case 23:return xd(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?ln&1073741824&&(Bt(i),i.subtreeFlags&6&&(i.flags|=8192)):Bt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Lw(r,i){switch(Nu(i),i.tag){case 1:return Qt(i.type)&&Qa(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ts(),ot(Yt),ot(zt),Hu(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Uu(i),null;case 13:if(ot(ut),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ks()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ot(ut),null;case 4:return Ts(),null;case 10:return Lu(i.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var gl=!1,Ht=!1,jw=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ns(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){gt(r,i,c)}else a.current=null}function ld(r,i,a){try{a()}catch(c){gt(r,i,c)}}var Ym=!1;function Mw(r,i){if(xu=ja,r=Th(),fu(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,w=-1,k=-1,A=0,B=0,H=r,z=null;t:for(;;){for(var Z;H!==a||d!==0&&H.nodeType!==3||(w=v+d),H!==h||c!==0&&H.nodeType!==3||(k=v+c),H.nodeType===3&&(v+=H.nodeValue.length),(Z=H.firstChild)!==null;)z=H,H=Z;for(;;){if(H===r)break t;if(z===a&&++A===d&&(w=v),z===h&&++B===c&&(k=v),(Z=H.nextSibling)!==null)break;H=z,z=H.parentNode}H=Z}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(wu={focusedElem:r,selectionRange:a},ja=!1,re=i;re!==null;)if(i=re,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,re=r;else for(;re!==null;){i=re;try{var oe=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ue=oe.memoizedProps,xt=oe.memoizedState,D=i.stateNode,T=D.getSnapshotBeforeUpdate(i.elementType===i.type?ue:An(i.type,ue),xt);D.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=i.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(V){gt(i,i.return,V)}if(r=i.sibling,r!==null){r.return=i.return,re=r;break}re=i.return}return oe=Ym,Ym=!1,oe}function Do(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var h=d.destroy;d.destroy=void 0,h!==void 0&&ld(i,a,h)}d=d.next}while(d!==c)}}function vl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function cd(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Qm(r){var i=r.alternate;i!==null&&(r.alternate=null,Qm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Qn],delete i[wo],delete i[bu],delete i[_w],delete i[xw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xm(r){return r.tag===5||r.tag===3||r.tag===4}function Jm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ud(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ga));else if(c!==4&&(r=r.child,r!==null))for(ud(r,i,a),r=r.sibling;r!==null;)ud(r,i,a),r=r.sibling}function dd(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(dd(r,i,a),r=r.sibling;r!==null;)dd(r,i,a),r=r.sibling}var Ot=null,Ln=!1;function Zr(r,i,a){for(a=a.child;a!==null;)Zm(r,i,a),a=a.sibling}function Zm(r,i,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Rn,a)}catch{}switch(a.tag){case 5:Ht||Ns(a,i);case 6:var c=Ot,d=Ln;Ot=null,Zr(r,i,a),Ot=c,Ln=d,Ot!==null&&(Ln?(r=Ot,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ot.removeChild(a.stateNode));break;case 18:Ot!==null&&(Ln?(r=Ot,a=a.stateNode,r.nodeType===8?Cu(r.parentNode,a):r.nodeType===1&&Cu(r,a),co(r)):Cu(Ot,a.stateNode));break;case 4:c=Ot,d=Ln,Ot=a.stateNode.containerInfo,Ln=!0,Zr(r,i,a),Ot=c,Ln=d;break;case 0:case 11:case 14:case 15:if(!Ht&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var h=d,v=h.destroy;h=h.tag,v!==void 0&&(h&2||h&4)&&ld(a,i,v),d=d.next}while(d!==c)}Zr(r,i,a);break;case 1:if(!Ht&&(Ns(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(w){gt(a,i,w)}Zr(r,i,a);break;case 21:Zr(r,i,a);break;case 22:a.mode&1?(Ht=(c=Ht)||a.memoizedState!==null,Zr(r,i,a),Ht=c):Zr(r,i,a);break;default:Zr(r,i,a)}}function eg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new jw),i.forEach(function(c){var d=qw.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function jn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var h=r,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 5:Ot=w.stateNode,Ln=!1;break e;case 3:Ot=w.stateNode.containerInfo,Ln=!0;break e;case 4:Ot=w.stateNode.containerInfo,Ln=!0;break e}w=w.return}if(Ot===null)throw Error(n(160));Zm(h,v,d),Ot=null,Ln=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(A){gt(d,i,A)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)tg(i,r),i=i.sibling}function tg(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(i,r),Zn(r),c&4){try{Do(3,r,r.return),vl(3,r)}catch(ue){gt(r,r.return,ue)}try{Do(5,r,r.return)}catch(ue){gt(r,r.return,ue)}}break;case 1:jn(i,r),Zn(r),c&512&&a!==null&&Ns(a,a.return);break;case 5:if(jn(i,r),Zn(r),c&512&&a!==null&&Ns(a,a.return),r.flags&32){var d=r.stateNode;try{_t(d,"")}catch(ue){gt(r,r.return,ue)}}if(c&4&&(d=r.stateNode,d!=null)){var h=r.memoizedProps,v=a!==null?a.memoizedProps:h,w=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&Ar(d,h),Yn(w,v);var A=Yn(w,h);for(v=0;v<k.length;v+=2){var B=k[v],H=k[v+1];B==="style"?cr(d,H):B==="dangerouslySetInnerHTML"?Gn(d,H):B==="children"?_t(d,H):W(d,B,H,A)}switch(w){case"input":dn(d,h);break;case"textarea":Y(d,h);break;case"select":var z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var Z=h.value;Z!=null?Ft(d,!!h.multiple,Z,!1):z!==!!h.multiple&&(h.defaultValue!=null?Ft(d,!!h.multiple,h.defaultValue,!0):Ft(d,!!h.multiple,h.multiple?[]:"",!1))}d[wo]=h}catch(ue){gt(r,r.return,ue)}}break;case 6:if(jn(i,r),Zn(r),c&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,h=r.memoizedProps;try{d.nodeValue=h}catch(ue){gt(r,r.return,ue)}}break;case 3:if(jn(i,r),Zn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{co(i.containerInfo)}catch(ue){gt(r,r.return,ue)}break;case 4:jn(i,r),Zn(r);break;case 13:jn(i,r),Zn(r),d=r.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(hd=Ze())),c&4&&eg(r);break;case 22:if(B=a!==null&&a.memoizedState!==null,r.mode&1?(Ht=(A=Ht)||B,jn(i,r),Ht=A):jn(i,r),Zn(r),c&8192){if(A=r.memoizedState!==null,(r.stateNode.isHidden=A)&&!B&&r.mode&1)for(re=r,B=r.child;B!==null;){for(H=re=B;re!==null;){switch(z=re,Z=z.child,z.tag){case 0:case 11:case 14:case 15:Do(4,z,z.return);break;case 1:Ns(z,z.return);var oe=z.stateNode;if(typeof oe.componentWillUnmount=="function"){c=z,a=z.return;try{i=c,oe.props=i.memoizedProps,oe.state=i.memoizedState,oe.componentWillUnmount()}catch(ue){gt(c,a,ue)}}break;case 5:Ns(z,z.return);break;case 22:if(z.memoizedState!==null){ig(H);continue}}Z!==null?(Z.return=z,re=Z):ig(H)}B=B.sibling}e:for(B=null,H=r;;){if(H.tag===5){if(B===null){B=H;try{d=H.stateNode,A?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=H.stateNode,k=H.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,w.style.display=lr("display",v))}catch(ue){gt(r,r.return,ue)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=A?"":H.memoizedProps}catch(ue){gt(r,r.return,ue)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===r)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===r)break e;for(;H.sibling===null;){if(H.return===null||H.return===r)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:jn(i,r),Zn(r),c&4&&eg(r);break;case 21:break;default:jn(i,r),Zn(r)}}function Zn(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Xm(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(_t(d,""),c.flags&=-33);var h=Jm(r);dd(r,h,d);break;case 3:case 4:var v=c.stateNode.containerInfo,w=Jm(r);ud(r,w,v);break;default:throw Error(n(161))}}catch(k){gt(r,r.return,k)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Fw(r,i,a){re=r,ng(r)}function ng(r,i,a){for(var c=(r.mode&1)!==0;re!==null;){var d=re,h=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||gl;if(!v){var w=d.alternate,k=w!==null&&w.memoizedState!==null||Ht;w=gl;var A=Ht;if(gl=v,(Ht=k)&&!A)for(re=d;re!==null;)v=re,k=v.child,v.tag===22&&v.memoizedState!==null?sg(d):k!==null?(k.return=v,re=k):sg(d);for(;h!==null;)re=h,ng(h),h=h.sibling;re=d,gl=w,Ht=A}rg(r)}else d.subtreeFlags&8772&&h!==null?(h.return=d,re=h):rg(r)}}function rg(r){for(;re!==null;){var i=re;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Ht||vl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ht)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:An(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=i.updateQueue;h!==null&&im(i,h,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}im(i,v,a)}break;case 5:var w=i.stateNode;if(a===null&&i.flags&4){a=w;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var A=i.alternate;if(A!==null){var B=A.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&co(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ht||i.flags&512&&cd(i)}catch(z){gt(i,i.return,z)}}if(i===r){re=null;break}if(a=i.sibling,a!==null){a.return=i.return,re=a;break}re=i.return}}function ig(r){for(;re!==null;){var i=re;if(i===r){re=null;break}var a=i.sibling;if(a!==null){a.return=i.return,re=a;break}re=i.return}}function sg(r){for(;re!==null;){var i=re;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{vl(4,i)}catch(k){gt(i,a,k)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(k){gt(i,d,k)}}var h=i.return;try{cd(i)}catch(k){gt(i,h,k)}break;case 5:var v=i.return;try{cd(i)}catch(k){gt(i,v,k)}}}catch(k){gt(i,i.return,k)}if(i===r){re=null;break}var w=i.sibling;if(w!==null){w.return=i.return,re=w;break}re=i.return}}var zw=Math.ceil,yl=ie.ReactCurrentDispatcher,fd=ie.ReactCurrentOwner,xn=ie.ReactCurrentBatchConfig,Ue=0,Nt=null,wt=null,At=0,ln=0,Rs=Gr(0),bt=0,Oo=null,zi=0,_l=0,pd=0,Ao=null,Jt=null,hd=0,Ps=1/0,xr=null,xl=!1,md=null,ei=null,wl=!1,ti=null,El=0,Lo=0,gd=null,kl=-1,Cl=0;function $t(){return Ue&6?Ze():kl!==-1?kl:kl=Ze()}function ni(r){return r.mode&1?Ue&2&&At!==0?At&-At:Ew.transition!==null?(Cl===0&&(Cl=Jp()),Cl):(r=qe,r!==0||(r=window.event,r=r===void 0?16:ah(r.type)),r):1}function Mn(r,i,a,c){if(50<Lo)throw Lo=0,gd=null,Error(n(185));io(r,a,c),(!(Ue&2)||r!==Nt)&&(r===Nt&&(!(Ue&2)&&(_l|=a),bt===4&&ri(r,At)),Zt(r,c),a===1&&Ue===0&&!(i.mode&1)&&(Ps=Ze()+500,Ja&&Qr()))}function Zt(r,i){var a=r.callbackNode;Ex(r,i);var c=Oa(r,r===Nt?At:0);if(c===0)a!==null&&cs(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&cs(a),i===1)r.tag===0?ww(ag.bind(null,r)):qh(ag.bind(null,r)),vw(function(){!(Ue&6)&&Qr()}),a=null;else{switch(Zp(c)){case 1:a=$e;break;case 4:a=kt;break;case 16:a=fr;break;case 536870912:a=ct;break;default:a=fr}a=mg(a,og.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function og(r,i){if(kl=-1,Cl=0,Ue&6)throw Error(n(327));var a=r.callbackNode;if(Ds()&&r.callbackNode!==a)return null;var c=Oa(r,r===Nt?At:0);if(c===0)return null;if(c&30||c&r.expiredLanes||i)i=bl(r,c);else{i=c;var d=Ue;Ue|=2;var h=cg();(Nt!==r||At!==i)&&(xr=null,Ps=Ze()+500,Bi(r,i));do try{Hw();break}catch(w){lg(r,w)}while(!0);Au(),yl.current=h,Ue=d,wt!==null?i=0:(Nt=null,At=0,i=bt)}if(i!==0){if(i===2&&(d=Qc(r),d!==0&&(c=d,i=vd(r,d))),i===1)throw a=Oo,Bi(r,0),ri(r,c),Zt(r,Ze()),a;if(i===6)ri(r,c);else{if(d=r.current.alternate,!(c&30)&&!Uw(d)&&(i=bl(r,c),i===2&&(h=Qc(r),h!==0&&(c=h,i=vd(r,h))),i===1))throw a=Oo,Bi(r,0),ri(r,c),Zt(r,Ze()),a;switch(r.finishedWork=d,r.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:Hi(r,Jt,xr);break;case 3:if(ri(r,c),(c&130023424)===c&&(i=hd+500-Ze(),10<i)){if(Oa(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){$t(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=ku(Hi.bind(null,r,Jt,xr),i);break}Hi(r,Jt,xr);break;case 4:if(ri(r,c),(c&4194240)===c)break;for(i=r.eventTimes,d=-1;0<c;){var v=31-Pn(c);h=1<<v,v=i[v],v>d&&(d=v),c&=~h}if(c=d,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*zw(c/1960))-c,10<c){r.timeoutHandle=ku(Hi.bind(null,r,Jt,xr),c);break}Hi(r,Jt,xr);break;case 5:Hi(r,Jt,xr);break;default:throw Error(n(329))}}}return Zt(r,Ze()),r.callbackNode===a?og.bind(null,r):null}function vd(r,i){var a=Ao;return r.current.memoizedState.isDehydrated&&(Bi(r,i).flags|=256),r=bl(r,i),r!==2&&(i=Jt,Jt=a,i!==null&&yd(i)),r}function yd(r){Jt===null?Jt=r:Jt.push.apply(Jt,r)}function Uw(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],h=d.getSnapshot;d=d.value;try{if(!Dn(h(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(r,i){for(i&=~pd,i&=~_l,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Pn(i),c=1<<a;r[a]=-1,i&=~c}}function ag(r){if(Ue&6)throw Error(n(327));Ds();var i=Oa(r,0);if(!(i&1))return Zt(r,Ze()),null;var a=bl(r,i);if(r.tag!==0&&a===2){var c=Qc(r);c!==0&&(i=c,a=vd(r,c))}if(a===1)throw a=Oo,Bi(r,0),ri(r,i),Zt(r,Ze()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Hi(r,Jt,xr),Zt(r,Ze()),null}function _d(r,i){var a=Ue;Ue|=1;try{return r(i)}finally{Ue=a,Ue===0&&(Ps=Ze()+500,Ja&&Qr())}}function Ui(r){ti!==null&&ti.tag===0&&!(Ue&6)&&Ds();var i=Ue;Ue|=1;var a=xn.transition,c=qe;try{if(xn.transition=null,qe=1,r)return r()}finally{qe=c,xn.transition=a,Ue=i,!(Ue&6)&&Qr()}}function xd(){ln=Rs.current,ot(Rs)}function Bi(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,gw(a)),wt!==null)for(a=wt.return;a!==null;){var c=a;switch(Nu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Qa();break;case 3:Ts(),ot(Yt),ot(zt),Hu();break;case 5:Uu(c);break;case 4:Ts();break;case 13:ot(ut);break;case 19:ot(ut);break;case 10:Lu(c.type._context);break;case 22:case 23:xd()}a=a.return}if(Nt=r,wt=r=ii(r.current,null),At=ln=i,bt=0,Oo=null,pd=_l=zi=0,Jt=Ao=null,ji!==null){for(i=0;i<ji.length;i++)if(a=ji[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,h=a.pending;if(h!==null){var v=h.next;h.next=d,c.next=v}a.pending=c}ji=null}return r}function lg(r,i){do{var a=wt;try{if(Au(),ll.current=fl,cl){for(var c=dt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}cl=!1}if(Fi=0,It=Ct=dt=null,To=!1,Io=0,fd.current=null,a===null||a.return===null){bt=1,Oo=i,wt=null;break}e:{var h=r,v=a.return,w=a,k=i;if(i=At,w.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var A=k,B=w,H=B.tag;if(!(B.mode&1)&&(H===0||H===11||H===15)){var z=B.alternate;z?(B.updateQueue=z.updateQueue,B.memoizedState=z.memoizedState,B.lanes=z.lanes):(B.updateQueue=null,B.memoizedState=null)}var Z=Om(v);if(Z!==null){Z.flags&=-257,Am(Z,v,w,h,i),Z.mode&1&&Dm(h,A,i),i=Z,k=A;var oe=i.updateQueue;if(oe===null){var ue=new Set;ue.add(k),i.updateQueue=ue}else oe.add(k);break e}else{if(!(i&1)){Dm(h,A,i),wd();break e}k=Error(n(426))}}else if(lt&&w.mode&1){var xt=Om(v);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),Am(xt,v,w,h,i),Du(Is(k,w));break e}}h=k=Is(k,w),bt!==4&&(bt=2),Ao===null?Ao=[h]:Ao.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,i&=-i,h.lanes|=i;var D=Rm(h,k,i);rm(h,D);break e;case 1:w=k;var T=h.type,O=h.stateNode;if(!(h.flags&128)&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ei===null||!ei.has(O)))){h.flags|=65536,i&=-i,h.lanes|=i;var V=Pm(h,w,i);rm(h,V);break e}}h=h.return}while(h!==null)}dg(a)}catch(pe){i=pe,wt===a&&a!==null&&(wt=a=a.return);continue}break}while(!0)}function cg(){var r=yl.current;return yl.current=fl,r===null?fl:r}function wd(){(bt===0||bt===3||bt===2)&&(bt=4),Nt===null||!(zi&268435455)&&!(_l&268435455)||ri(Nt,At)}function bl(r,i){var a=Ue;Ue|=2;var c=cg();(Nt!==r||At!==i)&&(xr=null,Bi(r,i));do try{Bw();break}catch(d){lg(r,d)}while(!0);if(Au(),Ue=a,yl.current=c,wt!==null)throw Error(n(261));return Nt=null,At=0,bt}function Bw(){for(;wt!==null;)ug(wt)}function Hw(){for(;wt!==null&&!Ri();)ug(wt)}function ug(r){var i=hg(r.alternate,r,ln);r.memoizedProps=r.pendingProps,i===null?dg(r):wt=i,fd.current=null}function dg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=Lw(a,i),a!==null){a.flags&=32767,wt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,wt=null;return}}else if(a=Aw(a,i,ln),a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=r}while(i!==null);bt===0&&(bt=5)}function Hi(r,i,a){var c=qe,d=xn.transition;try{xn.transition=null,qe=1,Ww(r,i,a,c)}finally{xn.transition=d,qe=c}return null}function Ww(r,i,a,c){do Ds();while(ti!==null);if(Ue&6)throw Error(n(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var h=a.lanes|a.childLanes;if(kx(r,h),r===Nt&&(wt=Nt=null,At=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wl||(wl=!0,mg(fr,function(){return Ds(),null})),h=(a.flags&15990)!==0,a.subtreeFlags&15990||h){h=xn.transition,xn.transition=null;var v=qe;qe=1;var w=Ue;Ue|=4,fd.current=null,Mw(r,a),tg(a,r),cw(wu),ja=!!xu,wu=xu=null,r.current=a,Fw(a),dr(),Ue=w,qe=v,xn.transition=h}else r.current=a;if(wl&&(wl=!1,ti=r,El=d),h=r.pendingLanes,h===0&&(ei=null),Yc(a.stateNode),Zt(r,Ze()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(xl)throw xl=!1,r=md,md=null,r;return El&1&&r.tag!==0&&Ds(),h=r.pendingLanes,h&1?r===gd?Lo++:(Lo=0,gd=r):Lo=0,Qr(),null}function Ds(){if(ti!==null){var r=Zp(El),i=xn.transition,a=qe;try{if(xn.transition=null,qe=16>r?16:r,ti===null)var c=!1;else{if(r=ti,ti=null,El=0,Ue&6)throw Error(n(331));var d=Ue;for(Ue|=4,re=r.current;re!==null;){var h=re,v=h.child;if(re.flags&16){var w=h.deletions;if(w!==null){for(var k=0;k<w.length;k++){var A=w[k];for(re=A;re!==null;){var B=re;switch(B.tag){case 0:case 11:case 15:Do(8,B,h)}var H=B.child;if(H!==null)H.return=B,re=H;else for(;re!==null;){B=re;var z=B.sibling,Z=B.return;if(Qm(B),B===A){re=null;break}if(z!==null){z.return=Z,re=z;break}re=Z}}}var oe=h.alternate;if(oe!==null){var ue=oe.child;if(ue!==null){oe.child=null;do{var xt=ue.sibling;ue.sibling=null,ue=xt}while(ue!==null)}}re=h}}if(h.subtreeFlags&2064&&v!==null)v.return=h,re=v;else e:for(;re!==null;){if(h=re,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Do(9,h,h.return)}var D=h.sibling;if(D!==null){D.return=h.return,re=D;break e}re=h.return}}var T=r.current;for(re=T;re!==null;){v=re;var O=v.child;if(v.subtreeFlags&2064&&O!==null)O.return=v,re=O;else e:for(v=T;re!==null;){if(w=re,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:vl(9,w)}}catch(pe){gt(w,w.return,pe)}if(w===v){re=null;break e}var V=w.sibling;if(V!==null){V.return=w.return,re=V;break e}re=w.return}}if(Ue=d,Qr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Rn,r)}catch{}c=!0}return c}finally{qe=a,xn.transition=i}}return!1}function fg(r,i,a){i=Is(a,i),i=Rm(r,i,1),r=Jr(r,i,1),i=$t(),r!==null&&(io(r,1,i),Zt(r,i))}function gt(r,i,a){if(r.tag===3)fg(r,r,a);else for(;i!==null;){if(i.tag===3){fg(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ei===null||!ei.has(c))){r=Is(a,r),r=Pm(i,r,1),i=Jr(i,r,1),r=$t(),i!==null&&(io(i,1,r),Zt(i,r));break}}i=i.return}}function Vw(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=$t(),r.pingedLanes|=r.suspendedLanes&a,Nt===r&&(At&a)===a&&(bt===4||bt===3&&(At&130023424)===At&&500>Ze()-hd?Bi(r,0):pd|=a),Zt(r,i)}function pg(r,i){i===0&&(r.mode&1?(i=Da,Da<<=1,!(Da&130023424)&&(Da=4194304)):i=1);var a=$t();r=vr(r,i),r!==null&&(io(r,i,a),Zt(r,a))}function $w(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),pg(r,a)}function qw(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),pg(r,a)}var hg;hg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Yt.current)Xt=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return Xt=!1,Ow(r,i,a);Xt=!!(r.flags&131072)}else Xt=!1,lt&&i.flags&1048576&&Kh(i,el,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ml(r,i),r=i.pendingProps;var d=xs(i,zt.current);Ss(i,a),d=$u(null,i,c,r,d,a);var h=qu();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qt(c)?(h=!0,Xa(i)):h=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Fu(i),d.updater=pl,i.stateNode=d,d._reactInternals=i,Ju(i,c,r,a),i=nd(null,i,c,!0,h,a)):(i.tag=0,lt&&h&&Iu(i),Vt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ml(r,i),r=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=Gw(c),r=An(c,r),d){case 0:i=td(null,i,c,r,a);break e;case 1:i=Um(null,i,c,r,a);break e;case 11:i=Lm(null,i,c,r,a);break e;case 14:i=jm(null,i,c,An(c.type,r),a);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:An(c,d),td(r,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:An(c,d),Um(r,i,c,d,a);case 3:e:{if(Bm(i),r===null)throw Error(n(387));c=i.pendingProps,h=i.memoizedState,d=h.element,nm(r,i),ol(i,c,null,a);var v=i.memoizedState;if(c=v.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){d=Is(Error(n(423)),i),i=Hm(r,i,c,a,d);break e}else if(c!==d){d=Is(Error(n(424)),i),i=Hm(r,i,c,a,d);break e}else for(an=Kr(i.stateNode.containerInfo.firstChild),on=i,lt=!0,On=null,a=em(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ks(),c===d){i=_r(r,i,a);break e}Vt(r,i,c,a)}i=i.child}return i;case 5:return sm(i),r===null&&Pu(i),c=i.type,d=i.pendingProps,h=r!==null?r.memoizedProps:null,v=d.children,Eu(c,d)?v=null:h!==null&&Eu(c,h)&&(i.flags|=32),zm(r,i),Vt(r,i,v,a),i.child;case 6:return r===null&&Pu(i),null;case 13:return Wm(r,i,a);case 4:return zu(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Cs(i,null,c,a):Vt(r,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:An(c,d),Lm(r,i,c,d,a);case 7:return Vt(r,i,i.pendingProps,a),i.child;case 8:return Vt(r,i,i.pendingProps.children,a),i.child;case 12:return Vt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,h=i.memoizedProps,v=d.value,et(rl,c._currentValue),c._currentValue=v,h!==null)if(Dn(h.value,v)){if(h.children===d.children&&!Yt.current){i=_r(r,i,a);break e}}else for(h=i.child,h!==null&&(h.return=i);h!==null;){var w=h.dependencies;if(w!==null){v=h.child;for(var k=w.firstContext;k!==null;){if(k.context===c){if(h.tag===1){k=yr(-1,a&-a),k.tag=2;var A=h.updateQueue;if(A!==null){A=A.shared;var B=A.pending;B===null?k.next=k:(k.next=B.next,B.next=k),A.pending=k}}h.lanes|=a,k=h.alternate,k!==null&&(k.lanes|=a),ju(h.return,a,i),w.lanes|=a;break}k=k.next}}else if(h.tag===10)v=h.type===i.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(n(341));v.lanes|=a,w=v.alternate,w!==null&&(w.lanes|=a),ju(v,a,i),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===i){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}Vt(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Ss(i,a),d=yn(d),c=c(d),i.flags|=1,Vt(r,i,c,a),i.child;case 14:return c=i.type,d=An(c,i.pendingProps),d=An(c.type,d),jm(r,i,c,d,a);case 15:return Mm(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:An(c,d),ml(r,i),i.tag=1,Qt(c)?(r=!0,Xa(i)):r=!1,Ss(i,a),Im(i,c,d),Ju(i,c,d,a),nd(null,i,c,!0,r,a);case 19:return $m(r,i,a);case 22:return Fm(r,i,a)}throw Error(n(156,i.tag))};function mg(r,i){return nn(r,i)}function Kw(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(r,i,a,c){return new Kw(r,i,a,c)}function Ed(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Gw(r){if(typeof r=="function")return Ed(r)?1:0;if(r!=null){if(r=r.$$typeof,r===we)return 11;if(r===ge)return 14}return 2}function ii(r,i){var a=r.alternate;return a===null?(a=wn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Sl(r,i,a,c,d,h){var v=2;if(c=r,typeof r=="function")Ed(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case ce:return Wi(a.children,d,h,i);case G:v=8,d|=8;break;case ae:return r=wn(12,a,i,d|2),r.elementType=ae,r.lanes=h,r;case ye:return r=wn(13,a,i,d),r.elementType=ye,r.lanes=h,r;case Se:return r=wn(19,a,i,d),r.elementType=Se,r.lanes=h,r;case Fe:return Tl(a,d,h,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case se:v=10;break e;case Ne:v=9;break e;case we:v=11;break e;case ge:v=14;break e;case Qe:v=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=wn(v,a,i,d),i.elementType=r,i.type=c,i.lanes=h,i}function Wi(r,i,a,c){return r=wn(7,r,c,i),r.lanes=a,r}function Tl(r,i,a,c){return r=wn(22,r,c,i),r.elementType=Fe,r.lanes=a,r.stateNode={isHidden:!1},r}function kd(r,i,a){return r=wn(6,r,null,i),r.lanes=a,r}function Cd(r,i,a){return i=wn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Yw(r,i,a,c,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xc(0),this.expirationTimes=Xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bd(r,i,a,c,d,h,v,w,k){return r=new Yw(r,i,a,w,k),i===1?(i=1,h===!0&&(i|=8)):i=0,h=wn(3,null,null,i),r.current=h,h.stateNode=r,h.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(h),r}function Qw(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function gg(r){if(!r)return Yr;r=r._reactInternals;e:{if(Ve(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Qt(a))return Vh(r,a,i)}return i}function vg(r,i,a,c,d,h,v,w,k){return r=bd(a,c,!0,r,d,h,v,w,k),r.context=gg(null),a=r.current,c=$t(),d=ni(a),h=yr(c,d),h.callback=i??null,Jr(a,h,d),r.current.lanes=d,io(r,d,c),Zt(r,c),r}function Il(r,i,a,c){var d=i.current,h=$t(),v=ni(d);return a=gg(a),i.context===null?i.context=a:i.pendingContext=a,i=yr(h,v),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=Jr(d,i,v),r!==null&&(Mn(r,d,v,h),sl(r,d,v)),v}function Nl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function yg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Sd(r,i){yg(r,i),(r=r.alternate)&&yg(r,i)}var _g=typeof reportError=="function"?reportError:function(r){console.error(r)};function Td(r){this._internalRoot=r}Rl.prototype.render=Td.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Il(r,i,null,null)},Rl.prototype.unmount=Td.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ui(function(){Il(null,r,null,null)}),i[pr]=null}};function Rl(r){this._internalRoot=r}Rl.prototype.unstable_scheduleHydration=function(r){if(r){var i=nh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Vr.length&&i!==0&&i<Vr[a].priority;a++);Vr.splice(a,0,r),a===0&&sh(r)}};function Id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Pl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xg(){}function Xw(r,i,a,c,d){if(d){if(typeof c=="function"){var h=c;c=function(){var A=Nl(v);h.call(A)}}var v=vg(i,c,r,0,null,!1,!1,"",xg);return r._reactRootContainer=v,r[pr]=v.current,_o(r.nodeType===8?r.parentNode:r),Ui(),v}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var w=c;c=function(){var A=Nl(k);w.call(A)}}var k=bd(r,0,!1,null,null,!1,!1,"",xg);return r._reactRootContainer=k,r[pr]=k.current,_o(r.nodeType===8?r.parentNode:r),Ui(function(){Il(i,k,a,c)}),k}function Dl(r,i,a,c,d){var h=a._reactRootContainer;if(h){var v=h;if(typeof d=="function"){var w=d;d=function(){var k=Nl(v);w.call(k)}}Il(i,v,r,d)}else v=Xw(a,i,r,d,c);return Nl(v)}eh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=ro(i.pendingLanes);a!==0&&(Jc(i,a|1),Zt(i,Ze()),!(Ue&6)&&(Ps=Ze()+500,Qr()))}break;case 13:Ui(function(){var c=vr(r,1);if(c!==null){var d=$t();Mn(c,r,1,d)}}),Sd(r,1)}},Zc=function(r){if(r.tag===13){var i=vr(r,134217728);if(i!==null){var a=$t();Mn(i,r,134217728,a)}Sd(r,134217728)}},th=function(r){if(r.tag===13){var i=ni(r),a=vr(r,i);if(a!==null){var c=$t();Mn(a,r,i,c)}Sd(r,i)}},nh=function(){return qe},rh=function(r,i){var a=qe;try{return qe=r,i()}finally{qe=a}},ls=function(r,i,a){switch(i){case"input":if(dn(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var d=Ya(c);if(!d)throw Error(n(90));Tn(c),dn(c,d)}}}break;case"textarea":Y(r,a);break;case"select":i=a.value,i!=null&&Ft(r,!!a.multiple,i,!1)}},Ra=_d,b=Ui;var Jw={usingClientEntryPoint:!1,Events:[Eo,ys,Ya,Ni,Na,_d]},jo={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zw={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ur(r),r===null?null:r.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Rn=Ol.inject(Zw),rn=Ol}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jw,en.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(i))throw Error(n(200));return Qw(r,i,null,a)},en.createRoot=function(r,i){if(!Id(r))throw Error(n(299));var a=!1,c="",d=_g;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=bd(r,1,!1,null,null,a,!1,c,d),r[pr]=i.current,_o(r.nodeType===8?r.parentNode:r),new Td(i)},en.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Ur(i),r=r===null?null:r.stateNode,r},en.flushSync=function(r){return Ui(r)},en.hydrate=function(r,i,a){if(!Pl(i))throw Error(n(200));return Dl(null,r,i,!0,a)},en.hydrateRoot=function(r,i,a){if(!Id(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,d=!1,h="",v=_g;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=vg(i,null,r,1,a??null,d,!1,h,v),r[pr]=i.current,_o(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Rl(i)},en.render=function(r,i,a){if(!Pl(i))throw Error(n(200));return Dl(null,r,i,!1,a)},en.unmountComponentAtNode=function(r){if(!Pl(r))throw Error(n(40));return r._reactRootContainer?(Ui(function(){Dl(null,null,r,!1,function(){r._reactRootContainer=null,r[pr]=null})}),!0):!1},en.unstable_batchedUpdates=_d,en.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!Pl(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Dl(r,i,a,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var Ig;function ky(){if(Ig)return Pd.exports;Ig=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pd.exports=o1(),Pd.exports}var Ng;function a1(){if(Ng)return Al;Ng=1;var t=ky();return Al.createRoot=t.createRoot,Al.hydrateRoot=t.hydrateRoot,Al}var l1=a1(),Fo={},Rg;function c1(){if(Rg)return Fo;Rg=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.parse=u,Fo.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,E){const S=new l,I=x.length;if(I<2)return S;const L=(E==null?void 0:E.decode)||y;let j=0;do{const $=x.indexOf("=",j);if($===-1)break;const W=x.indexOf(";",j),ie=W===-1?I:W;if($>ie){j=x.lastIndexOf(";",$-1)+1;continue}const R=f(x,j,$),ee=p(x,$,R),ce=x.slice(R,ee);if(S[ce]===void 0){let G=f(x,$+1,ie),ae=p(x,ie,G);const se=L(x.slice(G,ae));S[ce]=se}j=ie+1}while(j<I);return S}function f(x,E,S){do{const I=x.charCodeAt(E);if(I!==32&&I!==9)return E}while(++E<S);return S}function p(x,E,S){for(;E>S;){const I=x.charCodeAt(--E);if(I!==32&&I!==9)return E+1}return S}function m(x,E,S){const I=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const L=I(E);if(!e.test(L))throw new TypeError(`argument val is invalid: ${E}`);let j=x+"="+L;if(!S)return j;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);j+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);j+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);j+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);j+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(j+="; HttpOnly"),S.secure&&(j+="; Secure"),S.partitioned&&(j+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return j}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function _(x){return o.call(x)==="[object Date]"}return Fo}c1();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pg="popstate";function u1(t={}){function e(s,o){let{pathname:l,search:u,hash:f}=s.location;return ea("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:_i(o)}return f1(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d1(){return Math.random().toString(36).substring(2,10)}function Dg(t,e){return{usr:t.state,key:t.key,idx:e}}function ea(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ki(e):e,state:n,key:e&&e.key||s||d1()}}function _i({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function f1(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,f="POP",p=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let L=y(),j=L==null?null:L-m;m=L,p&&p({action:f,location:I.location,delta:j})}function x(L,j){f="PUSH";let $=ea(I.location,L,j);m=y()+1;let W=Dg($,m),ie=I.createHref($);try{u.pushState(W,"",ie)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(ie)}l&&p&&p({action:f,location:I.location,delta:1})}function E(L,j){f="REPLACE";let $=ea(I.location,L,j);m=y();let W=Dg($,m),ie=I.createHref($);u.replaceState(W,"",ie),l&&p&&p({action:f,location:I.location,delta:0})}function S(L){let j=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof L=="string"?L:_i(L);return $=$.replace(/ $/,"%20"),je(j,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,j)}let I={get action(){return f},get location(){return t(o,u)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Pg,_),p=L,()=>{o.removeEventListener(Pg,_),p=null}},createHref(L){return e(o,L)},createURL:S,encodeLocation(L){let j=S(L);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:E,go(L){return u.go(L)}};return I}var p1=new Set(["lazy","caseSensitive","path","id","index","children"]);function h1(t){return t.index===!0}function Ql(t,e,n=[],s={}){return t.map((o,l)=>{let u=[...n,String(l)],f=typeof o.id=="string"?o.id:u.join("-");if(je(o.index!==!0||!o.children,"Cannot specify children on an index route"),je(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),h1(o)){let p={...o,...e(o),id:f};return s[f]=p,p}else{let p={...o,...e(o),id:f,children:void 0};return s[f]=p,o.children&&(p.children=Ql(o.children,e,u,s)),p}})}function li(t,e,n="/"){return Hl(t,e,n,!1)}function Hl(t,e,n,s){let o=typeof e=="string"?ki(e):e,l=qn(o.pathname||"/",n);if(l==null)return null;let u=Cy(t);g1(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let m=T1(l);f=b1(u[p],m,s)}return f}function m1(t,e){let{route:n,pathname:s,params:o}=t;return{id:n.id,pathname:s,params:o,data:e[n.id],handle:n.handle}}function Cy(t,e=[],n=[],s=""){let o=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=nr([s,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(je(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Cy(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:k1(m,l.index),routesMeta:y})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let p of by(l.path))o(l,u,p)}),e}function by(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=by(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function g1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var v1=/^:[\w-]+$/,y1=3,_1=2,x1=1,w1=10,E1=-2,Og=t=>t==="*";function k1(t,e){let n=t.split("/"),s=n.length;return n.some(Og)&&(s+=E1),e&&(s+=_1),n.filter(o=>!Og(o)).reduce((o,l)=>o+(v1.test(l)?y1:l===""?x1:w1),s)}function C1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function b1(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],m=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Xl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),x=p.route;if(!_&&m&&n&&!s[s.length-1].route.index&&(_=Xl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:nr([l,_.pathname]),pathnameBase:R1(nr([l,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(l=nr([l,_.pathnameBase]))}return u}function Xl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=S1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:_},x)=>{if(y==="*"){let S=f[x]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const E=f[x];return _&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function S1(t,e=!1,n=!0){jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function T1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jt(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function I1(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?ki(t):t;return{pathname:n?n.startsWith("/")?n:N1(n,e):e,search:P1(s),hash:D1(o)}}function N1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zf(t){let e=Sy(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Uf(t,e,n,s=!1){let o;typeof t=="string"?o=ki(t):(o={...t},je(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),je(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),je(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),_-=1;o.pathname=x.join("/")}f=_>=0?e[_]:"/"}let p=I1(o,f),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var nr=t=>t.join("/").replace(/\/\/+/g,"/"),R1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Jl=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Sc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ty=["POST","PUT","PATCH","DELETE"],O1=new Set(Ty),A1=["GET",...Ty],L1=new Set(A1),j1=new Set([301,302,303,307,308]),M1=new Set([307,308]),Ld={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},F1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Bf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z1=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Iy="remix-router-transitions",Ny=Symbol("ResetLoaderData");function U1(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.mapRouteProperties||z1,o={},l=Ql(t.routes,s,void 0,o),u,f=t.basename||"/",p=t.dataStrategy||$1,m=t.patchRoutesOnNavigation,y={...t.future},_=null,x=new Set,E=null,S=null,I=null,L=t.hydrationData!=null,j=li(l,t.history.location,f),$=null;if(j==null&&!m){let b=En(404,{pathname:t.history.location.pathname}),{matches:P,route:M}=Vg(l);j=P,$={[M.id]:b}}j&&!t.hydrationData&&Ii(j,l,t.history.location.pathname).active&&(j=null);let W;if(j)if(j.some(b=>b.route.lazy))W=!1;else if(!j.some(b=>b.route.loader))W=!0;else{let b=t.hydrationData?t.hydrationData.loaderData:null,P=t.hydrationData?t.hydrationData.errors:null;if(P){let M=j.findIndex(U=>P[U.route.id]!==void 0);W=j.slice(0,M+1).every(U=>!of(U.route,b,P))}else W=j.every(M=>!of(M.route,b,P))}else{W=!1,j=[];let b=Ii(null,l,t.history.location.pathname);b.active&&b.matches&&(j=b.matches)}let ie,R={historyAction:t.history.action,location:t.history.location,matches:j,initialized:W,navigation:Ld,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},ee="POP",ce=!1,G,ae=!1,se=new Map,Ne=null,we=!1,ye=!1,Se=new Set,ge=new Map,Qe=0,Fe=-1,q=new Map,J=new Set,X=new Map,N=new Map,F=new Set,ve=new Map,_e,Te=null;function Re(){if(_=t.history.listen(({action:b,location:P,delta:M})=>{if(_e){_e(),_e=void 0;return}jt(ve.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=Yn({currentLocation:R.location,nextLocation:P,historyAction:b});if(U&&M!=null){let ne=new Promise(fe=>{_e=fe});t.history.go(M*-1),hn(U,{state:"blocked",location:P,proceed(){hn(U,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),ne.then(()=>t.history.go(M))},reset(){let fe=new Map(R.blockers);fe.set(U,zo),Ie({blockers:fe})}});return}return Wt(b,P)}),n){nE(e,se);let b=()=>rE(e,se);e.addEventListener("pagehide",b),Ne=()=>e.removeEventListener("pagehide",b)}return R.initialized||Wt("POP",R.location,{initialHydration:!0}),ie}function We(){_&&_(),Ne&&Ne(),x.clear(),G&&G.abort(),R.fetchers.forEach((b,P)=>ht(P)),R.blockers.forEach((b,P)=>Mr(P))}function Me(b){return x.add(b),()=>x.delete(b)}function Ie(b,P={}){R={...R,...b};let M=[],U=[];R.fetchers.forEach((ne,fe)=>{ne.state==="idle"&&(F.has(fe)?M.push(fe):U.push(fe))}),[...x].forEach(ne=>ne(R,{deletedFetchers:M,viewTransitionOpts:P.viewTransitionOpts,flushSync:P.flushSync===!0})),M.forEach(ne=>ht(ne)),U.forEach(ne=>R.fetchers.delete(ne))}function rt(b,P,{flushSync:M}={}){var Q,ke;let U=R.actionData!=null&&R.navigation.formMethod!=null&&Fn(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Q=b.state)==null?void 0:Q._isRedirect)!==!0,ne;P.actionData?Object.keys(P.actionData).length>0?ne=P.actionData:ne=null:U?ne=R.actionData:ne=null;let fe=P.loaderData?Hg(R.loaderData,P.loaderData,P.matches||[],P.errors):R.loaderData,Ee=R.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((Pe,Je)=>Ee.set(Je,zo)));let te=ce===!0||R.navigation.formMethod!=null&&Fn(R.navigation.formMethod)&&((ke=b.state)==null?void 0:ke._isRedirect)!==!0;u&&(l=u,u=void 0),we||ee==="POP"||(ee==="PUSH"?t.history.push(b,b.state):ee==="REPLACE"&&t.history.replace(b,b.state));let le;if(ee==="POP"){let Pe=se.get(R.location.pathname);Pe&&Pe.has(b.pathname)?le={currentLocation:R.location,nextLocation:b}:se.has(b.pathname)&&(le={currentLocation:b,nextLocation:R.location})}else if(ae){let Pe=se.get(R.location.pathname);Pe?Pe.add(b.pathname):(Pe=new Set([b.pathname]),se.set(R.location.pathname,Pe)),le={currentLocation:R.location,nextLocation:b}}Ie({...P,actionData:ne,loaderData:fe,historyAction:ee,location:b,initialized:!0,navigation:Ld,revalidation:"idle",restoreScrollPosition:ur(b,P.matches||R.matches),preventScrollReset:te,blockers:Ee},{viewTransitionOpts:le,flushSync:M===!0}),ee="POP",ce=!1,ae=!1,we=!1,ye=!1,Te==null||Te.resolve(),Te=null}async function un(b,P){if(typeof b=="number"){t.history.go(b);return}let M=sf(R.location,R.matches,f,b,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:U,submission:ne,error:fe}=Ag(!1,M,P),Ee=R.location,te=ea(R.location,U,P&&P.state);te={...te,...t.history.encodeLocation(te)};let le=P&&P.replace!=null?P.replace:void 0,Q="PUSH";le===!0?Q="REPLACE":le===!1||ne!=null&&Fn(ne.formMethod)&&ne.formAction===R.location.pathname+R.location.search&&(Q="REPLACE");let ke=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,Pe=(P&&P.flushSync)===!0,Je=Yn({currentLocation:Ee,nextLocation:te,historyAction:Q});if(Je){hn(Je,{state:"blocked",location:te,proceed(){hn(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),un(b,P)},reset(){let Et=new Map(R.blockers);Et.set(Je,zo),Ie({blockers:Et})}});return}await Wt(Q,te,{submission:ne,pendingError:fe,preventScrollReset:ke,replace:P&&P.replace,enableViewTransition:P&&P.viewTransition,flushSync:Pe})}function Tn(){Te||(Te=iE()),Y(),Ie({revalidation:"loading"});let b=Te.promise;return R.navigation.state==="submitting"?b:R.navigation.state==="idle"?(Wt(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),b):(Wt(ee||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:ae===!0}),b)}async function Wt(b,P,M){G&&G.abort(),G=null,ee=b,we=(M&&M.startUninterruptedRevalidation)===!0,Fr(R.location,R.matches),ce=(M&&M.preventScrollReset)===!0,ae=(M&&M.enableViewTransition)===!0;let U=u||l,ne=M&&M.overrideNavigation,fe=li(U,P,f),Ee=(M&&M.flushSync)===!0,te=Ii(fe,U,P.pathname);if(te.active&&te.matches&&(fe=te.matches),!fe){let{error:Ve,notFoundMatches:Ke,route:mt}=Nn(P.pathname);rt(P,{matches:Ke,loaderData:{},errors:{[mt.id]:Ve}},{flushSync:Ee});return}if(R.initialized&&!ye&&X1(R.location,P)&&!(M&&M.submission&&Fn(M.submission.formMethod))){rt(P,{matches:fe},{flushSync:Ee});return}G=new AbortController;let le=Os(t.history,P,G.signal,M&&M.submission),Q;if(M&&M.pendingError)Q=[qi(fe).route.id,{type:"error",error:M.pendingError}];else if(M&&M.submission&&Fn(M.submission.formMethod)){let Ve=await Or(le,P,M.submission,fe,te.active,{replace:M.replace,flushSync:Ee});if(Ve.shortCircuited)return;if(Ve.pendingActionResult){let[Ke,mt]=Ve.pendingActionResult;if(cn(mt)&&Sc(mt.error)&&mt.error.status===404){G=null,rt(P,{matches:Ve.matches,loaderData:{},errors:{[Ke]:mt.error}});return}}fe=Ve.matches||fe,Q=Ve.pendingActionResult,ne=jd(P,M.submission),Ee=!1,te.active=!1,le=Os(t.history,le.url,le.signal)}let{shortCircuited:ke,matches:Pe,loaderData:Je,errors:Et}=await bi(le,P,fe,te.active,ne,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,Ee,Q);ke||(G=null,rt(P,{matches:Pe||fe,...Wg(Q),loaderData:Je,errors:Et}))}async function Or(b,P,M,U,ne,fe={}){Y();let Ee=eE(P,M);if(Ie({navigation:Ee},{flushSync:fe.flushSync===!0}),ne){let Q=await Ni(U,P.pathname,b.signal);if(Q.type==="aborted")return{shortCircuited:!0};if(Q.type==="error"){let ke=qi(Q.partialMatches).route.id;return{matches:Q.partialMatches,pendingActionResult:[ke,{type:"error",error:Q.error}]}}else if(Q.matches)U=Q.matches;else{let{notFoundMatches:ke,error:Pe,route:Je}=Nn(P.pathname);return{matches:ke,pendingActionResult:[Je.id,{type:"error",error:Pe}]}}}let te,le=Ko(U,P);if(!le.route.action&&!le.route.lazy)te={type:"error",error:En(405,{method:b.method,pathname:P.pathname,routeId:le.route.id})};else if(te=(await In("action",R,b,[le],U,null))[le.route.id],b.signal.aborted)return{shortCircuited:!0};if(Gi(te)){let Q;return fe&&fe.replace!=null?Q=fe.replace:Q=zg(te.response.headers.get("Location"),new URL(b.url),f)===R.location.pathname+R.location.search,await Ft(b,te,!0,{submission:M,replace:Q}),{shortCircuited:!0}}if(cn(te)){let Q=qi(U,le.route.id);return(fe&&fe.replace)!==!0&&(ee="PUSH"),{matches:U,pendingActionResult:[Q.route.id,te]}}return{matches:U,pendingActionResult:[le.route.id,te]}}async function bi(b,P,M,U,ne,fe,Ee,te,le,Q,ke){let Pe=ne||jd(P,fe),Je=fe||Ee||qg(Pe),Et=!we&&!le;if(U){if(Et){let kt=Ar(ke);Ie({navigation:Pe,...kt!==void 0?{actionData:kt}:{}},{flushSync:Q})}let $e=await Ni(M,P.pathname,b.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let kt=qi($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[kt]:$e.error}}}else if($e.matches)M=$e.matches;else{let{error:kt,notFoundMatches:fr,route:Pi}=Nn(P.pathname);return{matches:fr,loaderData:{},errors:{[Pi.id]:kt}}}}let Ve=u||l,[Ke,mt]=jg(t.history,R,M,Je,P,le===!0,ye,Se,F,X,J,Ve,f,ke);if(Fe=++Qe,Ke.length===0&&mt.length===0){let $e=jr();return rt(P,{matches:M,loaderData:{},errors:ke&&cn(ke[1])?{[ke[0]]:ke[1].error}:null,...Wg(ke),...$e?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Q}),{shortCircuited:!0}}if(Et){let $e={};if(!U){$e.navigation=Pe;let kt=Ar(ke);kt!==void 0&&($e.actionData=kt)}mt.length>0&&($e.fetchers=dn(mt)),Ie($e,{flushSync:Q})}mt.forEach($e=>{_t($e.key),$e.controller&&ge.set($e.key,$e.controller)});let zr=()=>mt.forEach($e=>_t($e.key));G&&G.signal.addEventListener("abort",zr);let{loaderResults:Ur,fetcherResults:mn}=await Si(R,M,Ke,mt,b);if(b.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",zr),mt.forEach($e=>ge.delete($e.key));let nn=Ll(Ur);if(nn)return await Ft(b,nn.result,!0,{replace:te}),{shortCircuited:!0};if(nn=Ll(mn),nn)return J.add(nn.key),await Ft(b,nn.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:cs,errors:Ri}=Bg(R,M,Ur,ke,mt,mn);le&&R.errors&&(Ri={...R.errors,...Ri});let dr=jr(),Ze=lr(Fe),us=dr||Ze||mt.length>0;return{matches:M,loaderData:cs,errors:Ri,...us?{fetchers:new Map(R.fetchers)}:{}}}function Ar(b){if(b&&!cn(b[1]))return{[b[0]]:b[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function dn(b){return b.forEach(P=>{let M=R.fetchers.get(P.key),U=Uo(void 0,M?M.data:void 0);R.fetchers.set(P.key,U)}),new Map(R.fetchers)}async function Lr(b,P,M,U){_t(b);let ne=(U&&U.flushSync)===!0,fe=u||l,Ee=sf(R.location,R.matches,f,M,P,U==null?void 0:U.relative),te=li(fe,Ee,f),le=Ii(te,fe,Ee);if(le.active&&le.matches&&(te=le.matches),!te){ze(b,P,En(404,{pathname:Ee}),{flushSync:ne});return}let{path:Q,submission:ke,error:Pe}=Ag(!0,Ee,U);if(Pe){ze(b,P,Pe,{flushSync:ne});return}let Je=Ko(te,Q),Et=(U&&U.preventScrollReset)===!0;if(ke&&Fn(ke.formMethod)){await Kn(b,P,Q,Je,te,le.active,ne,Et,ke);return}X.set(b,{routeId:P,path:Q}),await fn(b,P,Q,Je,te,le.active,ne,Et,ke)}async function Kn(b,P,M,U,ne,fe,Ee,te,le){Y(),X.delete(b);function Q(ct){if(!ct.route.action&&!ct.route.lazy){let Rn=En(405,{method:le.formMethod,pathname:M,routeId:P});return ze(b,P,Rn,{flushSync:Ee}),!0}return!1}if(!fe&&Q(U))return;let ke=R.fetchers.get(b);de(b,tE(le,ke),{flushSync:Ee});let Pe=new AbortController,Je=Os(t.history,M,Pe.signal,le);if(fe){let ct=await Ni(ne,M,Je.signal);if(ct.type==="aborted")return;if(ct.type==="error"){ze(b,P,ct.error,{flushSync:Ee});return}else if(ct.matches){if(ne=ct.matches,U=Ko(ne,M),Q(U))return}else{ze(b,P,En(404,{pathname:M}),{flushSync:Ee});return}}ge.set(b,Pe);let Et=Qe,Ke=(await In("action",R,Je,[U],ne,b))[U.route.id];if(Je.signal.aborted){ge.get(b)===Pe&&ge.delete(b);return}if(F.has(b)){if(Gi(Ke)||cn(Ke)){de(b,ai(void 0));return}}else{if(Gi(Ke))if(ge.delete(b),Fe>Et){de(b,ai(void 0));return}else return J.add(b),de(b,Uo(le)),Ft(Je,Ke,!1,{fetcherSubmission:le,preventScrollReset:te});if(cn(Ke)){ze(b,P,Ke.error);return}}let mt=R.navigation.location||R.location,zr=Os(t.history,mt,Pe.signal),Ur=u||l,mn=R.navigation.state!=="idle"?li(Ur,R.navigation.location,f):R.matches;je(mn,"Didn't find any matches after fetcher action");let nn=++Qe;q.set(b,nn);let cs=Uo(le,Ke.data);R.fetchers.set(b,cs);let[Ri,dr]=jg(t.history,R,mn,le,mt,!1,ye,Se,F,X,J,Ur,f,[U.route.id,Ke]);dr.filter(ct=>ct.key!==b).forEach(ct=>{let Rn=ct.key,rn=R.fetchers.get(Rn),Yc=Uo(void 0,rn?rn.data:void 0);R.fetchers.set(Rn,Yc),_t(Rn),ct.controller&&ge.set(Rn,ct.controller)}),Ie({fetchers:new Map(R.fetchers)});let Ze=()=>dr.forEach(ct=>_t(ct.key));Pe.signal.addEventListener("abort",Ze);let{loaderResults:us,fetcherResults:$e}=await Si(R,mn,Ri,dr,zr);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",Ze),q.delete(b),ge.delete(b),dr.forEach(ct=>ge.delete(ct.key));let kt=Ll(us);if(kt)return Ft(zr,kt.result,!1,{preventScrollReset:te});if(kt=Ll($e),kt)return J.add(kt.key),Ft(zr,kt.result,!1,{preventScrollReset:te});let{loaderData:fr,errors:Pi}=Bg(R,mn,us,void 0,dr,$e);if(R.fetchers.has(b)){let ct=ai(Ke.data);R.fetchers.set(b,ct)}lr(nn),R.navigation.state==="loading"&&nn>Fe?(je(ee,"Expected pending action"),G&&G.abort(),rt(R.navigation.location,{matches:mn,loaderData:fr,errors:Pi,fetchers:new Map(R.fetchers)})):(Ie({errors:Pi,loaderData:Hg(R.loaderData,fr,mn,Pi),fetchers:new Map(R.fetchers)}),ye=!1)}async function fn(b,P,M,U,ne,fe,Ee,te,le){let Q=R.fetchers.get(b);de(b,Uo(le,Q?Q.data:void 0),{flushSync:Ee});let ke=new AbortController,Pe=Os(t.history,M,ke.signal);if(fe){let Ke=await Ni(ne,M,Pe.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){ze(b,P,Ke.error,{flushSync:Ee});return}else if(Ke.matches)ne=Ke.matches,U=Ko(ne,M);else{ze(b,P,En(404,{pathname:M}),{flushSync:Ee});return}}ge.set(b,ke);let Je=Qe,Ve=(await In("loader",R,Pe,[U],ne,b))[U.route.id];if(ge.get(b)===ke&&ge.delete(b),!Pe.signal.aborted){if(F.has(b)){de(b,ai(void 0));return}if(Gi(Ve))if(Fe>Je){de(b,ai(void 0));return}else{J.add(b),await Ft(Pe,Ve,!1,{preventScrollReset:te});return}if(cn(Ve)){ze(b,P,Ve.error);return}de(b,ai(Ve.data))}}async function Ft(b,P,M,{submission:U,fetcherSubmission:ne,preventScrollReset:fe,replace:Ee}={}){P.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let te=P.response.headers.get("Location");je(te,"Expected a Location header on the redirect Response"),te=zg(te,new URL(b.url),f);let le=ea(R.location,te,{_isRedirect:!0});if(n){let Ve=!1;if(P.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(Bf.test(te)){const Ke=t.history.createURL(te);Ve=Ke.origin!==e.location.origin||qn(Ke.pathname,f)==null}if(Ve){Ee?e.location.replace(te):e.location.assign(te);return}}G=null;let Q=Ee===!0||P.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Pe,formEncType:Je}=R.navigation;!U&&!ne&&ke&&Pe&&Je&&(U=qg(R.navigation));let Et=U||ne;if(M1.has(P.response.status)&&Et&&Fn(Et.formMethod))await Wt(Q,le,{submission:{...Et,formAction:te},preventScrollReset:fe||ce,enableViewTransition:M?ae:void 0});else{let Ve=jd(le,U);await Wt(Q,le,{overrideNavigation:Ve,fetcherSubmission:ne,preventScrollReset:fe||ce,enableViewTransition:M?ae:void 0})}}async function In(b,P,M,U,ne,fe){let Ee,te={};try{Ee=await q1(p,b,P,M,U,ne,fe,o,s)}catch(le){return U.forEach(Q=>{te[Q.route.id]={type:"error",error:le}}),te}for(let[le,Q]of Object.entries(Ee))if(J1(Q)){let ke=Q.result;te[le]={type:"redirect",response:Y1(ke,M,le,ne,f)}}else te[le]=await G1(Q);return te}async function Si(b,P,M,U,ne){let fe=In("loader",b,ne,M,P,null),Ee=Promise.all(U.map(async Q=>{if(Q.matches&&Q.match&&Q.controller){let Pe=(await In("loader",b,Os(t.history,Q.path,Q.controller.signal),[Q.match],Q.matches,Q.key))[Q.match.route.id];return{[Q.key]:Pe}}else return Promise.resolve({[Q.key]:{type:"error",error:En(404,{pathname:Q.path})}})})),te=await fe,le=(await Ee).reduce((Q,ke)=>Object.assign(Q,ke),{});return{loaderResults:te,fetcherResults:le}}function Y(){ye=!0,X.forEach((b,P)=>{ge.has(P)&&Se.add(P),_t(P)})}function de(b,P,M={}){R.fetchers.set(b,P),Ie({fetchers:new Map(R.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function ze(b,P,M,U={}){let ne=qi(R.matches,P);ht(b),Ie({errors:{[ne.route.id]:M},fetchers:new Map(R.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function it(b){return N.set(b,(N.get(b)||0)+1),F.has(b)&&F.delete(b),R.fetchers.get(b)||F1}function ht(b){let P=R.fetchers.get(b);ge.has(b)&&!(P&&P.state==="loading"&&q.has(b))&&_t(b),X.delete(b),q.delete(b),J.delete(b),F.delete(b),Se.delete(b),R.fetchers.delete(b)}function Gn(b){let P=(N.get(b)||0)-1;P<=0?(N.delete(b),F.add(b)):N.set(b,P),Ie({fetchers:new Map(R.fetchers)})}function _t(b){let P=ge.get(b);P&&(P.abort(),ge.delete(b))}function pn(b){for(let P of b){let M=it(P),U=ai(M.data);R.fetchers.set(P,U)}}function jr(){let b=[],P=!1;for(let M of J){let U=R.fetchers.get(M);je(U,`Expected fetcher: ${M}`),U.state==="loading"&&(J.delete(M),b.push(M),P=!0)}return pn(b),P}function lr(b){let P=[];for(let[M,U]of q)if(U<b){let ne=R.fetchers.get(M);je(ne,`Expected fetcher: ${M}`),ne.state==="loading"&&(_t(M),q.delete(M),P.push(M))}return pn(P),P.length>0}function cr(b,P){let M=R.blockers.get(b)||zo;return ve.get(b)!==P&&ve.set(b,P),M}function Mr(b){R.blockers.delete(b),ve.delete(b)}function hn(b,P){let M=R.blockers.get(b)||zo;je(M.state==="unblocked"&&P.state==="blocked"||M.state==="blocked"&&P.state==="blocked"||M.state==="blocked"&&P.state==="proceeding"||M.state==="blocked"&&P.state==="unblocked"||M.state==="proceeding"&&P.state==="unblocked",`Invalid blocker state transition: ${M.state} -> ${P.state}`);let U=new Map(R.blockers);U.set(b,P),Ie({blockers:U})}function Yn({currentLocation:b,nextLocation:P,historyAction:M}){if(ve.size===0)return;ve.size>1&&jt(!1,"A router only supports one blocker at a time");let U=Array.from(ve.entries()),[ne,fe]=U[U.length-1],Ee=R.blockers.get(ne);if(!(Ee&&Ee.state==="proceeding")&&fe({currentLocation:b,nextLocation:P,historyAction:M}))return ne}function Nn(b){let P=En(404,{pathname:b}),M=u||l,{matches:U,route:ne}=Vg(M);return{notFoundMatches:U,route:ne,error:P}}function Ti(b,P,M){if(E=b,I=P,S=M||null,!L&&R.navigation===Ld){L=!0;let U=ur(R.location,R.matches);U!=null&&Ie({restoreScrollPosition:U})}return()=>{E=null,I=null,S=null}}function ls(b,P){return S&&S(b,P.map(U=>m1(U,R.loaderData)))||b.key}function Fr(b,P){if(E&&I){let M=ls(b,P);E[M]=I()}}function ur(b,P){if(E){let M=ls(b,P),U=E[M];if(typeof U=="number")return U}return null}function Ii(b,P,M){if(m)if(b){if(Object.keys(b[0].params).length>0)return{active:!0,matches:Hl(P,M,f,!0)}}else return{active:!0,matches:Hl(P,M,f,!0)||[]};return{active:!1,matches:null}}async function Ni(b,P,M){if(!m)return{type:"success",matches:b};let U=b;for(;;){let ne=u==null,fe=u||l,Ee=o;try{await m({path:P,matches:U,patch:(Q,ke)=>{M.aborted||Fg(Q,ke,fe,Ee,s)}})}catch(Q){return{type:"error",error:Q,partialMatches:U}}finally{ne&&!M.aborted&&(l=[...l])}if(M.aborted)return{type:"aborted"};let te=li(fe,P,f);if(te)return{type:"success",matches:te};let le=Hl(fe,P,f,!0);if(!le||U.length===le.length&&U.every((Q,ke)=>Q.route.id===le[ke].route.id))return{type:"success",matches:null};U=le}}function Na(b){o={},u=Ql(b,s,void 0,o)}function Ra(b,P){let M=u==null;Fg(b,P,u||l,o,s),M&&(l=[...l],Ie({}))}return ie={get basename(){return f},get future(){return y},get state(){return R},get routes(){return l},get window(){return e},initialize:Re,subscribe:Me,enableScrollRestoration:Ti,navigate:un,fetch:Lr,revalidate:Tn,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:it,deleteFetcher:Gn,dispose:We,getBlocker:cr,deleteBlocker:Mr,patchRoutes:Ra,_internalFetchControllers:ge,_internalSetRoutes:Na},ie}function B1(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function sf(t,e,n,s,o,l){let u,f;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){f=m;break}}else u=e,f=e[e.length-1];let p=Uf(s||".",zf(u),qn(t.pathname,n)||t.pathname,l==="path");if(s==null&&(p.search=t.search,p.hash=t.hash),(s==null||s===""||s===".")&&f){let m=Hf(p.search);if(f.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let y=new URLSearchParams(p.search),_=y.getAll("index");y.delete("index"),_.filter(E=>E).forEach(E=>y.append("index",E));let x=y.toString();p.search=x?`?${x}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:nr([n,p.pathname])),_i(p)}function Ag(t,e,n){if(!n||!B1(n))return{path:e};if(n.formMethod&&!Z1(n.formMethod))return{path:e,error:En(405,{method:n.formMethod})};let s=()=>({path:e,error:En(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=Py(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fn(l))return s();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[E,S])=>`${x}${E}=${S}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Fn(l))return s();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return s()}}}je(typeof FormData=="function","FormData is not available in this environment");let f,p;if(n.formData)f=af(n.formData),p=n.formData;else if(n.body instanceof FormData)f=af(n.body),p=n.body;else if(n.body instanceof URLSearchParams)f=n.body,p=Ug(f);else if(n.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(n.body),p=Ug(f)}catch{return s()}let m={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Fn(m.formMethod))return{path:e,submission:m};let y=ki(e);return t&&y.search&&Hf(y.search)&&f.append("index",""),y.search=`?${f}`,{path:_i(y),submission:m}}function Lg(t,e,n=!1){let s=t.findIndex(o=>o.route.id===e);return s>=0?t.slice(0,n?s+1:s):t}function jg(t,e,n,s,o,l,u,f,p,m,y,_,x,E){let S=E?cn(E[1])?E[1].error:E[1].data:void 0,I=t.createURL(e.location),L=t.createURL(o),j=n;l&&e.errors?j=Lg(n,Object.keys(e.errors)[0],!0):E&&cn(E[1])&&(j=Lg(n,E[0]));let $=E?E[1].statusCode:void 0,W=$&&$>=400,ie=j.filter((ee,ce)=>{let{route:G}=ee;if(G.lazy)return!0;if(G.loader==null)return!1;if(l)return of(G,e.loaderData,e.errors);if(H1(e.loaderData,e.matches[ce],ee))return!0;let ae=e.matches[ce],se=ee;return Mg(ee,{currentUrl:I,currentParams:ae.params,nextUrl:L,nextParams:se.params,...s,actionResult:S,actionStatus:$,defaultShouldRevalidate:W?!1:u||I.pathname+I.search===L.pathname+L.search||I.search!==L.search||W1(ae,se)})}),R=[];return m.forEach((ee,ce)=>{if(l||!n.some(we=>we.route.id===ee.routeId)||p.has(ce))return;let G=li(_,ee.path,x);if(!G){R.push({key:ce,routeId:ee.routeId,path:ee.path,matches:null,match:null,controller:null});return}let ae=e.fetchers.get(ce),se=Ko(G,ee.path),Ne=!1;y.has(ce)?Ne=!1:f.has(ce)?(f.delete(ce),Ne=!0):ae&&ae.state!=="idle"&&ae.data===void 0?Ne=u:Ne=Mg(se,{currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:n[n.length-1].params,...s,actionResult:S,actionStatus:$,defaultShouldRevalidate:W?!1:u}),Ne&&R.push({key:ce,routeId:ee.routeId,path:ee.path,matches:G,match:se,controller:new AbortController})}),[ie,R]}function of(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&e[t.id]!==void 0,o=n!=null&&n[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function H1(t,e,n){let s=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return s||o}function W1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Mg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Fg(t,e,n,s,o){let l;if(t){let p=s[t];je(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),l=p.children}else l=n;let u=e.filter(p=>!l.some(m=>Ry(p,m))),f=Ql(u,o,[t||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...f)}function Ry(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Ry(n,l))}):!1}async function V1(t,e,n){if(!t.lazy)return;let s=await t.lazy();if(!t.lazy)return;let o=n[t.id];je(o,"No route found in manifest");let l={};for(let u in s){let p=o[u]!==void 0&&u!=="hasErrorBoundary";jt(!p,`Route "${o.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!p&&!p1.has(u)&&(l[u]=s[u])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function $1({matches:t}){let e=t.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,l)=>Object.assign(s,{[e[l].route.id]:o}),{})}async function q1(t,e,n,s,o,l,u,f,p,m){let y=l.map(E=>E.route.lazy?V1(E.route,p,f):void 0),_=l.map((E,S)=>{let I=y[S],L=o.some($=>$.route.id===E.route.id);return{...E,shouldLoad:L,resolve:async $=>($&&s.method==="GET"&&(E.route.lazy||E.route.loader)&&(L=!0),L?K1(e,s,E,I,$,m):Promise.resolve({type:"data",result:void 0}))}}),x=await t({matches:_,request:s,params:l[0].params,fetcherKey:u,context:m});try{await Promise.all(y)}catch{}return x}async function K1(t,e,n,s,o,l){let u,f,p=m=>{let y,_=new Promise((S,I)=>y=I);f=()=>y(),e.signal.addEventListener("abort",f);let x=S=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):m({request:e,params:n.params,context:l},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(o?o(I=>x(I)):x())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,_])};try{let m=n.route[t];if(s)if(m){let y,[_]=await Promise.all([p(m).catch(x=>{y=x}),s]);if(y!==void 0)throw y;u=_}else if(await s,m=n.route[t],m)u=await p(m);else if(t==="action"){let y=new URL(e.url),_=y.pathname+y.search;throw En(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:"data",result:void 0};else if(m)u=await p(m);else{let y=new URL(e.url),_=y.pathname+y.search;throw En(404,{pathname:_})}}catch(m){return{type:"error",result:m}}finally{f&&e.signal.removeEventListener("abort",f)}return u}async function G1(t){var s,o,l,u;let{result:e,type:n}=t;if(Dy(e)){let f;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Jl(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}if(n==="error"){if($g(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new Jl(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Sc(e)?e.status:void 0}}return $g(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Y1(t,e,n,s,o){let l=t.headers.get("Location");if(je(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bf.test(l)){let u=s.slice(0,s.findIndex(f=>f.route.id===n)+1);l=sf(new URL(e.url),u,o,l),t.headers.set("Location",l)}return t}function zg(t,e,n){if(Bf.test(t)){let s=t,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=qn(o.pathname,n)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return t}function Os(t,e,n,s){let o=t.createURL(Py(e)).toString(),l={signal:n};if(s&&Fn(s.formMethod)){let{formMethod:u,formEncType:f}=s;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(s.json)):f==="text/plain"?l.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?l.body=af(s.formData):l.body=s.formData}return new Request(o,l)}function af(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function Ug(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function Q1(t,e,n,s=!1,o=!1){let l={},u=null,f,p=!1,m={},y=n&&cn(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let x=_.route.id,E=e[x];if(je(!Gi(E),"Cannot handle redirect results in processLoaderData"),cn(E)){let S=E.error;if(y!==void 0&&(S=y,y=void 0),u=u||{},o)u[x]=S;else{let I=qi(t,x);u[I.route.id]==null&&(u[I.route.id]=S)}s||(l[x]=Ny),p||(p=!0,f=Sc(E.error)?E.error.status:500),E.headers&&(m[x]=E.headers)}else l[x]=E.data,E.statusCode&&E.statusCode!==200&&!p&&(f=E.statusCode),E.headers&&(m[x]=E.headers)}),y!==void 0&&n&&(u={[n[0]]:y},l[n[0]]=void 0),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:m}}function Bg(t,e,n,s,o,l){let{loaderData:u,errors:f}=Q1(e,n,s);return o.forEach(p=>{let{key:m,match:y,controller:_}=p,x=l[m];if(je(x,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(cn(x)){let E=qi(t.matches,y==null?void 0:y.route.id);f&&f[E.route.id]||(f={...f,[E.route.id]:x.error}),t.fetchers.delete(m)}else if(Gi(x))je(!1,"Unhandled fetcher revalidation redirect");else{let E=ai(x.data);t.fetchers.set(m,E)}}),{loaderData:u,errors:f}}function Hg(t,e,n,s){let o=Object.entries(e).filter(([,l])=>l!==Ny).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(o[u]=t[u]),s&&s.hasOwnProperty(u))break}return o}function Wg(t){return t?cn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function qi(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function Vg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function En(t,{pathname:e,routeId:n,method:s,type:o,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",s&&e&&n?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",s&&e&&n?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new Jl(t||500,u,new Error(f),!0)}function Ll(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(Gi(o))return{key:s,result:o}}}function Py(t){let e=typeof t=="string"?ki(t):t;return _i({...e,hash:""})}function X1(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function J1(t){return Dy(t.result)&&j1.has(t.result.status)}function cn(t){return t.type==="error"}function Gi(t){return(t&&t.type)==="redirect"}function $g(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Dy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Z1(t){return L1.has(t.toUpperCase())}function Fn(t){return O1.has(t.toUpperCase())}function Hf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ko(t,e){let n=typeof e=="string"?ki(e).search:e.search;if(t[t.length-1].route.index&&Hf(n||""))return t[t.length-1];let s=Sy(t);return s[s.length-1]}function qg(t){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:l,json:u}=t;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:u,text:void 0}}}function jd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Uo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ai(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nE(t,e){try{let n=t.sessionStorage.getItem(Iy);if(n){let s=JSON.parse(n);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function rE(t,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{t.sessionStorage.setItem(Iy,JSON.stringify(n))}catch(s){jt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function iE(){let t,e,n=new Promise((s,o)=>{t=async l=>{s(l);try{await n}catch{}},e=async l=>{o(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var rs=C.createContext(null);rs.displayName="DataRouter";var ha=C.createContext(null);ha.displayName="DataRouterState";var Wf=C.createContext({isTransitioning:!1});Wf.displayName="ViewTransition";var Oy=C.createContext(new Map);Oy.displayName="Fetchers";var sE=C.createContext(null);sE.displayName="Await";var or=C.createContext(null);or.displayName="Navigation";var Tc=C.createContext(null);Tc.displayName="Location";var Pr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Vf=C.createContext(null);Vf.displayName="RouteError";function oE(t,{relative:e}={}){je(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(or),{hash:o,pathname:l,search:u}=ga(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:nr([n,l])),s.createHref({pathname:f,search:u,hash:o})}function ma(){return C.useContext(Tc)!=null}function is(){return je(ma(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Tc).location}var Ay="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ly(t){C.useContext(or).static||C.useLayoutEffect(t)}function $f(){let{isDataRoute:t}=C.useContext(Pr);return t?_E():aE()}function aE(){je(ma(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(rs),{basename:e,navigator:n}=C.useContext(or),{matches:s}=C.useContext(Pr),{pathname:o}=is(),l=JSON.stringify(zf(s)),u=C.useRef(!1);return Ly(()=>{u.current=!0}),C.useCallback((p,m={})=>{if(jt(u.current,Ay),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=Uf(p,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:nr([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,o,t])}C.createContext(null);function ga(t,{relative:e}={}){let{matches:n}=C.useContext(Pr),{pathname:s}=is(),o=JSON.stringify(zf(n));return C.useMemo(()=>Uf(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function lE(t,e,n,s){je(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(or),{matches:l}=C.useContext(Pr),u=l[l.length-1],f=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";jy(p,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=is(),x;x=_;let E=x.pathname||"/",S=E;if(m!=="/"){let j=m.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let I=li(t,{pathname:S});return jt(y||I!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),jt(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pE(I&&I.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:nr([m,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:nr([m,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,s)}function cE(){let t=yE(),e=Sc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,u)}var uE=C.createElement(cE,null),dE=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Pr.Provider,{value:this.props.routeContext},C.createElement(Vf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fE({routeContext:t,match:e,children:n}){let s=C.useContext(rs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Pr.Provider,{value:t},n)}function pE(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:_}=n,x=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||x){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let _,x=!1,E=null,S=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||uE,u&&(f<0&&y===0?(jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):f===y&&(x=!0,S=m.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,y+1)),L=()=>{let j;return _?j=E:x?j=S:m.route.Component?j=C.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=p,C.createElement(fE,{match:m,routeContext:{outlet:p,matches:I,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?C.createElement(dE,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:L(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):L()},null)}function qf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(t){let e=C.useContext(rs);return je(e,qf(t)),e}function mE(t){let e=C.useContext(ha);return je(e,qf(t)),e}function gE(t){let e=C.useContext(Pr);return je(e,qf(t)),e}function Kf(t){let e=gE(t),n=e.matches[e.matches.length-1];return je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vE(){return Kf("useRouteId")}function yE(){var s;let t=C.useContext(Vf),e=mE("useRouteError"),n=Kf("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function _E(){let{router:t}=hE("useNavigate"),e=Kf("useNavigate"),n=C.useRef(!1);return Ly(()=>{n.current=!0}),C.useCallback(async(o,l={})=>{jt(n.current,Ay),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Kg={};function jy(t,e,n){!e&&!Kg[t]&&(Kg[t]=!0,jt(!1,n))}var Gg={};function Yg(t,e){!t&&!Gg[e]&&(Gg[e]=!0,console.warn(e))}function xE(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:C.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var wE=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function EE({router:t,flushSync:e}){let[n,s]=C.useState(t.state),[o,l]=C.useState(),[u,f]=C.useState({isTransitioning:!1}),[p,m]=C.useState(),[y,_]=C.useState(),[x,E]=C.useState(),S=C.useRef(new Map),I=C.useCallback((W,{deletedFetchers:ie,flushSync:R,viewTransitionOpts:ee})=>{ie.forEach(G=>S.current.delete(G)),W.fetchers.forEach((G,ae)=>{G.data!==void 0&&S.current.set(ae,G.data)}),Yg(R===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ce=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Yg(ee==null||ce,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ee||!ce){e&&R?e(()=>s(W)):C.startTransition(()=>s(W));return}if(e&&R){e(()=>{y&&(p&&p.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})});let G=t.window.document.startViewTransition(()=>{e(()=>s(W))});G.finished.finally(()=>{e(()=>{m(void 0),_(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>_(G));return}y?(p&&p.resolve(),y.skipTransition(),E({state:W,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})):(l(W),f({isTransitioning:!0,flushSync:!1,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation}))},[t.window,e,y,p]);C.useLayoutEffect(()=>t.subscribe(I),[t,I]),C.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new wE)},[u]),C.useEffect(()=>{if(p&&o&&t.window){let W=o,ie=p.promise,R=t.window.document.startViewTransition(async()=>{C.startTransition(()=>s(W)),await ie});R.finished.finally(()=>{m(void 0),_(void 0),l(void 0),f({isTransitioning:!1})}),_(R)}},[o,p,t.window]),C.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,y,n.location,o]),C.useEffect(()=>{!u.isTransitioning&&x&&(l(x.state),f({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),E(void 0))},[u.isTransitioning,x]);let L=C.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:W=>t.navigate(W),push:(W,ie,R)=>t.navigate(W,{state:ie,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(W,ie,R)=>t.navigate(W,{replace:!0,state:ie,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[t]),j=t.basename||"/",$=C.useMemo(()=>({router:t,navigator:L,static:!1,basename:j}),[t,L,j]);return C.createElement(C.Fragment,null,C.createElement(rs.Provider,{value:$},C.createElement(ha.Provider,{value:n},C.createElement(Oy.Provider,{value:S.current},C.createElement(Wf.Provider,{value:u},C.createElement(bE,{basename:j,location:n.location,navigationType:n.historyAction,navigator:L},C.createElement(kE,{routes:t.routes,future:t.future,state:n})))))),null)}var kE=C.memo(CE);function CE({routes:t,future:e,state:n}){return lE(t,void 0,n,e)}function bE({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){je(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=ki(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:x="default"}=n,E=C.useMemo(()=>{let S=qn(p,u);return S==null?null:{location:{pathname:S,search:m,hash:y,state:_,key:x},navigationType:s}},[u,p,m,y,_,x,s]);return jt(E!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:C.createElement(or.Provider,{value:f},C.createElement(Tc.Provider,{children:e,value:E}))}var Wl="get",Vl="application/x-www-form-urlencoded";function Ic(t){return t!=null&&typeof t.tagName=="string"}function SE(t){return Ic(t)&&t.tagName.toLowerCase()==="button"}function TE(t){return Ic(t)&&t.tagName.toLowerCase()==="form"}function IE(t){return Ic(t)&&t.tagName.toLowerCase()==="input"}function NE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RE(t,e){return t.button===0&&(!e||e==="_self")&&!NE(t)}var jl=null;function PE(){if(jl===null)try{new FormData(document.createElement("form"),0),jl=!1}catch{jl=!0}return jl}var DE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(t){return t!=null&&!DE.has(t)?(jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vl}"`),null):t}function OE(t,e){let n,s,o,l,u;if(TE(t)){let f=t.getAttribute("action");s=f?qn(f,e):null,n=t.getAttribute("method")||Wl,o=Md(t.getAttribute("enctype"))||Vl,l=new FormData(t)}else if(SE(t)||IE(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?qn(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Wl,o=Md(t.getAttribute("formenctype"))||Md(f.getAttribute("enctype"))||Vl,l=new FormData(f,t),!PE()){let{name:m,type:y,value:_}=t;if(y==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,_)}}else{if(Ic(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wl,s=null,o=Vl,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:u}}function Gf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function AE(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jE(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await AE(l,n);return u.links?u.links():[]}return[]}));return UE(s.flat(1).filter(LE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qg(t,e,n,s,o,l){let u=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,f=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>u(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var _;let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ME(t,e){return FE(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function FE(t){return[...new Set(t)]}function zE(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function UE(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(zE(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function BE(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function HE(){let t=C.useContext(rs);return Gf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WE(){let t=C.useContext(ha);return Gf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yf=C.createContext(void 0);Yf.displayName="FrameworkContext";function My(){let t=C.useContext(Yf);return Gf(t,"You must render this element inside a <HydratedRouter> element"),t}function VE(t,e){let n=C.useContext(Yf),[s,o]=C.useState(!1),[l,u]=C.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,x=C.useRef(null);C.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let I=j=>{j.forEach($=>{u($.isIntersecting)})},L=new IntersectionObserver(I,{threshold:.5});return x.current&&L.observe(x.current),()=>{L.disconnect()}}},[t]),C.useEffect(()=>{if(s){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[s]);let E=()=>{o(!0)},S=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Bo(f,E),onBlur:Bo(p,S),onMouseEnter:Bo(m,E),onMouseLeave:Bo(y,S),onTouchStart:Bo(_,E)}]:[!1,x,{}]}function Bo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $E({page:t,...e}){let{router:n}=HE(),s=C.useMemo(()=>li(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?C.createElement(KE,{page:t,matches:s,...e}):null}function qE(t){let{manifest:e,routeModules:n}=My(),[s,o]=C.useState([]);return C.useEffect(()=>{let l=!1;return jE(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),s}function KE({page:t,matches:e,...n}){let s=is(),{manifest:o,routeModules:l}=My(),{loaderData:u,matches:f}=WE(),p=C.useMemo(()=>Qg(t,e,f,o,s,"data"),[t,e,f,o,s]),m=C.useMemo(()=>Qg(t,e,f,o,s,"assets"),[t,e,f,o,s]),y=C.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let E=new Set,S=!1;if(e.forEach(L=>{var $;let j=o.routes[L.route.id];!j||!j.hasLoader||(!p.some(W=>W.route.id===L.route.id)&&L.route.id in u&&(($=l[L.route.id])!=null&&$.shouldRevalidate)||j.hasClientLoader?S=!0:E.add(L.route.id))}),E.size===0)return[];let I=BE(t);return S&&E.size>0&&I.searchParams.set("_routes",e.filter(L=>E.has(L.route.id)).map(L=>L.route.id).join(",")),[I.pathname+I.search]},[u,s,o,p,e,t,l]),_=C.useMemo(()=>ME(m,o),[m,o]),x=qE(m);return C.createElement(C.Fragment,null,y.map(E=>C.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>C.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:S})=>C.createElement("link",{key:E,...S})))}function GE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fy&&(window.__reactRouterVersion="7.1.1")}catch{}function YE(t,e){return U1({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:u1({window:e==null?void 0:e.window}),hydrationData:QE(),routes:t,mapRouteProperties:xE,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function QE(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:XE(t.errors)}),t}function XE(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new Jl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let u=new l(o.message);u.stack="",n[s]=u}catch{}}if(n[s]==null){let l=new Error(o.message);l.stack="",n[s]=l}}else n[s]=o;return n}var zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uy=C.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:f,target:p,to:m,preventScrollReset:y,viewTransition:_,...x},E){let{basename:S}=C.useContext(or),I=typeof m=="string"&&zy.test(m),L,j=!1;if(typeof m=="string"&&I&&(L=m,Fy))try{let ae=new URL(window.location.href),se=m.startsWith("//")?new URL(ae.protocol+m):new URL(m),Ne=qn(se.pathname,S);se.origin===ae.origin&&Ne!=null?m=Ne+se.search+se.hash:j=!0}catch{jt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=oE(m,{relative:o}),[W,ie,R]=VE(s,x),ee=tk(m,{replace:u,state:f,target:p,preventScrollReset:y,relative:o,viewTransition:_});function ce(ae){e&&e(ae),ae.defaultPrevented||ee(ae)}let G=C.createElement("a",{...x,...R,href:L||$,onClick:j||l?e:ce,ref:GE(E,ie),target:p,"data-discover":!I&&n==="render"?"true":void 0});return W&&!I?C.createElement(C.Fragment,null,G,C.createElement($E,{page:$})):G});Uy.displayName="Link";var JE=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:f,children:p,...m},y){let _=ga(u,{relative:m.relative}),x=is(),E=C.useContext(ha),{navigator:S,basename:I}=C.useContext(or),L=E!=null&&ok(_)&&f===!0,j=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,$=x.pathname,W=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||($=$.toLowerCase(),W=W?W.toLowerCase():null,j=j.toLowerCase()),W&&I&&(W=qn(W,I)||W);const ie=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let R=$===j||!o&&$.startsWith(j)&&$.charAt(ie)==="/",ee=W!=null&&(W===j||!o&&W.startsWith(j)&&W.charAt(j.length)==="/"),ce={isActive:R,isPending:ee,isTransitioning:L},G=R?e:void 0,ae;typeof s=="function"?ae=s(ce):ae=[s,R?"active":null,ee?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let se=typeof l=="function"?l(ce):l;return C.createElement(Uy,{...m,"aria-current":G,className:ae,ref:y,style:se,to:u,viewTransition:f},typeof p=="function"?p(ce):p)});JE.displayName="NavLink";var ZE=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:u=Wl,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...x},E)=>{let S=ik(),I=sk(f,{relative:m}),L=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&zy.test(f),$=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ie=W.nativeEvent.submitter,R=(ie==null?void 0:ie.getAttribute("formmethod"))||u;S(ie||W.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return C.createElement("form",{ref:E,method:L,action:I,onSubmit:s?p:$,...x,"data-discover":!j&&t==="render"?"true":void 0})});ZE.displayName="Form";function ek(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function By(t){let e=C.useContext(rs);return je(e,ek(t)),e}function tk(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=$f(),p=is(),m=ga(t,{relative:l});return C.useCallback(y=>{if(RE(y,e)){y.preventDefault();let _=n!==void 0?n:_i(p)===_i(m);f(t,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[p,f,m,n,s,e,t,o,l,u])}var nk=0,rk=()=>`__${String(++nk)}__`;function ik(){let{router:t}=By("useSubmit"),{basename:e}=C.useContext(or),n=vE();return C.useCallback(async(s,o={})=>{let{action:l,method:u,encType:f,formData:p,body:m}=OE(s,e);if(o.navigate===!1){let y=o.fetcherKey||rk();await t.fetch(y,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function sk(t,{relative:e}={}){let{basename:n}=C.useContext(or),s=C.useContext(Pr);je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ga(t||".",{relative:e})},u=is();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:nr([n,l.pathname])),_i(l)}function ok(t,e={}){let n=C.useContext(Wf);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=By("useViewTransitionState"),o=ga(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=qn(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=qn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xl(o.pathname,u)!=null||Xl(o.pathname,l)!=null}new TextEncoder;var ak=ky();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lk(t){return C.createElement(EE,{flushSync:ak.flushSync,...t})}var Hy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xg=pi.createContext&&pi.createContext(Hy),ck=["attr","size","title"];function uk(t,e){if(t==null)return{};var n=dk(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function dk(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Zl.apply(this,arguments)}function Jg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jg(Object(n),!0).forEach(function(s){fk(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function fk(t,e,n){return e=pk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pk(t){var e=hk(t,"string");return typeof e=="symbol"?e:e+""}function hk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wy(t){return t&&t.map((e,n)=>pi.createElement(e.tag,ec({key:n},e.attr),Wy(e.child)))}function pt(t){return e=>pi.createElement(mk,Zl({attr:ec({},t.attr)},e),Wy(t.child))}function mk(t){var e=n=>{var{attr:s,size:o,title:l}=t,u=uk(t,ck),f=o||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),pi.createElement("svg",Zl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:p,style:ec(ec({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&pi.createElement("title",null,l),t.children)};return Xg!==void 0?pi.createElement(Xg.Consumer,null,n=>e(n)):e(Hy)}function Vy(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"path",attr:{d:"M12 11h4"},child:[]},{tag:"path",attr:{d:"M12 16h4"},child:[]},{tag:"path",attr:{d:"M8 11h.01"},child:[]},{tag:"path",attr:{d:"M8 16h.01"},child:[]}]})(t)}var Zg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw Ys(e)},Ys=function(t){return new Error("Firebase Database ("+$y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Qf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let x=(f&15)<<2|m>>6,E=m&63;p||(E=64,u||(x=64)),s.push(n[y],n[_],n[x],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||m==null||_==null)throw new vk;const x=l<<2|f>>4;if(s.push(x),m!==64){const E=f<<4&240|m>>2;if(s.push(E),_!==64){const S=m<<6&192|_;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ky=function(t){const e=qy(t);return Qf.encodeByteArray(e,!0)},tc=function(t){return Ky(t).replace(/\./g,"")},nc=function(t){try{return Qf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){return Gy(void 0,t)}function Gy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_k(n)||(t[n]=Gy(t[n],e[n]));return t}function _k(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=()=>xk().__FIREBASE_DEFAULTS__,Ek=()=>{if(typeof process>"u"||typeof Zg>"u")return;const t=Zg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nc(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return wk()||Ek()||kk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yy=t=>{var e,n;return(n=(e=Xf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ck=t=>{const e=Yy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Qy=()=>{var t;return(t=Xf())===null||t===void 0?void 0:t.config},Xy=t=>{var e;return(e=Xf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tc(JSON.stringify(n)),tc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function Sk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ik(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zy(){return $y.NODE_ADMIN===!0}function Nk(){try{return typeof indexedDB=="object"}catch{return!1}}function Rk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="FirebaseError";class Ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Pk,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?Dk(l,s):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Ci(o,f,s)}}function Dk(t,e){return t.replace(Ok,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Ok=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){return JSON.parse(t)}function Tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=function(t){let e={},n={},s={},o="";try{const l=t.split(".");e=ta(nc(l[0])||""),n=ta(nc(l[1])||""),o=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:o}},Ak=function(t){const e=e0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Lk=function(t){const e=e0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Us(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e,n){const s={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=e.call(n,t[o],o,t));return s}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],u=e[o];if(ev(l)&&ev(u)){if(!ic(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function ev(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)s[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const x=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(x<<1|x>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],p=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=f^l&(u^f),y=1518500249):(m=l^u^f,y=1859775393):_<60?(m=l&u|f&(l|u),y=2400959708):(m=l^u^f,y=3395469782);const x=(o<<5|o>>>27)+m+p+y+s[_]&4294967295;p=f,f=u,u=(l<<30|l>>>2)&4294967295,l=o,o=x}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[o]>>l&255,++s;return e}}function Mk(t,e){const n=new Fk(t,e);return n.subscribe.bind(n)}class Fk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fd(){}function Nc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);if(o>=55296&&o<=56319){const l=o-55296;s++,K(s<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(s)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Rc=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){return t&&t._delegate?t._delegate:t}class Ji{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new va;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wk(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Hk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hk(t){return t===Vi?void 0:t}function Wk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const $k={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},qk=Ge.INFO,Kk={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Gk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=Kk[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zf{constructor(e){this.name=e,this._logLevel=qk,this._logHandler=Gk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const Yk=(t,e)=>e.some(n=>t instanceof n);let tv,nv;function Qk(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xk(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,cf=new WeakMap,n0=new WeakMap,zd=new WeakMap,ep=new WeakMap;function Jk(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(hi(t.result)),o()},u=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&t0.set(n,t)}).catch(()=>{}),ep.set(e,t),e}function Zk(t){if(cf.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});cf.set(t,e)}let uf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eC(t){uf=t(uf)}function tC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ud(this),e,...n);return n0.set(s,e.sort?e.sort():[e]),hi(s)}:Xk().includes(t)?function(...e){return t.apply(Ud(this),e),hi(t0.get(this))}:function(...e){return hi(t.apply(Ud(this),e))}}function nC(t){return typeof t=="function"?tC(t):(t instanceof IDBTransaction&&Zk(t),Yk(t,Qk())?new Proxy(t,uf):t)}function hi(t){if(t instanceof IDBRequest)return Jk(t);if(zd.has(t))return zd.get(t);const e=nC(t);return e!==t&&(zd.set(t,e),ep.set(e,t)),e}const Ud=t=>ep.get(t);function rC(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=hi(u);return s&&u.addEventListener("upgradeneeded",p=>{s(hi(u.result),p.oldVersion,p.newVersion,hi(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const iC=["get","getKey","getAll","getAllKeys","count"],sC=["put","add","delete","clear"],Bd=new Map;function rv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=sC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iC.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&p.done]))[0]};return Bd.set(e,l),l}eC(t=>({...t,get:(e,n,s)=>rv(e,n)||t.get(e,n,s),has:(e,n)=>!!rv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const df="@firebase/app",iv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Zf("@firebase/app"),lC="@firebase/app-compat",cC="@firebase/analytics-compat",uC="@firebase/analytics",dC="@firebase/app-check-compat",fC="@firebase/app-check",pC="@firebase/auth",hC="@firebase/auth-compat",mC="@firebase/database",gC="@firebase/data-connect",vC="@firebase/database-compat",yC="@firebase/functions",_C="@firebase/functions-compat",xC="@firebase/installations",wC="@firebase/installations-compat",EC="@firebase/messaging",kC="@firebase/messaging-compat",CC="@firebase/performance",bC="@firebase/performance-compat",SC="@firebase/remote-config",TC="@firebase/remote-config-compat",IC="@firebase/storage",NC="@firebase/storage-compat",RC="@firebase/firestore",PC="@firebase/vertexai",DC="@firebase/firestore-compat",OC="firebase",AC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",LC={[df]:"fire-core",[lC]:"fire-core-compat",[uC]:"fire-analytics",[cC]:"fire-analytics-compat",[fC]:"fire-app-check",[dC]:"fire-app-check-compat",[pC]:"fire-auth",[hC]:"fire-auth-compat",[mC]:"fire-rtdb",[gC]:"fire-data-connect",[vC]:"fire-rtdb-compat",[yC]:"fire-fn",[_C]:"fire-fn-compat",[xC]:"fire-iid",[wC]:"fire-iid-compat",[EC]:"fire-fcm",[kC]:"fire-fcm-compat",[CC]:"fire-perf",[bC]:"fire-perf-compat",[SC]:"fire-rc",[TC]:"fire-rc-compat",[IC]:"fire-gcs",[NC]:"fire-gcs-compat",[RC]:"fire-fst",[DC]:"fire-fst-compat",[PC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,jC=new Map,pf=new Map;function sv(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bs(t){const e=t.name;if(pf.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;pf.set(e,t);for(const n of sc.values())sv(n,t);for(const n of jC.values())sv(n,t);return!0}function tp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Er(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new ya("app","Firebase",MC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=AC;function r0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ff,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(n||(n=Qy()),!n)throw mi.create("no-options");const l=sc.get(o);if(l){if(ic(n,l.options)&&ic(s,l.config))return l;throw mi.create("duplicate-app",{appName:o})}const u=new Vk(o);for(const p of pf.values())u.addComponent(p);const f=new FC(n,s,u);return sc.set(o,f),f}function i0(t=ff){const e=sc.get(t);if(!e&&t===ff&&Qy())return r0();if(!e)throw mi.create("no-app",{appName:t});return e}function gi(t,e,n){var s;let o=(s=LC[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(f.join(" "));return}Bs(new Ji(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebase-heartbeat-database",UC=1,na="firebase-heartbeat-store";let Hd=null;function s0(){return Hd||(Hd=rC(zC,UC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(na)}catch(n){console.warn(n)}}}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),Hd}async function BC(t){try{const n=(await s0()).transaction(na),s=await n.objectStore(na).get(o0(t));return await n.done,s}catch(e){if(e instanceof Ci)Ir.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function ov(t,e){try{const s=(await s0()).transaction(na,"readwrite");await s.objectStore(na).put(e,o0(t)),await s.done}catch(n){if(n instanceof Ci)Ir.warn(n.message);else{const s=mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(s.message)}}}function o0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1024,WC=30*24*60*60*1e3;class VC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=av();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=WC}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=av(),{heartbeatsToSend:s,unsentEntries:o}=$C(this._heartbeatsCache.heartbeats),l=tc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ir.warn(n),""}}}function av(){return new Date().toISOString().substring(0,10)}function $C(t,e=HC){const n=[];let s=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),lv(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nk()?Rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function lv(t){return tc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){Bs(new Ji("platform-logger",e=>new oC(e),"PRIVATE")),Bs(new Ji("heartbeat",e=>new VC(e),"PRIVATE")),gi(df,iv,t),gi(df,iv,"esm2017"),gi("fire-js","")}KC("");var GC="firebase",YC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(GC,YC,"app");function np(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function ss(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{m(s.next(y))}catch(_){u(_)}}function p(y){try{m(s.throw(y))}catch(_){u(_)}}function m(y){y.done?l(y.value):o(y.value).then(f,p)}m((s=s.apply(t,e||[])).next())})}function a0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QC=a0,l0=new ya("auth","Firebase",a0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Zf("@firebase/auth");function XC(t,...e){oc.logLevel<=Ge.WARN&&oc.warn(`Auth (${Xs}): ${t}`,...e)}function $l(t,...e){oc.logLevel<=Ge.ERROR&&oc.error(`Auth (${Xs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw ip(t,...e)}function Bn(t,...e){return ip(t,...e)}function rp(t,e,n){const s=Object.assign(Object.assign({},QC()),{[e]:n});return new ya("auth","Firebase",s).create(e,{appName:t.name})}function Xi(t){return rp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JC(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&sr(t,"argument-error"),rp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ip(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return l0.create(t,...e)}function be(t,e,...n){if(!t)throw ip(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $l(e),new Error(e)}function Nr(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZC(){return cv()==="http:"||cv()==="https:"}function cv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZC()||Tk()||"connection"in navigator)?navigator.onLine:!0}function tb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Jf()||Jy()}get(){return eb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new _a(3e4,6e4);function op(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Js(t,e,n,s,o={}){return u0(t,o,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Qs(Object.assign({key:t.config.apiKey},u)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return Sk()||(m.referrerPolicy="no-referrer"),c0.fetch()(d0(t,t.config.apiHost,n,f),m)})}async function u0(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},nb),e);try{const o=new sb(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ml(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Ml(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Ml(t,"user-disabled",u);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw rp(t,y,m);sr(t,y)}}catch(o){if(o instanceof Ci)throw o;sr(t,"network-request-failed",{message:String(o)})}}async function ib(t,e,n,s,o={}){const l=await Js(t,e,n,s,o);return"mfaPendingCredential"in l&&sr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function d0(t,e,n,s){const o=`${e}${n}?${s}`;return t.config.emulator?sp(t.config,o):`${t.config.apiScheme}://${o}`}class sb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bn(this.auth,"network-request-failed")),rb.get())})}}function Ml(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bn(t,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function f0(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ab(t,e=!1){const n=bn(t),s=await n.getIdToken(e),o=ap(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Go(Wd(o.auth_time)),issuedAtTime:Go(Wd(o.iat)),expirationTime:Go(Wd(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Wd(t){return Number(t)*1e3}function ap(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return $l("JWT malformed, contained fewer than 3 sections"),null;try{const o=nc(n);return o?JSON.parse(o):($l("Failed to decode base64 JWT payload"),null)}catch(o){return $l("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uv(t){const e=ap(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ci&&lb(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function lb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){var e;const n=t.auth,s=await t.getIdToken(),o=await ra(t,f0(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?p0(l.providerUserInfo):[],f=db(t.providerData,u),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=p?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new mf(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function ub(t){const e=bn(t);await ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function db(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function p0(t){return t.map(e=>{var{providerId:n}=e,s=np(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(t,e){const n=await u0(t,{},async()=>{const s=Qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=d0(t,o,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",c0.fetch()(u,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pb(t,e){return Js(t,"POST","/v2/accounts:revokeToken",op(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await fb(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,u=new Ls;return s&&(be(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ls,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,l=np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ra(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ab(this,e)}reload(){return ub(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ac(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await ra(this,ob(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,l,u,f,p,m,y;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,E=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,I=(f=n.tenantId)!==null&&f!==void 0?f:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,j=(m=n.createdAt)!==null&&m!==void 0?m:void 0,$=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:W,emailVerified:ie,isAnonymous:R,providerData:ee,stsTokenManager:ce}=n;be(W&&ce,e,"internal-error");const G=Ls.fromJSON(this.name,ce);be(typeof W=="string",e,"internal-error"),oi(_,e.name),oi(x,e.name),be(typeof ie=="boolean",e,"internal-error"),be(typeof R=="boolean",e,"internal-error"),oi(E,e.name),oi(S,e.name),oi(I,e.name),oi(L,e.name),oi(j,e.name),oi($,e.name);const ae=new Cr({uid:W,auth:e,email:x,emailVerified:ie,displayName:_,isAnonymous:R,photoURL:S,phoneNumber:E,tenantId:I,stsTokenManager:G,createdAt:j,lastLoginAt:$});return ee&&Array.isArray(ee)&&(ae.providerData=ee.map(se=>Object.assign({},se))),L&&(ae._redirectEventId=L),ae}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ls;o.updateFromServerResponse(n);const l=new Cr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ac(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?p0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Ls;f.updateFromIdToken(s);const p=new Cr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new mf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;function br(t){Nr(t instanceof Function,"Expected a class definition");let e=dv.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h0.type="NONE";const fv=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=ql(this.userKey,o.apiKey,l),this.fullPersistenceKey=ql("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new js(br(fv),e,s);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||br(fv);const u=ql(s,e.config.apiKey,e.name);let f=null;for(const m of n)try{const y=await m._get(u);if(y){const _=Cr._fromJSON(e,y);m!==l&&(f=_),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new js(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new js(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x0(e))return"Blackberry";if(w0(e))return"Webos";if(g0(e))return"Safari";if((e.includes("chrome/")||v0(e))&&!e.includes("edge/"))return"Chrome";if(_0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function m0(t=Gt()){return/firefox\//i.test(t)}function g0(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v0(t=Gt()){return/crios\//i.test(t)}function y0(t=Gt()){return/iemobile/i.test(t)}function _0(t=Gt()){return/android/i.test(t)}function x0(t=Gt()){return/blackberry/i.test(t)}function w0(t=Gt()){return/webos/i.test(t)}function lp(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hb(t=Gt()){var e;return lp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mb(){return Ik()&&document.documentMode===10}function E0(t=Gt()){return lp(t)||_0(t)||w0(t)||x0(t)||/windows phone/i.test(t)||y0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e=[]){let n;switch(t){case"Browser":n=pv(Gt());break;case"Worker":n=`${pv(Gt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t,e={}){return Js(t,"GET","/v2/passwordPolicy",op(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=6;class _b{constructor(e){var n,s,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:yb,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,l,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new gb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await f0(this,{idToken:e}),s=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ac(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Xi(this));const n=e?bn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vb(this),n=new _b(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pb(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&br(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pc(t){return bn(t)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mk(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wb(t){cp=t}function Eb(t){return cp.loadJS(t)}function kb(){return cp.gapiScript}function Cb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t,e){const n=tp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(ic(l,e??{}))return o;sr(o,"already-initialized")}return n.initialize({options:e})}function Sb(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Tb(t,e,n){const s=Pc(t);be(s._canInitEmulator,s,"emulator-config-failed"),be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=C0(e),{host:u,port:f}=Ib(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${u}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),Nb()}function C0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ib(t){const e=C0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:mv(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:mv(u)}}}function mv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Nb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return ib(t,"POST","/v1/accounts:signInWithIdp",op(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="http://localhost";class Zi extends b0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,l=np(n,["providerId","signInMethod"]);if(!s||!o)return null;const u=new Zi(s,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ms(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:Rb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends xa{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends xa{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends xa{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return di.credential(n,s)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await Cr._fromIdTokenResponse(e,s,o),u=gv(s);return new Hs({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=gv(s);return new Hs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function gv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Ci{constructor(e,n,s,o){var l;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new lc(e,n,s,o)}}function S0(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?lc._fromErrorAndOperation(t,l,e,s):l})}async function Pb(t,e,n=!1){const s=await ra(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hs._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,e,n=!1){const{auth:s}=t;if(Er(s.app))return Promise.reject(Xi(s));const o="reauthenticate";try{const l=await ra(t,S0(s,o,e,t),n);be(l.idToken,s,"internal-error");const u=ap(l.idToken);be(u,s,"internal-error");const{sub:f}=u;return be(t.uid===f,s,"user-mismatch"),Hs._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&sr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t,e,n=!1){if(Er(t.app))return Promise.reject(Xi(t));const s="signIn",o=await S0(t,s,e),l=await Hs._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(l.user),l}function Ab(t,e,n,s){return bn(t).onIdTokenChanged(e,n,s)}function Lb(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1e3,Mb=10;class I0 extends T0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);mb()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Mb):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I0.type="LOCAL";const Fb=I0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends T0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N0.type="SESSION";const R0=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Dc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(u).map(async m=>m(n.origin,l)),p=await zb(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const m=dp("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(_){const x=_;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function Bb(t){rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function Hb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Vb(){return P0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firebaseLocalStorageDb",$b=1,uc="firebaseLocalStorage",O0="fbase_key";class wa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oc(t,e){return t.transaction([uc],e?"readwrite":"readonly").objectStore(uc)}function qb(){const t=indexedDB.deleteDatabase(D0);return new wa(t).toPromise()}function gf(){const t=indexedDB.open(D0,$b);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(uc,{keyPath:O0})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(uc)?e(s):(s.close(),await qb(),e(await gf()))})})}async function vv(t,e,n){const s=Oc(t,!0).put({[O0]:e,value:n});return new wa(s).toPromise()}async function Kb(t,e){const n=Oc(t,!1).get(e),s=await new wa(n).toPromise();return s===void 0?null:s.value}function yv(t,e){const n=Oc(t,!0).delete(e);return new wa(n).toPromise()}const Gb=800,Yb=3;class A0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Yb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dc._getInstance(Vb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Hb(),!this.activeServiceWorker)return;this.sender=new Ub(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gf();return await vv(e,cc,"1"),await yv(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Kb(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Oc(o,!1).getAll();return new wa(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A0.type="LOCAL";const Qb=A0;new _a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e){return e?br(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends b0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xb(t){return Ob(t.auth,new fp(t),t.bypassAuthState)}function Jb(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),Db(n,new fp(t),t.bypassAuthState)}async function Zb(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),Pb(n,new fp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xb;case"linkViaPopup":case"linkViaRedirect":return Zb;case"reauthViaPopup":case"reauthViaRedirect":return Jb;default:sr(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new _a(2e3,1e4);async function tS(t,e,n){if(Er(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const s=Pc(t);JC(t,e,up);const o=L0(s,n);return new Yi(s,"signInViaPopup",e,o).executeNotNull()}class Yi extends j0{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eS.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="pendingRedirect",Kl=new Map;class rS extends j0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Kl.get(this.auth._key());if(!e){try{const s=await iS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Kl.set(this.auth._key(),e)}return this.bypassAuthState||Kl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iS(t,e){const n=aS(e),s=oS(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sS(t,e){Kl.set(t._key(),e)}function oS(t){return br(t._redirectPersistence)}function aS(t){return ql(nS,t.config.apiKey,t.name)}async function lS(t,e,n=!1){if(Er(t.app))return Promise.reject(Xi(t));const s=Pc(t),o=L0(s,e),u=await new rS(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=10*60*1e3;class uS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dS(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!M0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cS&&this.cachedEventUids.clear(),this.cachedEventUids.has(_v(e))}saveEventToCache(e){this.cachedEventUids.add(_v(e)),this.lastProcessedEventTime=Date.now()}}function _v(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t,e={}){return Js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hS=/^https?/;async function mS(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fS(t);for(const n of e)try{if(gS(n))return}catch{}sr(t,"unauthorized-domain")}function gS(t){const e=hf(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!hS.test(n))return!1;if(pS.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new _a(3e4,6e4);function xv(){const t=rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yS(t){return new Promise((e,n)=>{var s,o,l;function u(){xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xv(),n(Bn(t,"network-request-failed"))},timeout:vS.get()})}if(!((o=(s=rr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=rr().gapi)===null||l===void 0)&&l.load)u();else{const f=Cb("iframefcb");return rr()[f]=()=>{gapi.load?u():n(Bn(t,"network-request-failed"))},Eb(`${kb()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw Gl=null,e})}let Gl=null;function _S(t){return Gl=Gl||yS(t),Gl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new _a(5e3,15e3),wS="__/auth/iframe",ES="emulator/auth/iframe",kS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bS(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sp(e,ES):`https://${t.config.authDomain}/${wS}`,s={apiKey:e.apiKey,appName:t.name,v:Xs},o=CS.get(t.config.apiHost);o&&(s.eid=o);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Qs(s).slice(1)}`}async function SS(t){const e=await _S(t),n=rr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:bS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kS,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const u=Bn(t,"network-request-failed"),f=rr().setTimeout(()=>{l(u)},xS.get());function p(){rr().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IS=500,NS=600,RS="_blank",PS="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DS(t,e,n,s=IS,o=NS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},TS),{width:s.toString(),height:o.toString(),top:l,left:u}),m=Gt().toLowerCase();n&&(f=v0(m)?RS:n),m0(m)&&(e=e||PS,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[E,S])=>`${x}${E}=${S},`,"");if(hb(m)&&f!=="_self")return OS(e||"",f),new wv(null);const _=window.open(e||"",f,y);be(_,t,"popup-blocked");try{_.focus()}catch{}return new wv(_)}function OS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="__/auth/handler",LS="emulator/auth/handler",jS=encodeURIComponent("fac");async function Ev(t,e,n,s,o,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Xs,eventId:o};if(e instanceof up){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",lf(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof xa){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),m=p?`#${jS}=${encodeURIComponent(p)}`:"";return`${MS(t)}?${Qs(f).slice(1)}${m}`}function MS({config:t}){return t.emulator?sp(t,LS):`https://${t.authDomain}/${AS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class FS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=lS,this._overrideRedirectResult=sS}async _openPopup(e,n,s,o){var l;Nr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Ev(e,n,s,hf(),o);return DS(e,u,dp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await Ev(e,n,s,hf(),o);return Bb(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await SS(e),s=new uS(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vd,{type:Vd},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Vd];u!==void 0&&n(!!u),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E0()||g0()||lp()}}const zS=FS;var kv="@firebase/auth",Cv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HS(t){Bs(new Ji("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(t)},m=new xb(s,o,l,p);return Sb(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Bs(new Ji("auth-internal",e=>{const n=Pc(e.getProvider("auth").getImmediate());return(s=>new US(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(kv,Cv,BS(t)),gi(kv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=5*60,VS=Xy("authIdTokenMaxAge")||WS;let bv=null;const $S=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VS)return;const o=n==null?void 0:n.token;bv!==o&&(bv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qS(t=i0()){const e=tp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bb(t,{popupRedirectResolver:zS,persistence:[Qb,Fb,R0]}),s=Xy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=$S(l.toString());Lb(n,u,()=>u(n.currentUser)),Ab(n,f=>u(f))}}const o=Yy("auth");return o&&Tb(n,`http://${o}`),n}function KS(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wb({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const l=Bn("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",KS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HS("Browser");const GS={apiKey:"AIzaSyAMxx8d1P7BYEEw1vlRono0oN4haKeueJE",authDomain:"task-management-6404d.firebaseapp.com",projectId:"task-management-6404d",storageBucket:"task-management-6404d.firebasestorage.app",messagingSenderId:"166548792209",appId:"1:166548792209:web:4300761b3c1e5a1766f030",measurementId:"G-73GP4BM0ZY"},Hn=r0(GS),vf=qS();function YS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}YS(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var pp=t=>typeof t=="number"&&!isNaN(t),ia=t=>typeof t=="string",F0=t=>typeof t=="function",QS=t=>ia(t)||pp(t),XS=t=>C.isValidElement(t)||ia(t)||F0(t)||pp(t),JS=1,z0=()=>`${JS++}`,ir=new Map,yf=[],Sv=new Set,U0=()=>ir.size>0,ZS=(t,{containerId:e})=>{var n;return(n=ir.get(e||1))==null?void 0:n.toasts.get(t)};function eT(t,e){var n;if(e)return!!((n=ir.get(e))!=null&&n.isToastActive(t));let s=!1;return ir.forEach(o=>{o.isToastActive(t)&&(s=!0)}),s}function tT(t){if(!U0()){yf=yf.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||QS(t))ir.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=ir.get(t.containerId);e?e.removeToast(t.id):ir.forEach(n=>{n.removeToast(t.id)})}}var nT=(t={})=>{ir.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function rT(t,e){XS(t)&&(U0()||yf.push({content:t,options:e}),ir.forEach(n=>{n.buildToast(t,e)}))}function B0(t,e){ir.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function iT(t){return Sv.add(t),()=>{Sv.delete(t)}}function sT(t){return t&&(ia(t.toastId)||pp(t.toastId))?t.toastId:z0()}function Ea(t,e){return rT(t,e),e.toastId}function Ac(t,e){return{...e,type:e&&e.type||t,toastId:sT(e)}}function Lc(t){return(e,n)=>Ea(e,Ac(t,n))}function at(t,e){return Ea(t,Ac("default",e))}at.loading=(t,e)=>Ea(t,Ac("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function oT(t,{pending:e,error:n,success:s},o){let l;e&&(l=ia(e)?at.loading(e,o):at.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(m,y,_)=>{if(y==null){at.dismiss(l);return}let x={type:m,...u,...o,data:_},E=ia(y)?{render:y}:y;return l?at.update(l,{...x,...E}):at(E.render,{...x,...E}),_},p=F0(t)?t():t;return p.then(m=>f("success",s,m)).catch(m=>f("error",n,m)),p}at.promise=oT;at.success=Lc("success");at.info=Lc("info");at.error=Lc("error");at.warning=Lc("warning");at.warn=at.warning;at.dark=(t,e)=>Ea(t,Ac("default",{theme:"dark",...e}));function aT(t){tT(t)}at.dismiss=aT;at.clearWaitingQueue=nT;at.isActive=eT;at.update=(t,e={})=>{let n=ZS(t,e);if(n){let{props:s,content:o}=n,l={delay:100,...s,...e,toastId:e.toastId||t,updateId:z0()};l.toastId!==t&&(l.staleId=t);let u=l.render||o;delete l.render,Ea(u,l)}};at.done=t=>{at.update(t,{progress:1})};at.onChange=iT;at.play=t=>B0(!0,t);at.pause=t=>B0(!1,t);const lT=()=>{const t=$f(),e=()=>{const n=new wr;tS(vf,n).then(async s=>{console.log(s),s.user&&at.success("User Logged In Successfully",{position:"top-center"}),t("/Task-Management/")})};return g.jsx("div",{className:"h-screen flex flex-col justify-center items-center bg-purple-800/10",children:g.jsxs("div",{className:"sm:w-[25%]  w-[95%] sm:px-0 px-4  mx-auto sm:py-14 py-10 ",children:[g.jsxs("div",{className:"flex items-center text-purple-900 mx-auto font-bold gap-2 ml-10 ",children:[g.jsx(Vy,{className:"size-11"}),g.jsx("p",{className:"text-3xl tracking-wide",children:"TaskBuddy"})]}),g.jsx("p",{className:"mt-3 text-[15px] w-[280px] text-justify place-self-center",children:"streamline your workflow and track progress effortlessly with our all-in-one task management app."}),g.jsxs("div",{onClick:e,className:"flex items-center sm:gap-2.5 place-self-center gap-3 bg-black rounded-3xl w-fit sm:px-10 px-10 sm:py-4 py-3 sm:mt-4 mt-4 cursor-pointer ",children:[g.jsx("img",{src:"/google.jpg",className:"sm:size-7 size-5 bg-black "}),g.jsx("p",{className:"sm:text-[20px] text-[18px] text-white font-semibold ",children:"Continue with Google"})]})]})})};function cT(t){return pt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"},child:[]}]})(t)}function H0(t){return pt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"},child:[]}]})(t)}function uT(t){return pt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},child:[]}]})(t)}function W0(t){return pt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}function dT(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 13a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 18a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm6 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"},child:[]}]})(t)}function V0(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m16.533 12.5.054.043c.93.75 1.538 1.77 1.538 3.066a4.13 4.13 0 0 1-1.479 3.177c-1.058.904-2.679 1.464-4.974 1.464-2.35 0-4.252-.837-5.318-1.865a.75.75 0 1 1 1.042-1.08c.747.722 2.258 1.445 4.276 1.445 2.065 0 3.296-.504 3.999-1.105a2.63 2.63 0 0 0 .954-2.036c0-.764-.337-1.38-.979-1.898-.649-.523-1.598-.931-2.76-1.211H3.75a.75.75 0 0 1 0-1.5h16.5a.75.75 0 0 1 0 1.5ZM12.36 5C9.37 5 8.105 6.613 8.105 7.848c0 .411.072.744.193 1.02a.75.75 0 0 1-1.373.603 3.988 3.988 0 0 1-.32-1.623c0-2.363 2.271-4.348 5.755-4.348 1.931 0 3.722.794 4.814 1.5a.75.75 0 1 1-.814 1.26c-.94-.607-2.448-1.26-4-1.26Z"},child:[]}]})(t)}function hp(t){return pt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(t)}function $0(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"},child:[]}]})(t)}function jc(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function Mc(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"},child:[]}]})(t)}function q0(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(t)}function K0(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.75024 3.5H4.71733L3.25 3.89317V5.44582L4.25002 5.17782L4.25018 8.5H3V10H7V8.5H5.75024V3.5ZM10 4H21V6H10V4ZM10 11H21V13H10V11ZM10 18H21V20H10V18ZM2.875 15.625C2.875 14.4514 3.82639 13.5 5 13.5C6.17361 13.5 7.125 14.4514 7.125 15.625C7.125 16.1106 6.96183 16.5587 6.68747 16.9167L6.68271 16.9229L5.31587 18.5H7V20H3.00012L2.99959 18.8786L5.4717 16.035C5.5673 15.9252 5.625 15.7821 5.625 15.625C5.625 15.2798 5.34518 15 5 15C4.67378 15 4.40573 15.2501 4.37747 15.5688L4.3651 15.875H2.875V15.625Z"},child:[]}]})(t)}function zn(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9ZM9 12V18H11V12H9ZM13 12V18H15V12H13Z"},child:[]}]})(t)}var Tv={};const Iv="@firebase/database",Nv="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0="";function fT(t){G0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ta(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ar(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pT(e)}}catch{}return new hT},Qi=Y0("localStorage"),mT=Y0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Zf("@firebase/database"),gT=function(){let t=1;return function(){return t++}}(),Q0=function(t){const e=Uk(t),n=new jk;n.update(e);const s=n.digest();return Qf.encodeByteArray(s)},ka=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=ka.apply(null,s):typeof s=="object"?e+=Tt(s):e+=s,e+=" "}return e};let Yo=null,Rv=!0;const vT=function(t,e){K(!e,"Can't turn on custom loggers persistently."),Fs.logLevel=Ge.VERBOSE,Yo=Fs.log.bind(Fs)},Lt=function(...t){if(Rv===!0&&(Rv=!1,Yo===null&&mT.get("logging_enabled")===!0&&vT()),Yo){const e=ka.apply(null,t);Yo(e)}},Ca=function(t){return function(...e){Lt(t,...e)}},_f=function(...t){const e="FIREBASE INTERNAL ERROR: "+ka(...t);Fs.error(e)},Rr=function(...t){const e=`FIREBASE FATAL ERROR: ${ka(...t)}`;throw Fs.error(e),new Error(e)},Kt=function(...t){const e="FIREBASE WARNING: "+ka(...t);Fs.warn(e)},yT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_T=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ws="[MIN_NAME]",es="[MAX_NAME]",os=function(t,e){if(t===e)return 0;if(t===Ws||e===es)return-1;if(e===Ws||t===es)return 1;{const n=Pv(t),s=Pv(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},xT=function(t,e){return t===e?0:t<e?-1:1},Ho=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tt(e))},gp=function(t){if(typeof t!="object"||t===null)return Tt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Tt(e[s]),n+=":",n+=gp(t[e[s]]);return n+="}",n},X0=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let o=0;o<n;o+=e)o+e>n?s.push(t.substring(o,n)):s.push(t.substring(o,o+e));return s};function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const J0=function(t){K(!mp(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let o,l,u,f,p;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=f+s,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(p=n;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(p=e;p;p-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(o?1:0),m.reverse();const y=m.join("");let _="";for(p=0;p<64;p+=8){let x=parseInt(y.substr(p,8),2).toString(16);x.length===1&&(x="0"+x),_=_+x}return _.toLowerCase()},wT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ET=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kT(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const CT=new RegExp("^-?(0*)\\d{1,10}$"),bT=-2147483648,ST=2147483647,Pv=function(t){if(CT.test(t)){const e=Number(t);if(e>=bT&&e<=ST)return e}return null},Zs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},TT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kt(e)}}class Yl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="5",Z0="v",e_="s",t_="r",n_="f",r_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,i_="ls",s_="p",xf="ac",o_="websocket",a_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,s,o,l=!1,u="",f=!1,p=!1){this.secure=n,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function RT(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function c_(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let s;if(e===o_)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===a_)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RT(t)&&(n.ns=t.namespace);const o=[];return Mt(n,(l,u)=>{o.push(l+"="+u)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.counters_={}}incrementCounter(e,n=1){ar(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d={},qd={};function yp(t){const e=t.toString();return $d[e]||($d[e]=new PT),$d[e]}function DT(t,e){const n=t.toString();return qd[n]||(qd[n]=e()),qd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Zs(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="start",AT="close",LT="pLPCommand",jT="pRTLPCB",u_="id",d_="pw",f_="ser",MT="cb",FT="seg",zT="ts",UT="d",BT="dframe",p_=1870,h_=30,HT=p_-h_,WT=25e3,VT=3e4;class As{constructor(e,n,s,o,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ca(e),this.stats_=yp(n),this.urlFn=p=>(this.appCheckToken&&(p[xf]=this.appCheckToken),c_(n,a_,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new OT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VT)),_T(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _p((...l)=>{const[u,f,p,m,y]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Dv)this.id=f,this.password=p;else if(u===AT)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[Dv]="t",s[f_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[MT]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Z0]=vp,this.transportSessionId&&(s[e_]=this.transportSessionId),this.lastSessionId&&(s[i_]=this.lastSessionId),this.applicationId&&(s[s_]=this.applicationId),this.appCheckToken&&(s[xf]=this.appCheckToken),typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(s[t_]=n_);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){As.forceAllow_=!0}static forceDisallow(){As.forceDisallow_=!0}static isAvailable(){return As.forceAllow_?!0:!As.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wT()&&!ET()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ky(n),o=X0(s,HT);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[BT]="t",s[u_]=e,s[d_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _p{constructor(e,n,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gT(),window[LT+this.uniqueCallbackIdentifier]=e,window[jT+this.uniqueCallbackIdentifier]=n,this.myIFrame=_p.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Lt("frame writing exception"),f.stack&&Lt(f.stack),Lt(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Lt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[u_]=this.myID,e[d_]=this.myPW,e[f_]=this.currentSerial;let n=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+h_+s.length<=p_;){const u=this.pendingSegs.shift();s=s+"&"+FT+o+"="+u.seg+"&"+zT+o+"="+u.ts+"&"+UT+o+"="+u.d,o++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(s,Math.floor(WT)),l=()=>{clearTimeout(o),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=16384,qT=45e3;let dc=null;typeof MozWebSocket<"u"?dc=MozWebSocket:typeof WebSocket<"u"&&(dc=WebSocket);class tr{constructor(e,n,s,o,l,u,f){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ca(this.connId),this.stats_=yp(n),this.connURL=tr.connectionURL_(n,u,f,o,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,o,l){const u={};return u[Z0]=vp,typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(u[t_]=n_),n&&(u[e_]=n),s&&(u[i_]=s),o&&(u[xf]=o),l&&(u[s_]=l),c_(e,o_,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let s;Zy(),this.mySock=new dc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&dc!==null&&!tr.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=ta(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=X0(n,$T);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qT))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tr.responsesRequiredToBeHealthy=2;tr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static get ALL_TRANSPORTS(){return[As,tr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=tr.isAvailable();let s=n&&!tr.previouslyFailed();if(e.webSocketOnly&&(n||Kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tr];else{const o=this.transports_=[];for(const l of sa.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);sa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}sa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=6e4,GT=5e3,YT=10*1024,QT=100*1024,Kd="t",Ov="d",XT="s",Av="r",JT="e",Lv="o",jv="a",Mv="n",Fv="p",ZT="h";class eI{constructor(e,n,s,o,l,u,f,p,m,y){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ca("c:"+this.id+":"),this.transportManager_=new sa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Qo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kd in e){const n=e[Kd];n===jv?this.upgradeIfSecondaryHealthy_():n===Av?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Lv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ho("t",e),s=Ho("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Fv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ho("t",e),s=Ho("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ho(Kd,e);if(Ov in e){const s=e[Ov];if(n===ZT){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Mv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XT?this.onConnectionShutdown_(s):n===Av?this.onReset_(s):n===JT?_f("Server Error: "+s):n===Lv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_f("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vp!==s&&Kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Qo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(GT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Fv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{put(e,n,s,o){}merge(e,n,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const o=this.getInitialEvent(e);o&&n.apply(s,o)}off(e,n,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!s||s===o[l].context)){o.splice(l,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends g_{static getInstance(){return new fc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=32,Uv=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function He(){return new Ye("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xi(t){return t.pieces_.length-t.pieceNum_}function nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function xp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function oa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function v_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function vt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ye)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&n.push(s[o])}return new Ye(n,0)}function Ae(t){return t.pieceNum_>=t.pieces_.length}function qt(t,e){const n=Le(t),s=Le(e);if(n===null)return e;if(n===s)return qt(nt(t),nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nI(t,e){const n=oa(t,0),s=oa(e,0);for(let o=0;o<n.length&&o<s.length;o++){const l=os(n[o],s[o]);if(l!==0)return l}return n.length===s.length?0:n.length<s.length?-1:1}function y_(t,e){if(xi(t)!==xi(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function kn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(xi(t)>xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class rI{constructor(e,n){this.errorPrefix_=n,this.parts_=oa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Rc(this.parts_[s]);__(this)}}function iI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rc(e),__(t)}function sI(t){const e=t.parts_.pop();t.byteLength_-=Rc(e),t.parts_.length>0&&(t.byteLength_-=1)}function __(t){if(t.byteLength_>Uv)throw new Error(t.errorPrefix_+"has a key path longer than "+Uv+" bytes ("+t.byteLength_+").");if(t.parts_.length>zv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zv+") or object contains a cycle "+$i(t))}function $i(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends g_{static getInstance(){return new wp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=1e3,oI=60*5*1e3,Bv=30*1e3,aI=1.3,lI=3e4,cI="server_kill",Hv=3;class Tr extends m_{constructor(e,n,s,o,l,u,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=Tr.nextPersistentConnectionId_++,this.log_=Ca("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wo,this.maxReconnectDelay_=oI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!Zy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(Tt(l)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const n=new va,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:s};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+s+" for "+o);const l={p:s},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const p=f.d,m=f.s;Tr.warnOnListenWarnings_(p,n),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ar(e,"w")){const s=Us(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Lk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Bv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ak(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,n)}sendUnlisten_(e,n,s,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=s,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,o){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,s,o){this.putInternal("p",e,n,s,o)}merge(e,n,s,o){this.putInternal("m",e,n,s,o)}putInternal(e,n,s,o,l){this.initConnection_();const u={p:n,d:s};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):_f("Unrecognized action received from server: "+Tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lI&&(this.reconnectDelay_=Wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Tr.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const p=function(){f?f.close():(u=!0,s())},m=function(_){K(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,x]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?Lt("getToken() completed but was canceled"):(Lt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=x&&x.token,f=new eI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,E=>{Kt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(cI)},l))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Kt(_),p())}}}interrupt(e){Lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lf(this.interruptReasons_)&&(this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>gp(l)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const s=new Ye(e).toString();let o;if(this.listens.has(s)){const l=this.listens.get(s);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,n){Lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hv&&(this.reconnectDelay_=Bv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+G0.replace(/\./g,"-")]=1,Jf()?e["framework.cordova"]=1:Jy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fc.getInstance().currentlyOnline();return lf(this.interruptReasons_)&&e}}Tr.nextPersistentConnectionId_=0;Tr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Oe(Ws,e),o=new Oe(Ws,n);return this.compare(s,o)!==0}minPost(){return Oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;class x_ extends Fc{static get __EMPTY_NODE(){return Fl}static set __EMPTY_NODE(e){Fl=e}compare(e,n){return os(e.name,n.name)}isDefinedOn(e){throw Ys("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Oe.MIN}maxPost(){return new Oe(es,Fl)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new Oe(e,Fl)}toString(){return".key"}}const zs=new x_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,s,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?s(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Dt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??Dt.RED,this.left=o??tn.EMPTY_NODE,this.right=l??tn.EMPTY_NODE}copy(e,n,s,o,l){return new Dt(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return tn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,o;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return tn.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Dt.RED=!0;Dt.BLACK=!1;class uI{copy(e,n,s,o,l){return this}insert(e,n,s){return new Dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tn{constructor(e,n=tn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new tn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,o=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new zl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new zl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new zl(this.root_,null,this.comparator_,!0,e)}}tn.EMPTY_NODE=new uI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e){return os(t.name,e.name)}function Ep(t,e){return os(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;function fI(t){wf=t}const w_=function(t){return typeof t=="number"?"number:"+J0(t):"string:"+t},E_=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ar(e,".sv"),"Priority must be a string or number.")}else K(t===wf||t.isEmpty(),"priority of unexpected type.");K(t===wf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv;class Pt{static set __childrenNodeConstructor(e){Wv=e}static get __childrenNodeConstructor(){return Wv}constructor(e,n=Pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),E_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ae(e)?this:Le(e)===".priority"?this.priorityNode_:Pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Le(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(K(s!==".priority"||xi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+w_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=J0(this.value_):e+=this.value_,this.lazyHash_=Q0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Pt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,o=Pt.VALUE_TYPE_ORDER.indexOf(n),l=Pt.VALUE_TYPE_ORDER.indexOf(s);return K(o>=0,"Unknown leaf type: "+n),K(l>=0,"Unknown leaf type: "+s),o===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_,C_;function pI(t){k_=t}function hI(t){C_=t}class mI extends Fc{compare(e,n){const s=e.node.getPriority(),o=n.node.getPriority(),l=s.compareTo(o);return l===0?os(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Oe.MIN}maxPost(){return new Oe(es,new Pt("[PRIORITY-POST]",C_))}makePost(e,n){const s=k_(e);return new Oe(n,new Pt("[PRIORITY-POST]",s))}toString(){return".priority"}}const yt=new mI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=Math.log(2);class vI{constructor(e){const n=l=>parseInt(Math.log(l)/gI,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pc=function(t,e,n,s){t.sort(e);const o=function(p,m){const y=m-p;let _,x;if(y===0)return null;if(y===1)return _=t[p],x=n?n(_):_,new Dt(x,_.node,Dt.BLACK,null,null);{const E=parseInt(y/2,10)+p,S=o(p,E),I=o(E+1,m);return _=t[E],x=n?n(_):_,new Dt(x,_.node,Dt.BLACK,S,I)}},l=function(p){let m=null,y=null,_=t.length;const x=function(S,I){const L=_-S,j=_;_-=S;const $=o(L+1,j),W=t[L],ie=n?n(W):W;E(new Dt(ie,W.node,I,null,$))},E=function(S){m?(m.left=S,m=S):(y=S,m=S)};for(let S=0;S<p.count;++S){const I=p.nextBitIsOne(),L=Math.pow(2,p.count-(S+1));I?x(L,Dt.BLACK):(x(L,Dt.BLACK),x(L,Dt.RED))}return y},u=new vI(t.length),f=l(u);return new tn(s||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;const Vo={};class Sr{static get Default(){return K(yt,"ChildrenNode.ts has not been loaded"),Gd=Gd||new Sr({".priority":Vo},{".priority":yt}),Gd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Us(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tn?n:null}hasIndex(e){return ar(this.indexSet_,e.toString())}addIndex(e,n){K(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const l=n.getIterator(Oe.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),s.push(u),u=l.getNext();let f;o?f=pc(s,e.getCompare()):f=Vo;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=f,new Sr(y,m)}addToIndexes(e,n){const s=rc(this.indexes_,(o,l)=>{const u=Us(this.indexSet_,l);if(K(u,"Missing index implementation for "+l),o===Vo)if(u.isDefinedOn(e.node)){const f=[],p=n.getIterator(Oe.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&f.push(m),m=p.getNext();return f.push(e),pc(f,u.getCompare())}else return Vo;else{const f=n.get(e.name);let p=o;return f&&(p=p.remove(new Oe(e.name,f))),p.insert(e,e.node)}});return new Sr(s,this.indexSet_)}removeFromIndexes(e,n){const s=rc(this.indexes_,o=>{if(o===Vo)return o;{const l=n.get(e.name);return l?o.remove(new Oe(e.name,l)):o}});return new Sr(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class xe{static get EMPTY_NODE(){return $o||($o=new xe(new tn(Ep),null,Sr.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&E_(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$o}updatePriority(e){return this.children_.isEmpty()?this:new xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$o:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Oe(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const u=o.isEmpty()?$o:this.priorityNode_;return new xe(o,u,l)}}updateChild(e,n){const s=Le(e);if(s===null)return n;{K(Le(e)!==".priority"||xi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(nt(e),n);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,o=0,l=!0;if(this.forEachChild(yt,(u,f)=>{n[u]=f.val(e),s++,l&&xe.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*s){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+w_(this.getPriority().val())+":"),this.forEachChild(yt,(n,s)=>{const o=s.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":Q0(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const o=this.resolveIndex_(s);if(o){const l=o.getPredecessorKey(new Oe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Oe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Oe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ba?-1:0}withIndex(e){if(e===zs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new xe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(yt),o=n.getIterator(yt);let l=s.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=s.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===zs?null:this.indexMap_.get(e.toString())}}xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yI extends xe{constructor(){super(new tn(Ep),xe.EMPTY_NODE,Sr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xe.EMPTY_NODE}isEmpty(){return!1}}const ba=new yI;Object.defineProperties(Oe,{MIN:{value:new Oe(Ws,xe.EMPTY_NODE)},MAX:{value:new Oe(es,ba)}});x_.__EMPTY_NODE=xe.EMPTY_NODE;Pt.__childrenNodeConstructor=xe;fI(ba);hI(ba);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=!0;function St(t,e=null){if(t===null)return xe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Pt(n,St(e))}if(!(t instanceof Array)&&_I){const n=[];let s=!1;if(Mt(t,(u,f)=>{if(u.substring(0,1)!=="."){const p=St(f);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),n.push(new Oe(u,p)))}}),n.length===0)return xe.EMPTY_NODE;const l=pc(n,dI,u=>u.name,Ep);if(s){const u=pc(n,yt.getCompare());return new xe(l,St(e),new Sr({".priority":u},{".priority":yt}))}else return new xe(l,St(e),Sr.Default)}else{let n=xe.EMPTY_NODE;return Mt(t,(s,o)=>{if(ar(t,s)&&s.substring(0,1)!=="."){const l=St(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(St(e))}}pI(St);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends Fc{constructor(e){super(),this.indexPath_=e,K(!Ae(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),o=this.extractChild(n.node),l=s.compareTo(o);return l===0?os(e.name,n.name):l}makePost(e,n){const s=St(e),o=xe.EMPTY_NODE.updateChild(this.indexPath_,s);return new Oe(n,o)}maxPost(){const e=xe.EMPTY_NODE.updateChild(this.indexPath_,ba);return new Oe(es,e)}toString(){return oa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Fc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?os(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Oe.MIN}maxPost(){return Oe.MAX}makePost(e,n){const s=St(e);return new Oe(n,s)}toString(){return".value"}}const EI=new wI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){return{type:"value",snapshotNode:t}}function Vs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function aa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function la(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.index_=e}updateChild(e,n,s,o,l,u){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(o).equals(s.getChild(o))&&f.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?e.hasChild(n)?u.trackChildChange(aa(n,f)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Vs(n,s)):u.trackChildChange(la(n,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(yt,(o,l)=>{n.hasChild(o)||s.trackChildChange(aa(o,l))}),n.isLeafNode()||n.forEachChild(yt,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||s.trackChildChange(la(o,l,u))}else s.trackChildChange(Vs(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?xe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.indexedFilter_=new kp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ca.getStartPost_(e),this.endPost_=ca.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,o,l,u){return this.matches(new Oe(n,s))||(s=xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,o,l,u)}updateFullNode(e,n,s){n.isLeafNode()&&(n=xe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(xe.EMPTY_NODE);const l=this;return n.forEachChild(yt,(u,f)=>{l.matches(new Oe(u,f))||(o=o.updateImmediateChild(u,xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new ca(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,o,l,u){return this.rangedFilter_.matches(new Oe(n,s))||(s=xe.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,o,l,u):this.fullLimitUpdateChild_(e,n,s,l,u)}updateFullNode(e,n,s){let o;if(n.isLeafNode()||n.isEmpty())o=xe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=xe.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(xe.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:o=o.updateImmediateChild(f.name,xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,o,l){let u;if(this.reverse_){const _=this.index_.getCompare();u=(x,E)=>_(E,x)}else u=this.index_.getCompare();const f=e;K(f.numChildren()===this.limit_,"");const p=new Oe(n,s),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(f.hasChild(n)){const _=f.getImmediateChild(n);let x=o.getChildAfterChild(this.index_,m,this.reverse_);for(;x!=null&&(x.name===n||f.hasChild(x.name));)x=o.getChildAfterChild(this.index_,x,this.reverse_);const E=x==null?1:u(x,p);if(y&&!s.isEmpty()&&E>=0)return l!=null&&l.trackChildChange(la(n,s,_)),f.updateImmediateChild(n,s);{l!=null&&l.trackChildChange(aa(n,_));const I=f.updateImmediateChild(n,xe.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(l!=null&&l.trackChildChange(Vs(x.name,x.node)),I.updateImmediateChild(x.name,x.node)):I}}else return s.isEmpty()?e:y&&u(m,p)>=0?(l!=null&&(l.trackChildChange(aa(m.name,m.node)),l.trackChildChange(Vs(n,s))),f.updateImmediateChild(n,s).updateImmediateChild(m.name,xe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const e=new Cp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bI(t){return t.loadsAllData()?new kp(t.getIndex()):t.hasLimit()?new CI(t):new ca(t)}function Vv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yt?n="$priority":t.index_===EI?n="$value":t.index_===zs?n="$key":(K(t.index_ instanceof xI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Tt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Tt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Tt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $v(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends m_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=Ca("p:rest:"),this.listens_={}}listen(e,n,s,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=hc.getListenId_(e,s),f={};this.listens_[u]=f;const p=Vv(e._queryParams);this.restRequest_(l+".json",p,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(l,_,!1,s),Us(this.listens_,u)===f){let x;m?m===401?x="permission_denied":x="rest_error:"+m:x="ok",o(x,null)}})}unlisten(e,n){const s=hc.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Vv(e._queryParams),s=e._path.toString(),o=new va;return this.restRequest_(s+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(s,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qs(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=ta(f.responseText)}catch{Kt("Failed to parse JSON response for "+u+": "+f.responseText)}s(null,p)}else f.status!==401&&f.status!==404&&Kt("Got unsuccessful REST response for "+u+" Status: "+f.status),s(f.status);s=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){return{value:null,children:new Map}}function S_(t,e,n){if(Ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Le(e);t.children.has(s)||t.children.set(s,mc());const o=t.children.get(s);e=nt(e),S_(o,e,n)}}function Ef(t,e,n){t.value!==null?n(e,t.value):TI(t,(s,o)=>{const l=new Ye(e.toString()+"/"+s);Ef(o,l,n)})}function TI(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mt(this.last_,(s,o)=>{n[s]=n[s]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=10*1e3,NI=30*1e3,RI=5*60*1e3;class PI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new II(e);const s=qv+(NI-qv)*Math.random();Qo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Mt(e,(o,l)=>{l>0&&ar(this.statsToReport_,o)&&(n[o]=l,s=!0)}),s&&this.server_.reportStats(n),Qo(this.reportStats_.bind(this),Math.floor(Math.random()*2*RI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Un||(Un={}));function bp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Un.ACK_USER_WRITE,this.source=bp()}operationForChild(e){if(Ae(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new gc(He(),n,this.revert)}}else return K(Le(this.path)===e,"operationForChild called for unrelated child."),new gc(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.source=e,this.path=n,this.type=Un.LISTEN_COMPLETE}operationForChild(e){return Ae(this.path)?new ua(this.source,He()):new ua(this.source,nt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Un.OVERWRITE}operationForChild(e){return Ae(this.path)?new ts(this.source,He(),this.snap.getImmediateChild(e)):new ts(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Un.MERGE}operationForChild(e){if(Ae(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new ts(this.source,He(),n.value):new $s(this.source,He(),n)}else return K(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $s(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function OI(t,e,n,s){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(kI(u.childName,u.snapshotNode))}),qo(t,o,"child_removed",e,s,n),qo(t,o,"child_added",e,s,n),qo(t,o,"child_moved",l,s,n),qo(t,o,"child_changed",e,s,n),qo(t,o,"value",e,s,n),o}function qo(t,e,n,s,o,l){const u=s.filter(f=>f.type===n);u.sort((f,p)=>LI(t,f,p)),u.forEach(f=>{const p=AI(t,f,l);o.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(p,t.query_))})})}function AI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function LI(t,e,n){if(e.childName==null||n.childName==null)throw Ys("Should only compare child_ events.");const s=new Oe(e.childName,e.snapshotNode),o=new Oe(n.childName,n.snapshotNode);return t.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t,e){return{eventCache:t,serverCache:e}}function Xo(t,e,n,s){return zc(new wi(e,n,s),t.serverCache)}function T_(t,e,n,s){return zc(t.eventCache,new wi(e,n,s))}function vc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ns(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd;const jI=()=>(Yd||(Yd=new tn(xT)),Yd);class tt{static fromObject(e){let n=new tt(null);return Mt(e,(s,o)=>{n=n.set(new Ye(s),o)}),n}constructor(e,n=jI()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Ae(e))return null;{const s=Le(e),o=this.children.get(s);if(o!==null){const l=o.findRootMostMatchingPathAndValue(nt(e),n);return l!=null?{path:vt(new Ye(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ae(e))return this;{const n=Le(e),s=this.children.get(n);return s!==null?s.subtree(nt(e)):new tt(null)}}set(e,n){if(Ae(e))return new tt(n,this.children);{const s=Le(e),l=(this.children.get(s)||new tt(null)).set(nt(e),n),u=this.children.insert(s,l);return new tt(this.value,u)}}remove(e){if(Ae(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const n=Le(e),s=this.children.get(n);if(s){const o=s.remove(nt(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new tt(null):new tt(this.value,l)}else return this}}get(e){if(Ae(e))return this.value;{const n=Le(e),s=this.children.get(n);return s?s.get(nt(e)):null}}setTree(e,n){if(Ae(e))return n;{const s=Le(e),l=(this.children.get(s)||new tt(null)).setTree(nt(e),n);let u;return l.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,l),new tt(this.value,u)}}fold(e){return this.fold_(He(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((o,l)=>{s[o]=l.fold_(vt(e,o),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,He(),n)}findOnPath_(e,n,s){const o=this.value?s(n,this.value):!1;if(o)return o;if(Ae(e))return null;{const l=Le(e),u=this.children.get(l);return u?u.findOnPath_(nt(e),vt(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,He(),n)}foreachOnPath_(e,n,s){if(Ae(e))return this;{this.value&&s(n,this.value);const o=Le(e),l=this.children.get(o);return l?l.foreachOnPath_(nt(e),vt(n,o),s):new tt(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,n){this.children.inorderTraversal((s,o)=>{o.foreach_(vt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.writeTree_=e}static empty(){return new Wn(new tt(null))}}function Jo(t,e,n){if(Ae(e))return new Wn(new tt(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let l=s.value;const u=qt(o,e);return l=l.updateChild(u,n),new Wn(t.writeTree_.set(o,l))}else{const o=new tt(n),l=t.writeTree_.setTree(e,o);return new Wn(l)}}}function kf(t,e,n){let s=t;return Mt(n,(o,l)=>{s=Jo(s,vt(e,o),l)}),s}function Kv(t,e){if(Ae(e))return Wn.empty();{const n=t.writeTree_.setTree(e,new tt(null));return new Wn(n)}}function Cf(t,e){return as(t,e)!=null}function as(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(qt(n.path,e)):null}function Gv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(s,o)=>{e.push(new Oe(s,o))}):t.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new Oe(s,o.value))}),e}function vi(t,e){if(Ae(e))return t;{const n=as(t,e);return n!=null?new Wn(new tt(n)):new Wn(t.writeTree_.subtree(e))}}function bf(t){return t.writeTree_.isEmpty()}function qs(t,e){return I_(He(),t.writeTree_,e)}function I_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(K(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=I_(vt(t,o),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(vt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t,e){return D_(e,t)}function MI(t,e,n,s,o){K(s>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:o}),o&&(t.visibleWrites=Jo(t.visibleWrites,e,n)),t.lastWriteId=s}function FI(t,e,n,s){K(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=kf(t.visibleWrites,e,n),t.lastWriteId=s}function zI(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function UI(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let o=s.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&BI(f,s.path)?o=!1:kn(s.path,f.path)&&(l=!0)),u--}if(o){if(l)return HI(t),!0;if(s.snap)t.visibleWrites=Kv(t.visibleWrites,s.path);else{const f=s.children;Mt(f,p=>{t.visibleWrites=Kv(t.visibleWrites,vt(s.path,p))})}return!0}else return!1}function BI(t,e){if(t.snap)return kn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&kn(vt(t.path,n),e))return!0;return!1}function HI(t){t.visibleWrites=N_(t.allWrites,WI,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function WI(t){return t.visible}function N_(t,e,n){let s=Wn.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let f;if(l.snap)kn(n,u)?(f=qt(n,u),s=Jo(s,f,l.snap)):kn(u,n)&&(f=qt(u,n),s=Jo(s,He(),l.snap.getChild(f)));else if(l.children){if(kn(n,u))f=qt(n,u),s=kf(s,f,l.children);else if(kn(u,n))if(f=qt(u,n),Ae(f))s=kf(s,He(),l.children);else{const p=Us(l.children,Le(f));if(p){const m=p.getChild(nt(f));s=Jo(s,He(),m)}}}else throw Ys("WriteRecord should have .snap or .children")}}return s}function R_(t,e,n,s,o){if(!s&&!o){const l=as(t.visibleWrites,e);if(l!=null)return l;{const u=vi(t.visibleWrites,e);if(bf(u))return n;if(n==null&&!Cf(u,He()))return null;{const f=n||xe.EMPTY_NODE;return qs(u,f)}}}else{const l=vi(t.visibleWrites,e);if(!o&&bf(l))return n;if(!o&&n==null&&!Cf(l,He()))return null;{const u=function(m){return(m.visible||o)&&(!s||!~s.indexOf(m.writeId))&&(kn(m.path,e)||kn(e,m.path))},f=N_(t.allWrites,u,e),p=n||xe.EMPTY_NODE;return qs(f,p)}}}function VI(t,e,n){let s=xe.EMPTY_NODE;const o=as(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(yt,(l,u)=>{s=s.updateImmediateChild(l,u)}),s;if(n){const l=vi(t.visibleWrites,e);return n.forEachChild(yt,(u,f)=>{const p=qs(vi(l,new Ye(u)),f);s=s.updateImmediateChild(u,p)}),Gv(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const l=vi(t.visibleWrites,e);return Gv(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function $I(t,e,n,s,o){K(s||o,"Either existingEventSnap or existingServerSnap must exist");const l=vt(e,n);if(Cf(t.visibleWrites,l))return null;{const u=vi(t.visibleWrites,l);return bf(u)?o.getChild(n):qs(u,o.getChild(n))}}function qI(t,e,n,s){const o=vt(e,n),l=as(t.visibleWrites,o);if(l!=null)return l;if(s.isCompleteForChild(n)){const u=vi(t.visibleWrites,o);return qs(u,s.getNode().getImmediateChild(n))}else return null}function KI(t,e){return as(t.visibleWrites,e)}function GI(t,e,n,s,o,l,u){let f;const p=vi(t.visibleWrites,e),m=as(p,He());if(m!=null)f=m;else if(n!=null)f=qs(p,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const y=[],_=u.getCompare(),x=l?f.getReverseIteratorFrom(s,u):f.getIteratorFrom(s,u);let E=x.getNext();for(;E&&y.length<o;)_(E,s)!==0&&y.push(E),E=x.getNext();return y}else return[]}function YI(){return{visibleWrites:Wn.empty(),allWrites:[],lastWriteId:-1}}function yc(t,e,n,s){return R_(t.writeTree,t.treePath,e,n,s)}function Ip(t,e){return VI(t.writeTree,t.treePath,e)}function Yv(t,e,n,s){return $I(t.writeTree,t.treePath,e,n,s)}function _c(t,e){return KI(t.writeTree,vt(t.treePath,e))}function QI(t,e,n,s,o,l){return GI(t.writeTree,t.treePath,e,n,s,o,l)}function Np(t,e,n){return qI(t.writeTree,t.treePath,e,n)}function P_(t,e){return D_(vt(t.treePath,e),t.writeTree)}function D_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,la(s,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,aa(s,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,Vs(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,la(s,e.snapshotNode,o.oldSnap));else throw Ys("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const O_=new JI;class Rp{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new wi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Np(this.writes_,e,s)}}getChildAfterChild(e,n,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ns(this.viewCache_),l=QI(this.writes_,o,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){return{filter:t}}function eN(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function tN(t,e,n,s,o){const l=new XI;let u,f;if(n.type===Un.OVERWRITE){const m=n;m.source.fromUser?u=Sf(t,e,m.path,m.snap,s,o,l):(K(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!Ae(m.path),u=xc(t,e,m.path,m.snap,s,o,f,l))}else if(n.type===Un.MERGE){const m=n;m.source.fromUser?u=rN(t,e,m.path,m.children,s,o,l):(K(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),u=Tf(t,e,m.path,m.children,s,o,f,l))}else if(n.type===Un.ACK_USER_WRITE){const m=n;m.revert?u=oN(t,e,m.path,s,o,l):u=iN(t,e,m.path,m.affectedTree,s,o,l)}else if(n.type===Un.LISTEN_COMPLETE)u=sN(t,e,n.path,s,l);else throw Ys("Unknown operation type: "+n.type);const p=l.getChanges();return nN(e,u,p),{viewCache:u,changes:p}}function nN(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=vc(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(b_(vc(e)))}}function A_(t,e,n,s,o,l){const u=e.eventCache;if(_c(s,n)!=null)return e;{let f,p;if(Ae(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ns(e),y=m instanceof xe?m:xe.EMPTY_NODE,_=Ip(s,y);f=t.filter.updateFullNode(e.eventCache.getNode(),_,l)}else{const m=yc(s,ns(e));f=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=Le(n);if(m===".priority"){K(xi(n)===1,"Can't have a priority with additional path components");const y=u.getNode();p=e.serverCache.getNode();const _=Yv(s,n,y,p);_!=null?f=t.filter.updatePriority(y,_):f=u.getNode()}else{const y=nt(n);let _;if(u.isCompleteForChild(m)){p=e.serverCache.getNode();const x=Yv(s,n,u.getNode(),p);x!=null?_=u.getNode().getImmediateChild(m).updateChild(y,x):_=u.getNode().getImmediateChild(m)}else _=Np(s,m,e.serverCache);_!=null?f=t.filter.updateChild(u.getNode(),m,_,y,o,l):f=u.getNode()}}return Xo(e,f,u.isFullyInitialized()||Ae(n),t.filter.filtersNodes())}}function xc(t,e,n,s,o,l,u,f){const p=e.serverCache;let m;const y=u?t.filter:t.filter.getIndexedFilter();if(Ae(n))m=y.updateFullNode(p.getNode(),s,null);else if(y.filtersNodes()&&!p.isFiltered()){const E=p.getNode().updateChild(n,s);m=y.updateFullNode(p.getNode(),E,null)}else{const E=Le(n);if(!p.isCompleteForPath(n)&&xi(n)>1)return e;const S=nt(n),L=p.getNode().getImmediateChild(E).updateChild(S,s);E===".priority"?m=y.updatePriority(p.getNode(),L):m=y.updateChild(p.getNode(),E,L,S,O_,null)}const _=T_(e,m,p.isFullyInitialized()||Ae(n),y.filtersNodes()),x=new Rp(o,_,l);return A_(t,_,n,o,x,f)}function Sf(t,e,n,s,o,l,u){const f=e.eventCache;let p,m;const y=new Rp(o,e,l);if(Ae(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,u),p=Xo(e,m,!0,t.filter.filtersNodes());else{const _=Le(n);if(_===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),p=Xo(e,m,f.isFullyInitialized(),f.isFiltered());else{const x=nt(n),E=f.getNode().getImmediateChild(_);let S;if(Ae(x))S=s;else{const I=y.getCompleteChild(_);I!=null?xp(x)===".priority"&&I.getChild(v_(x)).isEmpty()?S=I:S=I.updateChild(x,s):S=xe.EMPTY_NODE}if(E.equals(S))p=e;else{const I=t.filter.updateChild(f.getNode(),_,S,x,y,u);p=Xo(e,I,f.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function Qv(t,e){return t.eventCache.isCompleteForChild(e)}function rN(t,e,n,s,o,l,u){let f=e;return s.foreach((p,m)=>{const y=vt(n,p);Qv(e,Le(y))&&(f=Sf(t,f,y,m,o,l,u))}),s.foreach((p,m)=>{const y=vt(n,p);Qv(e,Le(y))||(f=Sf(t,f,y,m,o,l,u))}),f}function Xv(t,e,n){return n.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Tf(t,e,n,s,o,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;Ae(n)?m=s:m=new tt(null).setTree(n,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,x)=>{if(y.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),S=Xv(t,E,x);p=xc(t,p,new Ye(_),S,o,l,u,f)}}),m.children.inorderTraversal((_,x)=>{const E=!e.serverCache.isCompleteForChild(_)&&x.value===null;if(!y.hasChild(_)&&!E){const S=e.serverCache.getNode().getImmediateChild(_),I=Xv(t,S,x);p=xc(t,p,new Ye(_),I,o,l,u,f)}}),p}function iN(t,e,n,s,o,l,u){if(_c(o,n)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(Ae(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return xc(t,e,n,p.getNode().getChild(n),o,l,f,u);if(Ae(n)){let m=new tt(null);return p.getNode().forEachChild(zs,(y,_)=>{m=m.set(new Ye(y),_)}),Tf(t,e,n,m,o,l,f,u)}else return e}else{let m=new tt(null);return s.foreach((y,_)=>{const x=vt(n,y);p.isCompleteForPath(x)&&(m=m.set(y,p.getNode().getChild(x)))}),Tf(t,e,n,m,o,l,f,u)}}function sN(t,e,n,s,o){const l=e.serverCache,u=T_(e,l.getNode(),l.isFullyInitialized()||Ae(n),l.isFiltered());return A_(t,u,n,s,O_,o)}function oN(t,e,n,s,o,l){let u;if(_c(s,n)!=null)return e;{const f=new Rp(s,e,o),p=e.eventCache.getNode();let m;if(Ae(n)||Le(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=yc(s,ns(e));else{const _=e.serverCache.getNode();K(_ instanceof xe,"serverChildren would be complete if leaf node"),y=Ip(s,_)}y=y,m=t.filter.updateFullNode(p,y,l)}else{const y=Le(n);let _=Np(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?m=t.filter.updateChild(p,y,_,nt(n),f,l):e.eventCache.getNode().hasChild(y)?m=t.filter.updateChild(p,y,xe.EMPTY_NODE,nt(n),f,l):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=yc(s,ns(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||_c(s,He())!=null,Xo(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new kp(s.getIndex()),l=bI(s);this.processor_=ZI(l);const u=n.serverCache,f=n.eventCache,p=o.updateFullNode(xe.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(xe.EMPTY_NODE,f.getNode(),null),y=new wi(p,u.isFullyInitialized(),o.filtersNodes()),_=new wi(m,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=zc(_,y),this.eventGenerator_=new DI(this.query_)}get query(){return this.query_}}function lN(t){return t.viewCache_.serverCache.getNode()}function cN(t){return vc(t.viewCache_)}function uN(t,e){const n=ns(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ae(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function Jv(t){return t.eventRegistrations_.length===0}function dN(t,e){t.eventRegistrations_.push(e)}function Zv(t,e,n){const s=[];if(n){K(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&s.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return s}function ey(t,e,n,s){e.type===Un.MERGE&&e.source.queryId!==null&&(K(ns(t.viewCache_),"We should always have a full cache before handling merges"),K(vc(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=tN(t.processor_,o,e,n,s);return eN(t.processor_,l.viewCache),K(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,L_(t,l.changes,l.viewCache.eventCache.getNode(),null)}function fN(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(l,u)=>{s.push(Vs(l,u))}),n.isFullyInitialized()&&s.push(b_(n.getNode())),L_(t,s,n.getNode(),e)}function L_(t,e,n,s){const o=s?[s]:t.eventRegistrations_;return OI(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;class j_{constructor(){this.views=new Map}}function pN(t){K(!wc,"__referenceConstructor has already been defined"),wc=t}function hN(){return K(wc,"Reference.ts has not been loaded"),wc}function mN(t){return t.views.size===0}function Pp(t,e,n,s){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return K(l!=null,"SyncTree gave us an op for an invalid query."),ey(l,e,n,s)}else{let l=[];for(const u of t.views.values())l=l.concat(ey(u,e,n,s));return l}}function M_(t,e,n,s,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=yc(n,o?s:null),p=!1;f?p=!0:s instanceof xe?(f=Ip(n,s),p=!1):(f=xe.EMPTY_NODE,p=!1);const m=zc(new wi(f,p,!1),new wi(s,o,!1));return new aN(e,m)}return u}function gN(t,e,n,s,o,l){const u=M_(t,e,s,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),dN(u,n),fN(u,n)}function vN(t,e,n,s){const o=e._queryIdentifier,l=[];let u=[];const f=Ei(t);if(o==="default")for(const[p,m]of t.views.entries())u=u.concat(Zv(m,n,s)),Jv(m)&&(t.views.delete(p),m.query._queryParams.loadsAllData()||l.push(m.query));else{const p=t.views.get(o);p&&(u=u.concat(Zv(p,n,s)),Jv(p)&&(t.views.delete(o),p.query._queryParams.loadsAllData()||l.push(p.query)))}return f&&!Ei(t)&&l.push(new(hN())(e._repo,e._path)),{removed:l,events:u}}function F_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function yi(t,e){let n=null;for(const s of t.views.values())n=n||uN(s,e);return n}function z_(t,e){if(e._queryParams.loadsAllData())return Bc(t);{const s=e._queryIdentifier;return t.views.get(s)}}function U_(t,e){return z_(t,e)!=null}function Ei(t){return Bc(t)!=null}function Bc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;function yN(t){K(!Ec,"__referenceConstructor has already been defined"),Ec=t}function _N(){return K(Ec,"Reference.ts has not been loaded"),Ec}let xN=1;class ty{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=YI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function B_(t,e,n,s,o){return MI(t.pendingWriteTree_,e,n,s,o),o?eo(t,new ts(bp(),e,n)):[]}function wN(t,e,n,s){FI(t.pendingWriteTree_,e,n,s);const o=tt.fromObject(n);return eo(t,new $s(bp(),e,o))}function fi(t,e,n=!1){const s=zI(t.pendingWriteTree_,e);if(UI(t.pendingWriteTree_,e)){let l=new tt(null);return s.snap!=null?l=l.set(He(),!0):Mt(s.children,u=>{l=l.set(new Ye(u),!0)}),eo(t,new gc(s.path,l,n))}else return[]}function Sa(t,e,n){return eo(t,new ts(Sp(),e,n))}function EN(t,e,n){const s=tt.fromObject(n);return eo(t,new $s(Sp(),e,s))}function kN(t,e){return eo(t,new ua(Sp(),e))}function CN(t,e,n){const s=Op(t,n);if(s){const o=Ap(s),l=o.path,u=o.queryId,f=qt(l,e),p=new ua(Tp(u),f);return Lp(t,l,p)}else return[]}function H_(t,e,n,s,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||U_(u,e))){const p=vN(u,e,n,s);mN(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=p.removed;if(f=p.events,!o){const y=m.findIndex(x=>x._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(l,(x,E)=>Ei(E));if(y&&!_){const x=t.syncPointTree_.subtree(l);if(!x.isEmpty()){const E=IN(x);for(let S=0;S<E.length;++S){const I=E[S],L=I.query,j=q_(t,I);t.listenProvider_.startListening(Zo(L),da(t,L),j.hashFn,j.onComplete)}}}!_&&m.length>0&&!s&&(y?t.listenProvider_.stopListening(Zo(e),null):m.forEach(x=>{const E=t.queryToTagMap.get(Hc(x));t.listenProvider_.stopListening(Zo(x),E)}))}NN(t,m)}return f}function W_(t,e,n,s){const o=Op(t,s);if(o!=null){const l=Ap(o),u=l.path,f=l.queryId,p=qt(u,e),m=new ts(Tp(f),p,n);return Lp(t,u,m)}else return[]}function bN(t,e,n,s){const o=Op(t,s);if(o){const l=Ap(o),u=l.path,f=l.queryId,p=qt(u,e),m=tt.fromObject(n),y=new $s(Tp(f),p,m);return Lp(t,u,y)}else return[]}function SN(t,e,n,s=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(x,E)=>{const S=qt(x,o);l=l||yi(E,S),u=u||Ei(E)});let f=t.syncPointTree_.get(o);f?(u=u||Ei(f),l=l||yi(f,He())):(f=new j_,t.syncPointTree_=t.syncPointTree_.set(o,f));let p;l!=null?p=!0:(p=!1,l=xe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((E,S)=>{const I=yi(S,He());I&&(l=l.updateImmediateChild(E,I))}));const m=U_(f,e);if(!m&&!e._queryParams.loadsAllData()){const x=Hc(e);K(!t.queryToTagMap.has(x),"View does not exist, but we have a tag");const E=RN();t.queryToTagMap.set(x,E),t.tagToQueryMap.set(E,x)}const y=Uc(t.pendingWriteTree_,o);let _=gN(f,e,n,y,l,p);if(!m&&!u&&!s){const x=z_(f,e);_=_.concat(PN(t,e,x))}return _}function Dp(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const p=qt(u,e),m=yi(f,p);if(m)return m});return R_(o,e,l,n,!0)}function TN(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(m,y)=>{const _=qt(m,n);s=s||yi(y,_)});let o=t.syncPointTree_.get(n);o?s=s||yi(o,He()):(o=new j_,t.syncPointTree_=t.syncPointTree_.set(n,o));const l=s!=null,u=l?new wi(s,!0,!1):null,f=Uc(t.pendingWriteTree_,e._path),p=M_(o,e,f,l?u.getNode():xe.EMPTY_NODE,l);return cN(p)}function eo(t,e){return V_(e,t.syncPointTree_,null,Uc(t.pendingWriteTree_,He()))}function V_(t,e,n,s){if(Ae(t.path))return $_(t,e,n,s);{const o=e.get(He());n==null&&o!=null&&(n=yi(o,He()));let l=[];const u=Le(t.path),f=t.operationForChild(u),p=e.children.get(u);if(p&&f){const m=n?n.getImmediateChild(u):null,y=P_(s,u);l=l.concat(V_(f,p,m,y))}return o&&(l=l.concat(Pp(o,t,s,n))),l}}function $_(t,e,n,s){const o=e.get(He());n==null&&o!=null&&(n=yi(o,He()));let l=[];return e.children.inorderTraversal((u,f)=>{const p=n?n.getImmediateChild(u):null,m=P_(s,u),y=t.operationForChild(u);y&&(l=l.concat($_(y,f,p,m)))}),o&&(l=l.concat(Pp(o,t,s,n))),l}function q_(t,e){const n=e.query,s=da(t,n);return{hashFn:()=>(lN(e)||xe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?CN(t,n._path,s):kN(t,n._path);{const l=kT(o,n);return H_(t,n,null,l)}}}}function da(t,e){const n=Hc(e);return t.queryToTagMap.get(n)}function Hc(t){return t._path.toString()+"$"+t._queryIdentifier}function Op(t,e){return t.tagToQueryMap.get(e)}function Ap(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function Lp(t,e,n){const s=t.syncPointTree_.get(e);K(s,"Missing sync point for query tag that we're tracking");const o=Uc(t.pendingWriteTree_,e);return Pp(s,n,o,null)}function IN(t){return t.fold((e,n,s)=>{if(n&&Ei(n))return[Bc(n)];{let o=[];return n&&(o=F_(n)),Mt(s,(l,u)=>{o=o.concat(u)}),o}})}function Zo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_N())(t._repo,t._path):t}function NN(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const o=Hc(s),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function RN(){return xN++}function PN(t,e,n){const s=e._path,o=da(t,e),l=q_(t,n),u=t.listenProvider_.startListening(Zo(e),o,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(s);if(o)K(!Ei(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((m,y,_)=>{if(!Ae(m)&&y&&Ei(y))return[Bc(y).query];{let x=[];return y&&(x=x.concat(F_(y).map(E=>E.query))),Mt(_,(E,S)=>{x=x.concat(S)}),x}});for(let m=0;m<p.length;++m){const y=p[m];t.listenProvider_.stopListening(Zo(y),da(t,y))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jp(n)}node(){return this.node_}}class Mp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=vt(this.path_,e);return new Mp(this.syncTree_,n)}node(){return Dp(this.syncTree_,this.path_)}}const DN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ny=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return ON(t[".sv"],e,n);if(typeof t[".sv"]=="object")return AN(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},ON=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},AN=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&K(!1,"Unexpected increment value: "+s);const o=e.node();if(K(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const u=o.getValue();return typeof u!="number"?s:u+s},K_=function(t,e,n,s){return Fp(e,new Mp(n,t),s)},G_=function(t,e,n){return Fp(t,new jp(e),n)};function Fp(t,e,n){const s=t.getPriority().val(),o=ny(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=ny(u.getValue(),e,n);return f!==u.getValue()||o!==u.getPriority().val()?new Pt(f,St(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new Pt(o))),u.forEachChild(yt,(f,p)=>{const m=Fp(p,e.getImmediateChild(f),n);m!==p&&(l=l.updateImmediateChild(f,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Up(t,e){let n=e instanceof Ye?e:new Ye(e),s=t,o=Le(n);for(;o!==null;){const l=Us(s.node.children,o)||{children:{},childCount:0};s=new zp(o,s,l),n=nt(n),o=Le(n)}return s}function to(t){return t.node.value}function Y_(t,e){t.node.value=e,If(t)}function Q_(t){return t.node.childCount>0}function LN(t){return to(t)===void 0&&!Q_(t)}function Wc(t,e){Mt(t.node.children,(n,s)=>{e(new zp(n,t,s))})}function X_(t,e,n,s){n&&!s&&e(t),Wc(t,o=>{X_(o,e,!0,s)})}function jN(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ta(t){return new Ye(t.parent===null?t.name:Ta(t.parent)+"/"+t.name)}function If(t){t.parent!==null&&MN(t.parent,t.name,t)}function MN(t,e,n){const s=LN(n),o=ar(t.node.children,e);s&&o?(delete t.node.children[e],t.node.childCount--,If(t)):!s&&!o&&(t.node.children[e]=n.node,t.node.childCount++,If(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/[\[\].#$\/\u0000-\u001F\u007F]/,zN=/[\[\].#$\u0000-\u001F\u007F]/,Qd=10*1024*1024,Bp=function(t){return typeof t=="string"&&t.length!==0&&!FN.test(t)},J_=function(t){return typeof t=="string"&&t.length!==0&&!zN.test(t)},UN=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),J_(t)},BN=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!mp(t)||t&&typeof t=="object"&&ar(t,".sv")},HN=function(t,e,n,s){Vc(Nc(t,"value"),e,n)},Vc=function(t,e,n){const s=n instanceof Ye?new rI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+$i(s));if(typeof e=="function")throw new Error(t+"contains a function "+$i(s)+" with contents = "+e.toString());if(mp(e))throw new Error(t+"contains "+e.toString()+" "+$i(s));if(typeof e=="string"&&e.length>Qd/3&&Rc(e)>Qd)throw new Error(t+"contains a string greater than "+Qd+" utf8 bytes "+$i(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(Mt(e,(u,f)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Bp(u)))throw new Error(t+" contains an invalid key ("+u+") "+$i(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iI(s,u),Vc(t,f,s),sI(s)}),o&&l)throw new Error(t+' contains ".value" child '+$i(s)+" in addition to actual children.")}},WN=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const l=oa(s);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Bp(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(nI);let o=null;for(n=0;n<e.length;n++){if(s=e[n],o!==null&&kn(o,s))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+s.toString());o=s}},VN=function(t,e,n,s){const o=Nc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];Mt(e,(u,f)=>{const p=new Ye(u);if(Vc(o,f,vt(n,p)),xp(p)===".priority"&&!BN(f))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(p)}),WN(o,l)},Z_=function(t,e,n,s){if(!J_(n))throw new Error(Nc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$N=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Z_(t,e,n)},ex=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},qN=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Bp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UN(n))throw new Error(Nc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hp(t,e){let n=null;for(let s=0;s<e.length;s++){const o=e[s],l=o.getPath();n!==null&&!y_(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function Cn(t,e,n){Hp(t,n),GN(t,s=>kn(s,e)||kn(e,s))}function GN(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const o=t.eventLists_[s];if(o){const l=o.path;e(l)?(YN(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function YN(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Yo&&Lt("event: "+n.toString()),Zs(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="repo_interrupt",XN=25;class JN{constructor(e,n,s,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mc(),this.transactionQueueTree_=new zp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZN(t,e,n){if(t.stats_=yp(t.repoInfo_),t.forceRestClient_||TT())t.server_=new hc(t.repoInfo_,(s,o,l,u)=>{ry(t,s,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>iy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Tr(t.repoInfo_,e,(s,o,l,u)=>{ry(t,s,o,l,u)},s=>{iy(t,s)},s=>{tR(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=DT(t.repoInfo_,()=>new PI(t.stats_,t.server_)),t.infoData_=new SI,t.infoSyncTree_=new ty({startListening:(s,o,l,u)=>{let f=[];const p=t.infoData_.getNode(s._path);return p.isEmpty()||(f=Sa(t.infoSyncTree_,s._path,p),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),Wp(t,"connected",!1),t.serverSyncTree_=new ty({startListening:(s,o,l,u)=>(t.server_.listen(s,l,o,(f,p)=>{const m=u(f,p);Cn(t.eventQueue_,s._path,m)}),[]),stopListening:(s,o)=>{t.server_.unlisten(s,o)}})}function eR(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $c(t){return DN({timestamp:eR(t)})}function ry(t,e,n,s,o){t.dataUpdateCount++;const l=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(s){const p=rc(n,m=>St(m));u=bN(t.serverSyncTree_,l,p,o)}else{const p=St(n);u=W_(t.serverSyncTree_,l,p,o)}else if(s){const p=rc(n,m=>St(m));u=EN(t.serverSyncTree_,l,p)}else{const p=St(n);u=Sa(t.serverSyncTree_,l,p)}let f=l;u.length>0&&(f=Ks(t,l)),Cn(t.eventQueue_,f,u)}function iy(t,e){Wp(t,"connected",e),e===!1&&sR(t)}function tR(t,e){Mt(e,(n,s)=>{Wp(t,n,s)})}function Wp(t,e,n){const s=new Ye("/.info/"+e),o=St(n);t.infoData_.updateSnapshot(s,o);const l=Sa(t.infoSyncTree_,s,o);Cn(t.eventQueue_,s,l)}function Vp(t){return t.nextWriteId_++}function nR(t,e,n){const s=TN(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(o=>{const l=St(o).withIndex(e._queryParams.getIndex());SN(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=Sa(t.serverSyncTree_,e._path,l);else{const f=da(t.serverSyncTree_,e);u=W_(t.serverSyncTree_,e._path,l,f)}return Cn(t.eventQueue_,e._path,u),H_(t.serverSyncTree_,e,n,null,!0),l},o=>(Ia(t,"get for query "+Tt(e)+" failed: "+o),Promise.reject(new Error(o))))}function rR(t,e,n,s,o){Ia(t,"set",{path:e.toString(),value:n,priority:s});const l=$c(t),u=St(n,s),f=Dp(t.serverSyncTree_,e),p=G_(u,f,l),m=Vp(t),y=B_(t.serverSyncTree_,e,p,m,!0);Hp(t.eventQueue_,y),t.server_.put(e.toString(),u.val(!0),(x,E)=>{const S=x==="ok";S||Kt("set at "+e+" failed: "+x);const I=fi(t.serverSyncTree_,m,!S);Cn(t.eventQueue_,e,I),Nf(t,o,x,E)});const _=qp(t,e);Ks(t,_),Cn(t.eventQueue_,_,[])}function iR(t,e,n,s){Ia(t,"update",{path:e.toString(),value:n});let o=!0;const l=$c(t),u={};if(Mt(n,(f,p)=>{o=!1,u[f]=K_(vt(e,f),St(p),t.serverSyncTree_,l)}),o)Lt("update() called with empty data.  Don't do anything."),Nf(t,s,"ok",void 0);else{const f=Vp(t),p=wN(t.serverSyncTree_,e,u,f);Hp(t.eventQueue_,p),t.server_.merge(e.toString(),n,(m,y)=>{const _=m==="ok";_||Kt("update at "+e+" failed: "+m);const x=fi(t.serverSyncTree_,f,!_),E=x.length>0?Ks(t,e):e;Cn(t.eventQueue_,E,x),Nf(t,s,m,y)}),Mt(n,m=>{const y=qp(t,vt(e,m));Ks(t,y)}),Cn(t.eventQueue_,e,[])}}function sR(t){Ia(t,"onDisconnectEvents");const e=$c(t),n=mc();Ef(t.onDisconnect_,He(),(o,l)=>{const u=K_(o,l,t.serverSyncTree_,e);S_(n,o,u)});let s=[];Ef(n,He(),(o,l)=>{s=s.concat(Sa(t.serverSyncTree_,o,l));const u=qp(t,o);Ks(t,u)}),t.onDisconnect_=mc(),Cn(t.eventQueue_,He(),s)}function oR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(QN)}function Ia(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Lt(n,...e)}function Nf(t,e,n,s){e&&Zs(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;s&&(l+=": "+s);const u=new Error(l);u.code=o,e(u)}})}function tx(t,e,n){return Dp(t.serverSyncTree_,e,n)||xe.EMPTY_NODE}function $p(t,e=t.transactionQueueTree_){if(e||qc(t,e),to(e)){const n=rx(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&aR(t,Ta(e),n)}else Q_(e)&&Wc(e,n=>{$p(t,n)})}function aR(t,e,n){const s=n.map(m=>m.currentWriteId),o=tx(t,e,s);let l=o;const u=o.hash();for(let m=0;m<n.length;m++){const y=n[m];K(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=qt(e,y.path);l=l.updateChild(_,y.currentOutputSnapshotRaw)}const f=l.val(!0),p=e;t.server_.put(p.toString(),f,m=>{Ia(t,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let x=0;x<n.length;x++)n[x].status=2,y=y.concat(fi(t.serverSyncTree_,n[x].currentWriteId)),n[x].onComplete&&_.push(()=>n[x].onComplete(null,!0,n[x].currentOutputSnapshotResolved)),n[x].unwatcher();qc(t,Up(t.transactionQueueTree_,e)),$p(t,t.transactionQueueTree_),Cn(t.eventQueue_,e,y);for(let x=0;x<_.length;x++)Zs(_[x])}else{if(m==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Kt("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=m}Ks(t,e)}},u)}function Ks(t,e){const n=nx(t,e),s=Ta(n),o=rx(t,n);return lR(t,o,s),s}function lR(t,e,n){if(e.length===0)return;const s=[];let o=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],m=qt(n,p.path);let y=!1,_;if(K(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,o=o.concat(fi(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=XN)y=!0,_="maxretry",o=o.concat(fi(t.serverSyncTree_,p.currentWriteId,!0));else{const x=tx(t,p.path,u);p.currentInputSnapshot=x;const E=e[f].update(x.val());if(E!==void 0){Vc("transaction failed: Data returned ",E,p.path);let S=St(E);typeof E=="object"&&E!=null&&ar(E,".priority")||(S=S.updatePriority(x.getPriority()));const L=p.currentWriteId,j=$c(t),$=G_(S,x,j);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=$,p.currentWriteId=Vp(t),u.splice(u.indexOf(L),1),o=o.concat(B_(t.serverSyncTree_,p.path,$,p.currentWriteId,p.applyLocally)),o=o.concat(fi(t.serverSyncTree_,L,!0))}else y=!0,_="nodata",o=o.concat(fi(t.serverSyncTree_,p.currentWriteId,!0))}Cn(t.eventQueue_,n,o),o=[],y&&(e[f].status=2,function(x){setTimeout(x,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(_==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(_),!1,null))))}qc(t,t.transactionQueueTree_);for(let f=0;f<s.length;f++)Zs(s[f]);$p(t,t.transactionQueueTree_)}function nx(t,e){let n,s=t.transactionQueueTree_;for(n=Le(e);n!==null&&to(s)===void 0;)s=Up(s,n),e=nt(e),n=Le(e);return s}function rx(t,e){const n=[];return ix(t,e,n),n.sort((s,o)=>s.order-o.order),n}function ix(t,e,n){const s=to(e);if(s)for(let o=0;o<s.length;o++)n.push(s[o]);Wc(e,o=>{ix(t,o,n)})}function qc(t,e){const n=to(e);if(n){let s=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[s]=n[o],s++);n.length=s,Y_(e,n.length>0?n:void 0)}Wc(e,s=>{qc(t,s)})}function qp(t,e){const n=Ta(nx(t,e)),s=Up(t.transactionQueueTree_,e);return jN(s,o=>{Xd(t,o)}),Xd(t,s),X_(s,o=>{Xd(t,o)}),n}function Xd(t,e){const n=to(e);if(n){const s=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(K(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(K(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(fi(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&s.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?Y_(e,void 0):n.length=l+1,Cn(t.eventQueue_,Ta(e),o);for(let u=0;u<s.length;u++)Zs(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let o=n[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function uR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const sy=function(t,e){const n=dR(t),s=n.namespace;n.domain==="firebase.com"&&Rr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Rr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yT();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new l_(n.host,n.secure,s,o,e,"",s!==n.subdomain),path:new Ye(n.pathString)}},dR=function(t){let e="",n="",s="",o="",l="",u=!0,f="https",p=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(f=t.substring(0,m-1),t=t.substring(m+2));let y=t.indexOf("/");y===-1&&(y=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(y,_)),y<_&&(o=cR(t.substring(y,_)));const x=uR(t.substring(Math.min(t.length,_)));m=e.indexOf(":"),m>=0?(u=f==="https"||f==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const E=e.slice(0,m);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const S=e.indexOf(".");s=e.substring(0,S).toLowerCase(),n=e.substring(S+1),l=s}"ns"in x&&(l=x.ns)}return{host:e,port:p,domain:n,subdomain:s,secure:u,scheme:f,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,s,o){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class pR{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,o){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=o}get key(){return Ae(this._path)?null:xp(this._path)}get ref(){return new Dr(this._repo,this._path)}get _queryIdentifier(){const e=$v(this._queryParams),n=gp(e);return n==="{}"?"default":n}get _queryObject(){return $v(this._queryParams)}isEqual(e){if(e=bn(e),!(e instanceof Kp))return!1;const n=this._repo===e._repo,s=y_(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+tI(this._path)}}class Dr extends Kp{constructor(e,n){super(e,n,new Cp,!1)}get parent(){const e=v_(this._path);return e===null?null:new Dr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class fa{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ye(e),s=Rf(this.ref,e);return new fa(this._node.getChild(n),s,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new fa(o,Rf(this.ref,s),yt)))}hasChild(e){const n=new Ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vn(t,e){return t=bn(t),t._checkNotDeleted("ref"),e!==void 0?Rf(t._root,e):t._root}function Rf(t,e){return t=bn(t),Le(t._path)===null?$N("child","path",e):Z_("child","path",e),new Dr(t._repo,vt(t._path,e))}function no(t){return ex("remove",t._path),Gp(t,null)}function Gp(t,e){t=bn(t),ex("set",t._path),HN("set",e,t._path);const n=new va;return rR(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mR(t,e){VN("update",e,t._path);const n=new va;return iR(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function sx(t){t=bn(t);const e=new hR(()=>{}),n=new Yp(e);return nR(t._repo,t,n).then(s=>new fa(s,new Dr(t._repo,t._path),t._queryParams.getIndex()))}class Yp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new fR("value",this,new fa(e.snapshotNode,new Dr(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new pR(this,e,n):null}matches(e){return e instanceof Yp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}pN(Dr);yN(Dr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="FIREBASE_DATABASE_EMULATOR_HOST",Pf={};let vR=!1;function yR(t,e,n,s){t.repoInfo_=new l_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function _R(t,e,n,s,o){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||Rr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Lt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=sy(l,o),f=u.repoInfo,p;typeof process<"u"&&Tv&&(p=Tv[gR]),p?(l=`http://${p}?ns=${f.namespace}`,u=sy(l,o),f=u.repoInfo):u.repoInfo.secure;const m=new NT(t.name,t.options,e);qN("Invalid Firebase Database URL",u),Ae(u.path)||Rr("Database URL must point to the root of a Firebase Database (not including a child path).");const y=wR(f,t,m,new IT(t.name,n));return new ER(y,t)}function xR(t,e){const n=Pf[e];(!n||n[t.key]!==t)&&Rr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oR(t),delete n[t.key]}function wR(t,e,n,s){let o=Pf[e.name];o||(o={},Pf[e.name]=o);let l=o[t.toURLString()];return l&&Rr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new JN(t,vR,n,s),o[t.toURLString()]=l,l}class ER{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dr(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rr("Cannot call "+e+" on a deleted database.")}}function $n(t=i0(),e){const n=tp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Ck("database");s&&kR(n,...s)}return n}function kR(t,e,n,s={}){t=bn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Rr("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let l;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Rr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Yl(Yl.OWNER);else if(s.mockUserToken){const u=typeof s.mockUserToken=="string"?s.mockUserToken:bk(s.mockUserToken,t.app.options.projectId);l=new Yl(u)}yR(o,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){fT(Xs),Bs(new Ji("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return _R(s,o,l,n)},"PUBLIC").setMultipleInstances(!0)),gi(Iv,Nv,t),gi(Iv,Nv,"esm2017")}Tr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Tr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};CR();var Jd={exports:{}},Zd,oy;function bR(){if(oy)return Zd;oy=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zd=t,Zd}var ef,ay;function SR(){if(ay)return ef;ay=1;var t=bR();function e(){}function n(){}return n.resetWarningCache=e,ef=function(){function s(u,f,p,m,y,_){if(_!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},ef}var ly;function TR(){return ly||(ly=1,Jd.exports=SR()()),Jd.exports}var IR=TR();const Xe=Mf(IR),NR=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Gs(t,e,n){const s=RR(t),{webkitRelativePath:o}=t,l=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${t.name}`;return typeof s.path!="string"&&cy(s,"path",l),cy(s,"relativePath",l),s}function RR(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const s=e.split(".").pop().toLowerCase(),o=NR.get(s);o&&Object.defineProperty(t,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return t}function cy(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const PR=[".DS_Store","Thumbs.db"];function DR(t){return ss(this,void 0,void 0,function*(){return kc(t)&&OR(t.dataTransfer)?MR(t.dataTransfer,t.type):AR(t)?LR(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?jR(t):[]})}function OR(t){return kc(t)}function AR(t){return kc(t)&&kc(t.target)}function kc(t){return typeof t=="object"&&t!==null}function LR(t){return Df(t.target.files).map(e=>Gs(e))}function jR(t){return ss(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Gs(n))})}function MR(t,e){return ss(this,void 0,void 0,function*(){if(t.items){const n=Df(t.items).filter(o=>o.kind==="file");if(e!=="drop")return n;const s=yield Promise.all(n.map(FR));return uy(ox(s))}return uy(Df(t.files).map(n=>Gs(n)))})}function uy(t){return t.filter(e=>PR.indexOf(e.name)===-1)}function Df(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const s=t[n];e.push(s)}return e}function FR(t){if(typeof t.webkitGetAsEntry!="function")return dy(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?ax(e):dy(t,e)}function ox(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?ox(n):[n]],[])}function dy(t,e){return ss(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const l=yield t.getAsFileSystemHandle();if(l===null)throw new Error(`${t} is not a File`);if(l!==void 0){const u=yield l.getFile();return u.handle=l,Gs(u)}}const s=t.getAsFile();if(!s)throw new Error(`${t} is not a File`);return Gs(s,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function zR(t){return ss(this,void 0,void 0,function*(){return t.isDirectory?ax(t):UR(t)})}function ax(t){const e=t.createReader();return new Promise((n,s)=>{const o=[];function l(){e.readEntries(u=>ss(this,void 0,void 0,function*(){if(u.length){const f=Promise.all(u.map(zR));o.push(f),l()}else try{const f=yield Promise.all(o);n(f)}catch(f){s(f)}}),u=>{s(u)})}l()})}function UR(t){return ss(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(s=>{const o=Gs(s,t.fullPath);e(o)},s=>{n(s)})})})}var Ul={},fy;function BR(){return fy||(fy=1,Ul.__esModule=!0,Ul.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var s=t.name||"",o=(t.type||"").toLowerCase(),l=o.replace(/\/.*$/,"");return n.some(function(u){var f=u.trim().toLowerCase();return f.charAt(0)==="."?s.toLowerCase().endsWith(f):f.endsWith("/*")?l===f.replace(/\/.*$/,""):o===f})}return!0}),Ul}var HR=BR();const tf=Mf(HR);function py(t){return $R(t)||VR(t)||cx(t)||WR()}function WR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $R(t){if(Array.isArray(t))return Of(t)}function hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hy(Object(n),!0).forEach(function(s){lx(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function lx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pa(t,e){return GR(t)||KR(t,e)||cx(t,e)||qR()}function qR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cx(t,e){if(t){if(typeof t=="string")return Of(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Of(t,e)}}function Of(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function KR(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],o=!0,l=!1,u,f;try{for(n=n.call(t);!(o=(u=n.next()).done)&&(s.push(u.value),!(e&&s.length===e));o=!0);}catch(p){l=!0,f=p}finally{try{!o&&n.return!=null&&n.return()}finally{if(l)throw f}}return s}}function GR(t){if(Array.isArray(t))return t}var YR=typeof tf=="function"?tf:tf.default,QR="file-invalid-type",XR="file-too-large",JR="file-too-small",ZR="too-many-files",e2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),s=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:QR,message:"File type must be ".concat(s)}},gy=function(e){return{code:XR,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},vy=function(e){return{code:JR,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},t2={code:ZR,message:"Too many files"};function ux(t,e){var n=t.type==="application/x-moz-file"||YR(t,e);return[n,n?null:e2(e)]}function dx(t,e,n){if(Ki(t.size))if(Ki(e)&&Ki(n)){if(t.size>n)return[!1,gy(n)];if(t.size<e)return[!1,vy(e)]}else{if(Ki(e)&&t.size<e)return[!1,vy(e)];if(Ki(n)&&t.size>n)return[!1,gy(n)]}return[!0,null]}function Ki(t){return t!=null}function n2(t){var e=t.files,n=t.accept,s=t.minSize,o=t.maxSize,l=t.multiple,u=t.maxFiles,f=t.validator;return!l&&e.length>1||l&&u>=1&&e.length>u?!1:e.every(function(p){var m=ux(p,n),y=pa(m,1),_=y[0],x=dx(p,s,o),E=pa(x,1),S=E[0],I=f?f(p):null;return _&&S&&!I})}function Cc(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Bl(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function yy(t){t.preventDefault()}function r2(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function i2(t){return t.indexOf("Edge/")!==-1}function s2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return r2(t)||i2(t)}function er(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){for(var o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];return e.some(function(f){return!Cc(s)&&f&&f.apply(void 0,[s].concat(l)),Cc(s)})}}function o2(){return"showOpenFilePicker"in window}function a2(t){if(Ki(t)){var e=Object.entries(t).filter(function(n){var s=pa(n,2),o=s[0],l=s[1],u=!0;return fx(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),u=!1),(!Array.isArray(l)||!l.every(px))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),u=!1),u}).reduce(function(n,s){var o=pa(s,2),l=o[0],u=o[1];return my(my({},n),{},lx({},l,u))},{});return[{description:"Files",accept:e}]}return t}function l2(t){if(Ki(t))return Object.entries(t).reduce(function(e,n){var s=pa(n,2),o=s[0],l=s[1];return[].concat(py(e),[o],py(l))},[]).filter(function(e){return fx(e)||px(e)}).join(",")}function c2(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function u2(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function fx(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function px(t){return/^.*\.[\w]+$/.test(t)}var d2=["children"],f2=["open"],p2=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],h2=["refKey","onChange","onClick"];function m2(t){return y2(t)||v2(t)||hx(t)||g2()}function g2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y2(t){if(Array.isArray(t))return Af(t)}function nf(t,e){return w2(t)||x2(t,e)||hx(t,e)||_2()}function _2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hx(t,e){if(t){if(typeof t=="string")return Af(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Af(t,e)}}function Af(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function x2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],o=!0,l=!1,u,f;try{for(n=n.call(t);!(o=(u=n.next()).done)&&(s.push(u.value),!(e&&s.length===e));o=!0);}catch(p){l=!0,f=p}finally{try{!o&&n.return!=null&&n.return()}finally{if(l)throw f}}return s}}function w2(t){if(Array.isArray(t))return t}function _y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_y(Object(n),!0).forEach(function(s){Lf(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Lf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bc(t,e){if(t==null)return{};var n=E2(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function E2(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var Qp=C.forwardRef(function(t,e){var n=t.children,s=bc(t,d2),o=Xp(s),l=o.open,u=bc(o,f2);return C.useImperativeHandle(e,function(){return{open:l}},[l]),pi.createElement(C.Fragment,null,n(ft(ft({},u),{},{open:l})))});Qp.displayName="Dropzone";var mx={disabled:!1,getFilesFromEvent:DR,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Qp.defaultProps=mx;Qp.propTypes={children:Xe.func,accept:Xe.objectOf(Xe.arrayOf(Xe.string)),multiple:Xe.bool,preventDropOnDocument:Xe.bool,noClick:Xe.bool,noKeyboard:Xe.bool,noDrag:Xe.bool,noDragEventsBubbling:Xe.bool,minSize:Xe.number,maxSize:Xe.number,maxFiles:Xe.number,disabled:Xe.bool,getFilesFromEvent:Xe.func,onFileDialogCancel:Xe.func,onFileDialogOpen:Xe.func,useFsAccessApi:Xe.bool,autoFocus:Xe.bool,onDragEnter:Xe.func,onDragLeave:Xe.func,onDragOver:Xe.func,onDrop:Xe.func,onDropAccepted:Xe.func,onDropRejected:Xe.func,onError:Xe.func,validator:Xe.func};var jf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Xp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=ft(ft({},mx),t),n=e.accept,s=e.disabled,o=e.getFilesFromEvent,l=e.maxSize,u=e.minSize,f=e.multiple,p=e.maxFiles,m=e.onDragEnter,y=e.onDragLeave,_=e.onDragOver,x=e.onDrop,E=e.onDropAccepted,S=e.onDropRejected,I=e.onFileDialogCancel,L=e.onFileDialogOpen,j=e.useFsAccessApi,$=e.autoFocus,W=e.preventDropOnDocument,ie=e.noClick,R=e.noKeyboard,ee=e.noDrag,ce=e.noDragEventsBubbling,G=e.onError,ae=e.validator,se=C.useMemo(function(){return l2(n)},[n]),Ne=C.useMemo(function(){return a2(n)},[n]),we=C.useMemo(function(){return typeof L=="function"?L:xy},[L]),ye=C.useMemo(function(){return typeof I=="function"?I:xy},[I]),Se=C.useRef(null),ge=C.useRef(null),Qe=C.useReducer(k2,jf),Fe=nf(Qe,2),q=Fe[0],J=Fe[1],X=q.isFocused,N=q.isFileDialogActive,F=C.useRef(typeof window<"u"&&window.isSecureContext&&j&&o2()),ve=function(){!F.current&&N&&setTimeout(function(){if(ge.current){var de=ge.current.files;de.length||(J({type:"closeDialog"}),ye())}},300)};C.useEffect(function(){return window.addEventListener("focus",ve,!1),function(){window.removeEventListener("focus",ve,!1)}},[ge,N,ye,F]);var _e=C.useRef([]),Te=function(de){Se.current&&Se.current.contains(de.target)||(de.preventDefault(),_e.current=[])};C.useEffect(function(){return W&&(document.addEventListener("dragover",yy,!1),document.addEventListener("drop",Te,!1)),function(){W&&(document.removeEventListener("dragover",yy),document.removeEventListener("drop",Te))}},[Se,W]),C.useEffect(function(){return!s&&$&&Se.current&&Se.current.focus(),function(){}},[Se,$,s]);var Re=C.useCallback(function(Y){G?G(Y):console.error(Y)},[G]),We=C.useCallback(function(Y){Y.preventDefault(),Y.persist(),fn(Y),_e.current=[].concat(m2(_e.current),[Y.target]),Bl(Y)&&Promise.resolve(o(Y)).then(function(de){if(!(Cc(Y)&&!ce)){var ze=de.length,it=ze>0&&n2({files:de,accept:se,minSize:u,maxSize:l,multiple:f,maxFiles:p,validator:ae}),ht=ze>0&&!it;J({isDragAccept:it,isDragReject:ht,isDragActive:!0,type:"setDraggedFiles"}),m&&m(Y)}}).catch(function(de){return Re(de)})},[o,m,Re,ce,se,u,l,f,p,ae]),Me=C.useCallback(function(Y){Y.preventDefault(),Y.persist(),fn(Y);var de=Bl(Y);if(de&&Y.dataTransfer)try{Y.dataTransfer.dropEffect="copy"}catch{}return de&&_&&_(Y),!1},[_,ce]),Ie=C.useCallback(function(Y){Y.preventDefault(),Y.persist(),fn(Y);var de=_e.current.filter(function(it){return Se.current&&Se.current.contains(it)}),ze=de.indexOf(Y.target);ze!==-1&&de.splice(ze,1),_e.current=de,!(de.length>0)&&(J({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Bl(Y)&&y&&y(Y))},[Se,y,ce]),rt=C.useCallback(function(Y,de){var ze=[],it=[];Y.forEach(function(ht){var Gn=ux(ht,se),_t=nf(Gn,2),pn=_t[0],jr=_t[1],lr=dx(ht,u,l),cr=nf(lr,2),Mr=cr[0],hn=cr[1],Yn=ae?ae(ht):null;if(pn&&Mr&&!Yn)ze.push(ht);else{var Nn=[jr,hn];Yn&&(Nn=Nn.concat(Yn)),it.push({file:ht,errors:Nn.filter(function(Ti){return Ti})})}}),(!f&&ze.length>1||f&&p>=1&&ze.length>p)&&(ze.forEach(function(ht){it.push({file:ht,errors:[t2]})}),ze.splice(0)),J({acceptedFiles:ze,fileRejections:it,isDragReject:it.length>0,type:"setFiles"}),x&&x(ze,it,de),it.length>0&&S&&S(it,de),ze.length>0&&E&&E(ze,de)},[J,f,se,u,l,p,x,E,S,ae]),un=C.useCallback(function(Y){Y.preventDefault(),Y.persist(),fn(Y),_e.current=[],Bl(Y)&&Promise.resolve(o(Y)).then(function(de){Cc(Y)&&!ce||rt(de,Y)}).catch(function(de){return Re(de)}),J({type:"reset"})},[o,rt,Re,ce]),Tn=C.useCallback(function(){if(F.current){J({type:"openDialog"}),we();var Y={multiple:f,types:Ne};window.showOpenFilePicker(Y).then(function(de){return o(de)}).then(function(de){rt(de,null),J({type:"closeDialog"})}).catch(function(de){c2(de)?(ye(de),J({type:"closeDialog"})):u2(de)?(F.current=!1,ge.current?(ge.current.value=null,ge.current.click()):Re(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Re(de)});return}ge.current&&(J({type:"openDialog"}),we(),ge.current.value=null,ge.current.click())},[J,we,ye,j,rt,Re,Ne,f]),Wt=C.useCallback(function(Y){!Se.current||!Se.current.isEqualNode(Y.target)||(Y.key===" "||Y.key==="Enter"||Y.keyCode===32||Y.keyCode===13)&&(Y.preventDefault(),Tn())},[Se,Tn]),Or=C.useCallback(function(){J({type:"focus"})},[]),bi=C.useCallback(function(){J({type:"blur"})},[]),Ar=C.useCallback(function(){ie||(s2()?setTimeout(Tn,0):Tn())},[ie,Tn]),dn=function(de){return s?null:de},Lr=function(de){return R?null:dn(de)},Kn=function(de){return ee?null:dn(de)},fn=function(de){ce&&de.stopPropagation()},Ft=C.useMemo(function(){return function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=Y.refKey,ze=de===void 0?"ref":de,it=Y.role,ht=Y.onKeyDown,Gn=Y.onFocus,_t=Y.onBlur,pn=Y.onClick,jr=Y.onDragEnter,lr=Y.onDragOver,cr=Y.onDragLeave,Mr=Y.onDrop,hn=bc(Y,p2);return ft(ft(Lf({onKeyDown:Lr(er(ht,Wt)),onFocus:Lr(er(Gn,Or)),onBlur:Lr(er(_t,bi)),onClick:dn(er(pn,Ar)),onDragEnter:Kn(er(jr,We)),onDragOver:Kn(er(lr,Me)),onDragLeave:Kn(er(cr,Ie)),onDrop:Kn(er(Mr,un)),role:typeof it=="string"&&it!==""?it:"presentation"},ze,Se),!s&&!R?{tabIndex:0}:{}),hn)}},[Se,Wt,Or,bi,Ar,We,Me,Ie,un,R,ee,s]),In=C.useCallback(function(Y){Y.stopPropagation()},[]),Si=C.useMemo(function(){return function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=Y.refKey,ze=de===void 0?"ref":de,it=Y.onChange,ht=Y.onClick,Gn=bc(Y,h2),_t=Lf({accept:se,multiple:f,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:dn(er(it,un)),onClick:dn(er(ht,In)),tabIndex:-1},ze,ge);return ft(ft({},_t),Gn)}},[ge,n,f,un,s]);return ft(ft({},q),{},{isFocused:X&&!s,getRootProps:Ft,getInputProps:Si,rootRef:Se,inputRef:ge,open:dn(Tn)})}function k2(t,e){switch(e.type){case"focus":return ft(ft({},t),{},{isFocused:!0});case"blur":return ft(ft({},t),{},{isFocused:!1});case"openDialog":return ft(ft({},jf),{},{isFileDialogActive:!0});case"closeDialog":return ft(ft({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return ft(ft({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return ft(ft({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return ft({},jf);default:return t}}function xy(){}const Sn=C.createContext(),C2=({children:t})=>{const[e,n]=C.useState([]),[s,o]=C.useState([]),[l,u]=C.useState(""),[f,p]=C.useState(""),[m,y]=C.useState("");let _=e.filter(I=>{const L=I.title.includes(l),j=f==="category"||I.category.includes(f.toUpperCase()),$=I.date.includes(m);return L&&j&&$});const x=_.filter(I=>I.status==="TO-DO"),E=_.filter(I=>I.status==="COMPLETED"),S=_.filter(I=>I.status==="IN-PROGRESS");return g.jsx(Sn.Provider,{value:{dateSearch:m,setDateSearch:y,categorySearch:f,setCategorySearch:p,displayTaskData:e,setDisplayTaskData:n,selected:s,setSelected:o,To_Do:x,Completed:E,search:l,searchData:_,setSearch:u,Progress:S},children:t})},gx=({openCreate:t,setOpenCreate:e})=>{const{displayTaskData:n,setDisplayTaskData:s}=C.useContext(Sn),[o,l]=C.useState([]),[u,f]=C.useState(null),[p,m]=C.useState(!1),[y,_]=C.useState(!1),[x,E]=C.useState(!1),[S,I]=C.useState({title:"",desc:"",category:"",date:"",status:"",img:[]}),L=300,j=se=>{const Ne=se.target.value;I(we=>({...we,desc:Ne}))},$=se=>{se.preventDefault();const{name:Ne,value:we}=se.target;I(ye=>({...ye,[Ne]:we}))},W=se=>{I(Ne=>({...Ne,category:se})),f(se)},ie=Date.now(),R=async se=>{se.preventDefault();const Ne=$n(Hn),we=Vn(Ne,"task/"+ie);await Gp(we,S).then(()=>{alert("data save successfull"),e(!1)}).catch(ye=>{alert("error:",ye.message)}),s(ye=>[...ye,{...S,id:ie}]),I({title:"",desc:"",category:"",date:"",status:"",img:[]}),f(null),l([])};C.useEffect(()=>{(async()=>{const Ne=$n(Hn),we=Vn(Ne,"task");try{const Se=(await sx(we)).val(),ge=Object.keys(Se).map(Qe=>({id:Qe,...Se[Qe]}));s(ge)}catch(ye){console.log(ye)}})()},[]);const ee=C.useCallback(se=>{l(se),I(Ne=>({...Ne,img:se.map(we=>URL.createObjectURL(we))}))},[]),{getRootProps:ce,getInputProps:G,isDragActive:ae}=Xp({onDrop:ee,accept:".jpg, .png, .pdf, .gif, .pdf",maxFiles:5});return t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25  z-50 py-1 ",children:g.jsxs("div",{className:"maindiv sm:w-[40%] w-[92%] mx-auto rounded-2xl border shadow-sm sm:my-5 my-5 bg-white",children:[g.jsxs("div",{className:"flex bg-purple-600/10 rounded-t-2xl justify-between items-center border-b px-4 py-4 shadow-sm ",children:[g.jsx("h1",{className:"sm:text-[20px] text-[17px] font-semibold",children:"Create Task"}),g.jsx(hp,{onClick:()=>e(!1),className:"size-3 text-black cursor-pointer"})]}),g.jsx("div",{className:"mt-3 w-[96%] mx-auto py-1 px-3 border rounded-md bg-gray-100",children:g.jsx("input",{name:"title",onChange:$,value:S.title,className:"outline-none bg-gray-100",type:"text",placeholder:"Title"})}),g.jsxs("div",{className:"mt-3 w-[96%] mx-auto px-3 py-1 border rounded-md bg-gray-100 relative ",children:[g.jsx(W0,{className:"size-4 mt-2   text-gray-400"}),g.jsx("textarea",{id:"textarea",name:"desc",onChange:j,maxLength:L,className:`bg-gray-100 text-[15px] absolute left-9 h-14 top-2 w-[90%] outline-none resize-none ${p?"font-bold":"font-normal"}  ${y?" italic ":"not-italic"}  ${x?"line-through ":"normal-case"}`,placeholder:"Description.."}),g.jsxs("div",{className:"flex justify-between items-center mt-12",children:[g.jsxs("div",{className:"flex justify-center gap-1.5 items-center ",children:[g.jsx(q0,{onClick:()=>m(!p),className:"size-4 cursor-pointer"}),g.jsx(H0,{onClick:()=>_(!y),className:"size-4 cursor-pointer"}),g.jsx(V0,{onClick:()=>E(!x),className:"size-4"}),g.jsx("p",{className:"mb-1.5 px-1 text-gray-400",children:"|"}),g.jsx(K0,{className:"size-4 "}),g.jsx($0,{className:"size-4 cursor-pointer "})]}),g.jsx("div",{children:g.jsxs("span",{className:"text-gray-400 text-[13px]",children:[S.desc.length,"/",L]})})]})]}),g.jsxs("div",{className:" w-[96%] mx-auto  flex justify-between items-center py-2 mt-5",children:[g.jsxs("div",{className:"sm:flex hidden flex-col gap-2 items-center",children:[g.jsx("p",{className:"place-self-start text-[13px] text-gray-700",children:"Task Category*"}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("button",{onClick:()=>W("WORK"),className:` ${u==="WORK"?"bg-purple-800 text-gray-100":""} py-1 px-4 border-2 font-semibold text-[14px] rounded-2xl `,children:"WORK"}),g.jsx("button",{onClick:()=>W("PERSONAL"),className:`${u==="PERSONAL"?"bg-purple-800 text-gray-100":""} py-1 px-4 border-2 font-semibold text-[14px] rounded-2xl `,children:"PERSONAL"})]})]}),g.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[g.jsx("p",{className:"place-self-start text-[13px] text-gray-700",children:"Due on*"}),g.jsx("input",{onChange:$,value:S.date,name:"date",className:"py-1 sm:w-40 w-36 bg-gray-100 place-content-center px-1 border-2 rounded-md uppercase text-gray-400 sm:text-[14px] text-[13px]",type:"date",placeholder:"DD/MM/YYYY"})]}),g.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[g.jsx("p",{className:"place-self-start text-[13px] text-gray-700",children:"Task Status*"}),g.jsxs("select",{onChange:$,name:"status",value:S.status,className:"sm:w-40 w-36  sm:text-[14px] text-[13px] outline-none py-1 border-2 text-gray-500 bg-gray-100 rounded-md",children:[g.jsx("option",{value:"CHOOSE",children:"CHOOSE"}),g.jsx("option",{value:"TO-DO",children:"TO-DO"}),g.jsx("option",{value:"IN-PROGRESS",children:"IN-PROGRESS"}),g.jsx("option",{value:"COMPLETED",children:"COMPLETED"})]})]})]}),g.jsxs("div",{className:"sm:hidden items-center gap-2 px-2 mt-5 flex  ",children:[g.jsx("p",{className:" sn:text-[13px] text-[14px] text-gray-700",children:"Task Category* : "}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("button",{onClick:()=>W("WORK"),className:` ${u==="WORK"?"bg-purple-800 text-gray-100":""} sm:py-1 py-1 sm:px-4 px-3 border-2 font-semibold sm:text-[14px] text-[13px] rounded-2xl `,children:"WORK"}),g.jsx("button",{onClick:()=>W("PERSONAL"),className:`${u==="PERSONAL"?"bg-purple-800 text-gray-100":""} sm:py-1 py-1 sm:px-4 px-3 border-2 font-semibold sm:text-[14px] text-[13px] rounded-2xl `,children:"PERSONAL"})]})]}),g.jsxs("div",{className:" w-[96%] mx-auto  flex flex-col gap-1.5 sm:mt-3 mt-5",children:[g.jsx("h1",{className:"text-[14px] text-gray-500 ",children:"Attachment"}),g.jsxs("div",{className:"w-full ",...ce(),children:[g.jsx("input",{...G()}),ae?g.jsx("p",{className:" w-full py-2 border-2 bg-gray-100 rounded-md text-center text-[13px]",children:"Drop the files here"}):g.jsxs("p",{className:" w-full py-2 border-2 bg-gray-100 rounded-md text-center text-[13px] cursor-pointer",children:["Drop your files here or ",g.jsx("span",{className:"text-blue-600 border-b border-blue-600",children:"Upload"})," "]})]})]}),g.jsx("div",{className:"px-4 py-3 flex gap-2  ",children:o.map((se,Ne)=>g.jsx("img",{className:"sm:size-[120px] size-[100px] rounded-xl",src:URL.createObjectURL(se),alt:"Uploaded file"},Ne))}),g.jsx("div",{className:"items-center bg-gray-200 mt-2  px-4 py-4 rounded-b-2xl shadow-sm bg-purple-600/10",children:g.jsxs("div",{className:"place-self-end flex gap-3 sm:mr-5 ",children:[g.jsx("button",{onClick:()=>e(!1),className:"py-1 px-4 border-2 bg-red-700 text-white rounded-2xl font-semibold ",children:"Cancel"}),g.jsx("button",{onClick:R,className:"py-1 px-4 border-2 rounded-2xl text-white font-semibold bg-purple-900",children:"Create"})]})})]})}):null};function b2(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"View_Board"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M18.437,20.936H5.563a2.5,2.5,0,0,1-2.5-2.5V5.562a2.5,2.5,0,0,1,2.5-2.5H18.437a2.5,2.5,0,0,1,2.5,2.5V18.436A2.5,2.5,0,0,1,18.437,20.936ZM5.563,4.062a1.5,1.5,0,0,0-1.5,1.5V18.436a1.5,1.5,0,0,0,1.5,1.5H18.437a1.5,1.5,0,0,0,1.5-1.5V5.562a1.5,1.5,0,0,0-1.5-1.5Z"},child:[]},{tag:"path",attr:{d:"M12.5,14.544a.5.5,0,0,1-1,0v-8h0a.5.5,0,0,1,1,0Z"},child:[]},{tag:"path",attr:{d:"M16.717,12.453a.5.5,0,0,1-1,0V6.544h0a.5.5,0,0,1,1,0Z"},child:[]},{tag:"path",attr:{d:"M8.28,6.544a.5.5,0,0,0-1,0h0v4a.5.5,0,0,0,1,0Z"},child:[]}]}]}]})(t)}function S2(t){return pt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M0 0v4h17v-4h-17zM16 3h-15v-2h15v2zM0 10h17v-4h-17v4zM1 7h15v2h-15v-2zM0 16h17v-4h-17v4zM1 13h15v2h-15v-2z"},child:[]}]})(t)}function wy(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"},child:[]},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"},child:[]}]})(t)}function rf(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"},child:[]}]})(t)}const T2=({open:t,setOpen:e})=>{const{search:n,setSearch:s,categorySearch:o,setCategorySearch:l,dateSearch:u,setDateSearch:f}=C.useContext(Sn),[p,m]=C.useState({}),[y,_]=C.useState(!1),x=$f(),E=async()=>{vf.onAuthStateChanged(async I=>{m({userName:I.displayName,photo:I.photoURL})})};C.useEffect(()=>{E()},[]);const S=async()=>{try{await vf.signOut(),m(),at.success("Logged out Successfully",{position:"top-center"}),x("/Task-Management/signin/")}catch(I){console.log(I)}};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"sm:px-8 ",children:[g.jsxs("div",{className:"flex justify-between sm:h-10 h-14 sm:py-0 py-1 sm:px-0 px-2 sm:text-black  sm:bg-white bg-purple-800 text-white    ",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Vy,{className:"sm:size-5 size-6"}),g.jsx("p",{className:"sm:text-[20px] text-[15px] tracking-wide ",children:"TaskBuddy"})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("div",{onClick:S,className:"sm:hidden block hover:bg-orange-100 active:bg-orange-100 bg-orange-200 text-gray-700  py-0.5 cursor-pointer px-1 ring-1 rounded-lg ring-gray-300",children:g.jsx(wy,{})}),g.jsx("img",{src:p.photo,className:"sm:w-10 w-9  sm:h-10 h-9 sm:border-none border sm:rounded-full rounded-full",alt:p.userName}),g.jsx("p",{className:"text-[12px] sm:block hidden",children:p.userName})]})]}),g.jsxs("div",{className:"sm:flex hidden  justify-between items-center sm:px-0 px-1.5 sm:mt-0 mt-2",children:[g.jsxs("div",{className:"flex gap-5  items-center ",children:[g.jsxs("div",{onClick:()=>e(!0),className:`flex hover:bg-gray-200 hover:py-0.5 px-1.5 rounded-lg gap-1  items-center cursor-pointer ${t?"border-b-2 border-black font-semibold":"border-none"}`,children:[g.jsx(S2,{className:"size-3"}),g.jsx("p",{className:" text-[14px]",children:"List"})]}),g.jsxs("div",{onClick:()=>e(!1),className:`sm:flex hidden hover:bg-gray-200 hover:py-0.5 px-1.5 rounded-lg gap-1 items-center  cursor-pointer ${t?"border-none ":"border-b-2 border-black font-semibold"} `,children:[g.jsx(b2,{className:"size-4"}),g.jsx("p",{className:"text-[14px]",children:"Board"})]})]}),g.jsx("div",{children:g.jsxs("div",{onClick:S,className:"sm:flex gap-2 hover:bg-orange-100 active:bg-orange-100 hidden bg-orange-50 items-center py-2 cursor-pointer px-3 ring-1 rounded-lg ring-gray-300",children:[g.jsx(wy,{}),g.jsx("p",{children:"Logout"})]})})]}),g.jsxs("div",{className:"flex justify-between sm:mb-9 mb-3 mt-3 sm:place-self-auto place-self-end",children:[g.jsxs("div",{className:"sm:flex  hidden items-center gap-2 text-[12px] ",children:[g.jsx("p",{children:"Fliter by:"}),g.jsxs("select",{onChange:I=>l(I.target.value),className:"rounded-2xl cursor-pointer hover:bg-gray-200 py-1 px-2 border-2 outline-none",name:"category",id:"",children:[g.jsx("option",{value:"category",children:"Category"}),g.jsx("option",{value:"work",children:"Work"}),g.jsx("option",{value:"personal",children:"Personal"})]}),g.jsx("input",{onChange:I=>f(I.target.value),type:"date",value:u,placeholder:"DD/MM/YYYY",className:"rounded-2xl hover:bg-gray-200 py-1 px-1.5 border-2 outline-none cursor-pointer",name:"due date",id:""})]}),g.jsxs("div",{className:"flex justify-between items-center  gap-5 sm:px-0 px-2 sm:mt-0 mt-2 ",children:[g.jsxs("div",{className:"md:flex hidden justify-between items-center gap-2 border border-black/15 bg-white w-48 rounded-3xl py-1.5 px-3  hover:border-gray-400 ",children:[g.jsx(rf,{className:"text-gray-500 size-5"}),g.jsx("input",{onChange:I=>s(I.target.value),className:"w-36  text-[15px] outline-none rounded-lg",type:"text",value:n,placeholder:"Search... "})]}),g.jsx("buttton",{onClick:()=>_(!0),className:" py-1.5 px-4 hover:bg-purple-700 active:bg-purple-700 bg-purple-900 rounded-3xl sm:w-36  w-24 text-center text-white cursor-pointer",children:"Add Task"})]})]}),g.jsxs("div",{className:"hidden sm:flex md:hidden  mb-6    items-center gap-2 border border-black/15 bg-white w-full rounded-3xl py-2.5 px-5  hover:border-gray-400 ",children:[g.jsx(rf,{className:"text-gray-500 size-5"}),g.jsx("input",{onChange:I=>s(I.target.value),className:"w-36  text-[17px] outline-none rounded-lg",type:"text",value:n,placeholder:"Search... "})]}),g.jsxs("div",{className:"sm:px-0 px-4",children:[g.jsxs("div",{className:"flex flex-col  sm:hidden px-1  gap-1.5 text-[12px] ",children:[g.jsx("p",{className:"text-[13px]",children:"Fliter by :"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("select",{onChange:I=>l(I.target.value),className:"rounded-2xl cursor-pointer hover:bg-gray-200 py-1 px-2 border-2 outline-none",name:"category",id:"",children:[g.jsx("option",{value:"category",children:"Category"}),g.jsx("option",{value:"work",children:"Work"}),g.jsx("option",{value:"personal",children:"Personal"})]}),g.jsx("input",{onChange:I=>f(I.target.value),type:"date",value:u,placeholder:"DD/MM/YYYY",className:"rounded-2xl hover:bg-gray-200 py-1 px-1.5 border-2 cursor-pointer outline-none",name:"due date",id:""})]})]}),g.jsxs("div",{className:"flex sm:hidden justify-between w-full items-center gap-1.5 border border-black/15 bg-white hover:border-gray-400 hover:border-2 rounded-3xl py-1.5   px-3  mt-5",children:[g.jsx(rf,{className:"text-gray-500 size-[18px]"}),g.jsx("input",{onChange:I=>s(I.target.value),className:"w-full  text-[15px] outline-none rounded-lg",type:"text",value:n,placeholder:"Search... "})]})]})]}),g.jsx(gx,{setOpenCreate:_,openCreate:y})]})};function I2(t){return pt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"},child:[]}]})(t)}function Ey(t){return pt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}function N2(t){return pt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm5 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm5 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"},child:[]}]})(t)}const vx=({item:t,setOpenUpdate:e,openUpdate:n})=>{var ce;if(!n)return null;const[s,o]=C.useState([]),[l,u]=C.useState("DETAILS"),[f,p]=C.useState(!1),[m,y]=C.useState(!1),[_,x]=C.useState({title:t.title,desc:t.desc,category:t.category,date:t.date,status:t.status,img:t.img}),E=G=>{const{name:ae,value:se}=G.target;x(Ne=>({...Ne,[ae]:se}))},S=C.useCallback(G=>{o(G),x(ae=>({...ae,img:G.map(se=>URL.createObjectURL(se))}))},[]),{getRootProps:I,getInputProps:L,isDragActive:j}=Xp({onDrop:S,accept:".jpg, .png, .pdf, .gif, .pdf",maxFiles:5}),$=async()=>{const G=$n(Hn),ae=Vn(G,"task/"+t.id);await mR(ae,_).then(()=>{alert(" Data Updated Successsfully !!")}).catch(se=>{console.error("Error updating task: ",se)}),location.reload()},W=G=>{x(ae=>({...ae,category:G}))},ie=()=>{p(!1),y(!1)},R=()=>{p(!0),y(!0)},ee=G=>{u(G)};return g.jsx(g.Fragment,{children:g.jsx("div",{className:"bg-black bg-opacity-10  inset-0 z-50 fixed  sm:py-14 py-10",children:g.jsxs("div",{className:"maindiv sm:w-[70%] w-[92%] mx-auto rounded-3xl border shadow-sm bg-white",children:[g.jsx("div",{className:" border-b px-4 bg-purple-600/10 py-5 shadow-sm ",children:g.jsx(hp,{onClick:()=>e(!1),className:"size-3 cursor-pointer place-self-end text-black"})}),g.jsxs("div",{className:"sm:hidden px-3 mt-4 flex gap-2  ",children:[g.jsx("div",{onClick:()=>ee("DETAILS"),className:"",children:g.jsx("div",{onClick:()=>ie(),className:`${l==="DETAILS"?"bg-black  text-white":""} px-4 py-1 border border-gray-400 rounded-2xl w-[152px] text-center  font-sans tracking-wider text-[13px]`,children:g.jsx("p",{children:"DETAILS"})})}),g.jsx("div",{onClick:()=>ee("ACTIVITY"),className:"",children:g.jsx("div",{onClick:R,className:` ${l==="ACTIVITY"?"bg-black text-white":""} px-4 py-1 border border-gray-400 rounded-2xl w-[152px] text-center font-sans tracking-wider text-[13px] `,children:g.jsx("p",{children:"ACTIVITY"})})})]}),!f&&g.jsxs("div",{className:" flex items-center ",children:[g.jsxs("div",{className:" sm:mt-3 mt-5 overflow-scroll overflow-x-hidden h-[440px] w-full ",children:[g.jsx("div",{className:" w-[96%] mx-auto py-1 px-3 border rounded-md bg-gray-100",children:g.jsx("input",{onChange:E,value:_.title,name:"title",className:"outline-none bg-gray-100",type:"text",placeholder:"Title"})}),g.jsxs("div",{className:"sm:mt-1 mt-2 w-[96%] mx-auto px-3 py-1 border rounded-md bg-gray-100 relative ",children:[g.jsx(W0,{className:"size-4 mt-2   text-gray-400"}),g.jsx("textarea",{onChange:E,value:_.desc,className:"bg-gray-100 text-[15px] absolute left-9 h-14 top-2 w-[90%] outline-none resize-none",name:"desc",placeholder:"Description"}),g.jsxs("div",{className:"flex justify-between items-center mt-12",children:[g.jsxs("div",{className:"flex gap-2 items-center ",children:[g.jsx(q0,{className:"size-4"}),g.jsx(H0,{className:"size-4"}),g.jsx(V0,{className:"size-4"}),g.jsx(K0,{className:"size-4"}),g.jsx($0,{className:"size-4"})]}),g.jsx("div",{children:g.jsx("span",{className:"text-gray-400 text-[13px]",children:"0/300 Characters"})})]})]}),g.jsxs("div",{className:" w-[96%] mx-auto  flex justify-between items-center py-2 sm:mt-5 mt-4",children:[g.jsxs("div",{className:"sm:flex hidden flex-col gap-2  items-center",children:[g.jsx("p",{className:"place-self-start text-[13px]   text-gray-700",children:"Task Category*"}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("div",{onClick:()=>W("WORK"),children:_.category==="WORK"?g.jsx("button",{name:"category",className:"py-1 px-4 border-2 bg-purple-700 text-white font-semibold text-[13px] rounded-2xl",children:"WORK"}):g.jsx("button",{name:"category",className:"py-1 px-4 border-2  font-semibold text-[13px] rounded-2xl",children:"WORK"})}),g.jsx("div",{onClick:()=>W("PERSONAL"),children:_.category==="PERSONAL"?g.jsx("button",{className:"py-1 px-4 border-2 bg-purple-700 text-white font-semibold text-[13px] rounded-2xl",children:"PERSONAL"}):g.jsx("button",{className:"py-1 px-4 border-2  font-semibold text-[13px] rounded-2xl",children:"PERSONAL"})})]})]}),g.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[g.jsx("p",{className:"place-self-start text-[13px] text-gray-700",children:"Due on*"}),g.jsx("input",{onChange:E,value:_.date,className:"py-1 sm:w-40 w-[150px]  bg-gray-100 place-content-center px-2 border-2 rounded-md uppercase text-gray-400 text-[14px]",type:"date",name:"date",placeholder:"DD/MM/YYYY"})]}),g.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[g.jsx("p",{className:"place-self-start text-[13px] text-gray-700",children:"Task Status*"}),g.jsxs("select",{onChange:E,value:_.status,name:"status",className:"sm:w-40 w-[150px] outline-none text-[15px] py-1 border-2 text-gray-500 bg-gray-100 rounded-md",children:[g.jsx("option",{value:"CHOOSE",children:"CHOOSE"}),g.jsx("option",{value:"TO-DO",children:"TO-DO"}),g.jsx("option",{value:"IN-PROGRESS",children:"IN-PROGRESS"}),g.jsx("option",{value:"COMPLETED",children:"COMPLETED"})]})]})]}),g.jsxs("div",{className:"sm:hidden flex px-2 gap-2 mt-3 items-center ",children:[g.jsx("p",{className:"place-self-start text-[13px] text-gray-700",children:"Task Category* :"}),g.jsxs("div",{className:"flex gap-2  items-center",children:[g.jsx("div",{onClick:()=>W("WORK"),children:_.category==="WORK"?g.jsx("button",{name:"category",className:"py-1 px-4 border-2 bg-purple-700 text-white font-semibold text-[13px] rounded-2xl",children:"WORK"}):g.jsx("button",{name:"category",className:"py-1 px-4 border-2  font-semibold text-[13px] rounded-2xl",children:"WORK"})}),g.jsx("div",{onClick:()=>W("PERSONAL"),children:_.category==="PERSONAL"?g.jsx("button",{className:"py-1 px-4 border-2 bg-purple-700 text-white font-semibold text-[13px] rounded-2xl",children:"PERSONAL"}):g.jsx("button",{className:"py-1 px-4 border-2  font-semibold text-[13px] rounded-2xl",children:"PERSONAL"})})]})]}),g.jsxs("div",{className:" w-[96%] mx-auto  flex flex-col gap-1 mt-3 mb-5 cursor-pointer",children:[g.jsx("h1",{className:"text-[14px] text-gray-500 ",children:"Attachment"}),g.jsxs("div",{className:"w-full ",...I(),children:[g.jsx("input",{...L()}),j?g.jsx("p",{className:" w-full py-2 border-2 bg-gray-100 rounded-md text-center text-[13px]",children:"Drop the files here"}):g.jsxs("p",{className:" w-full py-2 border-2 bg-gray-100 rounded-md text-center text-[13px]",children:["Drop your files here or ",g.jsx("span",{className:"text-blue-600 border-b border-blue-600",children:"Upload"})," "]})]})]}),g.jsx("div",{className:"px-4 py-3 flex gap-2  ",children:(ce=_.img)==null?void 0:ce.map((G,ae)=>(console.log(G),g.jsx("img",{className:"sm:size-40 size-32 rounded-xl",src:G,alt:"Uploaded file",name:"img"},ae)))})]}),g.jsxs("div",{className:"sm:block hidden h-[200px] mb-60 ",children:[g.jsx("div",{className:" py-1.5 text-[18px] ml-4",children:g.jsx("h1",{children:"Activity"})}),g.jsxs("div",{className:"flex bg-gray-100 pb-[275px] flex-col py-2 gap-2 items-center ",children:[g.jsxs("div",{className:"flex justify-between px-3 py-1 w-96 ",children:[g.jsx("h1",{className:" text-[14px]",children:"You createtd this task"}),g.jsx("h2",{className:"text-[12px] text-gray-600",children:"Dec 27 at 1:50 pm"})]}),g.jsxs("div",{className:"flex justify-between px-3 py-1 w-96",children:[g.jsx("h1",{className:" text-[14px] w-48",children:"You changed status to from in progess to complete"}),g.jsx("h2",{className:"text-[12px]  text-gray-600",children:"Dec 27 at 1:50 pm"})]}),g.jsxs("div",{className:"flex justify-between px-3 py-1 w-96 ",children:[g.jsx("h1",{className:" text-[14px]",children:"You uploaded file"}),g.jsx("h2",{className:"text-[12px] text-gray-600 ",children:"Dec 27 at 1:50 pm"})]})]})]})]}),m&&g.jsxs("div",{className:"sm:hidden mb-64 px-2 ",children:[g.jsx("div",{className:" py-1.5 text-[20px] text-purple-500  mt-5 font-semibold ml-2 ",children:g.jsx("h1",{children:"Activity"})}),g.jsxs("div",{className:"flex bg-gray-100 flex-col py-2 gap-2 items-center mt-2 rounded-xl ",children:[g.jsxs("div",{className:"flex justify-between px-3 py-1 w-80 ",children:[g.jsx("h1",{className:" text-[14px]",children:"You createtd this task"}),g.jsx("h2",{className:"text-[12px] text-gray-600",children:"Dec 27 at 1:50 pm"})]}),g.jsxs("div",{className:"flex justify-between px-3 py-1 w-80",children:[g.jsx("h1",{className:" text-[14px] w-48",children:"You changed status to from in progess to complete"}),g.jsx("h2",{className:"text-[12px]  text-gray-600",children:"Dec 27 at 1:50 pm"})]}),g.jsxs("div",{className:"flex justify-between px-3 py-1 w-80 ",children:[g.jsx("h1",{className:" text-[14px]",children:"You uploaded file"}),g.jsx("h2",{className:"text-[12px] text-gray-600 ",children:"Dec 27 at 1:50 pm"})]})]})]}),g.jsx("div",{className:"items-center bg-gray-100 border-2 px-4 py-4 rounded-b-3xl shadow-sm bg-purple-600/10",children:g.jsxs("div",{className:"place-self-end flex gap-3   ",children:[g.jsx("button",{onClick:()=>e(!1),className:"py-1 px-4 border-2 bg-red-400/30 rounded-2xl hover:bg-red-400 font-semibold ",children:"Cancel"}),g.jsx("button",{onClick:$,className:"py-1 px-4 border-2 rounded-2xl text-white hover:bg-purple-800 font-semibold bg-purple-900",children:"Update"})]})})]})})})},Kc=({item:t,setOpenUpdate:e,openUpdate:n})=>{const[s,o]=C.useState(!1),l=()=>{o(!s)},u=()=>{o(!1),e(!n)},f=p=>{const m=$n(Hn),y=Vn(m,"task/"+p);no(y),location.reload()};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"relative",children:[g.jsx(N2,{onClick:l,className:"sm:size-6 size-4  cursor-pointer"}),s&&g.jsxs("div",{className:"flex flex-col sm:gap-2 gap-1 items-center text-green-700 font-bold bg-white border-2 rounded-lg border-red-50 shadow-lg sm:px-3 px-1.5 sm:py-2 py-1 absolute right-2 top-5 z-50",children:[g.jsxs("div",{onClick:u,className:" mr-1 flex gap-2 items-center justify-center cursor-pointer",children:[g.jsx(I2,{className:" sm:size-6 size-4"}),g.jsx("p",{className:"sm:text-[17px] text-[14px]",children:"Edittt"})]}),g.jsxs("div",{onClick:()=>f(t.id),className:"flex gap-2 items-center justify-center cursor-pointer text-red-600",children:[g.jsx(zn,{className:"sm:size-5 size-4"}),g.jsx("p",{className:"sm:text-[17px] text-[14px]",children:"Delete"})]})]})]}),g.jsx(vx,{openUpdate:n,item:t,setOpenUpdate:e})]})},R2=()=>{const{Completed:t}=C.useContext(Sn);return g.jsx("div",{className:"px-4 mt-7",children:t.map(e=>g.jsxs("div",{className:"flex rounded-lg flex-col px-2 py-2 gap-10 mt-5 border-2 border-gray-300",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"text-[16px] font-semibold tracking-wider",children:e.title}),g.jsx(Kc,{})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"text-[14px] font-semibold text-gray-500 ",children:e.category}),g.jsx("p",{className:"text-gray-600 text-[14px]",children:e.date})]})]},e.id))})},P2=()=>{const{Progress:t}=C.useContext(Sn);return g.jsx("div",{className:"px-4 mt-7",children:t.map(e=>g.jsxs("div",{className:"flex rounded-lg flex-col px-2 py-2 gap-10 mt-5 border-2 border-gray-300",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"text-[16px] font-semibold tracking-wider",children:e.title}),g.jsx(Kc,{})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"text-[14px] font-semibold text-gray-500 ",children:e.category}),g.jsx("p",{className:"text-gray-600 text-[14px]",children:e.date})]})]},e.id))})},Gc=({item:t})=>{const{selected:e,setSelected:n}=C.useContext(Sn),[s,o]=C.useState(!1),l=u=>{n(f=>f.includes(u)?f.filter(p=>p!==u):[...f,u])};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex justify-between items-center py-4 px-3 border-b-2 bg-gray-200  border-gray-300 ",children:[g.jsxs("div",{className:"1div flex sm:gap-1 gap-2 py-1 px-1  justify-center items-center   ",children:[g.jsx("input",{type:"checkbox",onChange:()=>l(t.id),checked:e.includes(t.id),className:"size-4 "}),g.jsx(dT,{className:"size-6 sm:block hidden "}),g.jsx(uT,{className:" sm:size-4 size-3 "}),g.jsx("p",{className:"sm:text-[16px] truncate text-[15px] ml-1 sm:w-[10rem] w-[8rem]",children:t.title})]}),g.jsx("p",{className:"sm:text-[16px] text-[12px]  sm:w-52 w-25  sm:px-7 px-2 ",children:t.date}),g.jsx("div",{className:"sm:w-52 w-25   ",children:g.jsx("p",{className:"md:block hidden py-1 px-2 sm:w-28 w-14 text-center bg-gray-400    rounded-lg  sm:text-[14px] text-[8px]",children:t.status})}),g.jsx("p",{className:"md:block hidden sm:text-[16px] text-[10px] sm:w-52  w-25 sm:px-14 px-7",children:t.category}),g.jsx(Kc,{item:t,openUpdate:s,setOpenUpdate:o})]}),g.jsx(vx,{openUpdate:s,item:t,setOpenUpdate:o})]})},D2=()=>{const{To_Do:t}=C.useContext(Sn);return g.jsx("div",{className:"px-4 mt-7",children:t.map(e=>g.jsxs("div",{className:"flex rounded-lg flex-col px-2 py-2 gap-10 mt-5 border-2 border-gray-300",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"text-[16px] font-semibold tracking-wider",children:e.title}),g.jsx(Kc,{})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"text-[14px] font-semibold text-gray-500 ",children:e.category}),g.jsx("p",{className:"text-gray-600 text-[14px]",children:e.date})]})]},e.id))})},O2=()=>g.jsxs("div",{className:" maiDiv flex justify-between items-center  gap-10 ",children:[g.jsxs("div",{className:" firstdiv h-screen   rounded-md w-[500px] border py-4 bg-gray-100 shadow-md",children:[g.jsx("div",{className:"py-1 px-2 rounded-sm bg-purple-400  ml-4 w-fit  text-[13px]",children:g.jsx(g.Fragment,{children:"TO-DOS"})}),g.jsx(D2,{})]}),g.jsxs("div",{className:" secondiv h-screen   rounded-md w-[500px] border py-4  bg-gray-100 shadow-md",children:[g.jsx("div",{className:"py-1 px-2 rounded-sm bg-cyan-400  ml-4 w-fit text-[13px]",children:g.jsx("p",{children:"IN PROGRESS"})}),g.jsx(P2,{})]}),g.jsxs("div",{className:" thirdiv  h-screen rounded-md w-[500px] border py-4  bg-gray-100 shadow-md",children:[g.jsx("div",{className:"py-1 px-2 rounded-sm bg-green-400  ml-4 w-fit text-[13px]",children:g.jsx("p",{children:"COMPLETED"})}),g.jsx(R2,{})]})]}),A2=()=>{const[t,e]=C.useState(!1),{Progress:n,selected:s,setSelected:o}=C.useContext(Sn),l=()=>{e(!t)},u=()=>{o(p=>p.forEach(m=>{const y=$n(Hn),_=Vn(y,"task/"+m);no(_),location.reload()}))},f=()=>{if(s.length===n.length)o([]);else{const p=n.map(m=>m.id);o(p)}};return g.jsx("div",{className:"sm:px-8 px-3",children:g.jsxs("div",{className:"sm:mt-10 mt-7 border rounded-xl bg-gray-100 shadow-sm",children:[g.jsxs("div",{className:" bg-cyan-300 flex rounded-t-xl justify-between py-4 px-2 ",children:[g.jsxs("p",{className:"text-[16px] font-semibold",children:["In-progress (",n.length,")"]}),t&&g.jsx(jc,{onClick:l,className:"size-7 text-gray-600 cursor-pointer"}),!t&&g.jsx(Mc,{onClick:l,className:"size-7 text-gray-600 cursor-pointer"})]}),s.length>0?g.jsx("div",{className:"sm:block hidden bg-gray-200 w-full ",children:g.jsxs("div",{className:"flex gap-6  py-4 place-self-end mr-10",children:[g.jsxs("p",{onClick:f,className:"font-semibold  text-[17px] text-white border border-black rounded-lg bg-blue-700 cursor-pointer py-1 px-2 hover:bg-blue-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Select All"]}),g.jsxs("p",{onClick:()=>u(),className:"font-semibold text-[17px]  text-white border cursor-pointer border-black rounded-lg bg-red-700 py-1 px-2 hover:bg-red-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Delete"]})]})}):null,!t&&g.jsx("div",{children:n.map(p=>g.jsx(Gc,{item:p},p.id))})]})})};function L2(t){return pt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"},child:[]},{tag:"path",attr:{d:"M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"},child:[]},{tag:"path",attr:{d:"M11 14l2 2l4 -4"},child:[]}]})(t)}const j2=()=>{const{selected:t,setSelected:e,displayTaskData:n,Completed:s,To_Do:o,Progress:l}=C.useContext(Sn),[u,f]=C.useState(!1),p=()=>{e(I=>I.forEach(L=>{const j=$n(Hn),$=Vn(j,"task/"+L);no($),location.reload()}))},m=()=>{const I=n.map(L=>L.id);e(I)},y=()=>{e([])},_=()=>{if(t.length===s.length)e([]);else{const I=s.map(L=>L.id);e(I)}f(!1)},x=()=>{if(t.length===o.length)e([]);else{const I=o.map(L=>L.id);e(I)}f(!1)},E=()=>{if(t.length===l.length)e([]);else{const I=l.map(L=>L.id);e(I)}f(!1)},S=()=>{f(!u)};return g.jsx(g.Fragment,{children:g.jsx("div",{className:"sm:hidden ",children:t.length>0?g.jsxs("div",{className:"mainDiv sm:hidden flex justify-between gap-5 px-2 py-3 border rounded-2xl  bg-black w-full mt-4  ",children:[g.jsxs("div",{className:"1Div flex gap-3 items-center",children:[g.jsxs("div",{className:"1Div1st flex gap-3 border rounded-2xl text-white items-center px-5 py-2",children:[g.jsxs("p",{className:"text-[11px]",children:[t.length," Task Selected"]}),g.jsx(hp,{onClick:y,className:"size-2"})]}),g.jsx("div",{className:"1Div2nd items-center",children:g.jsx(L2,{onClick:m,className:"text-white size-5 "})})]}),g.jsxs("div",{className:"2div flex gap-3",children:[g.jsxs("div",{onClick:S,className:"py-2 px-3 border text-[11px] rounded-2xl  hover:bg-white/40 bg-white/20 border-gray-500 text-white items-center relative",children:["Status",u&&g.jsxs("div",{className:"flex flex-col gap-2 px-2 py-2 text-base border border-gray-200 w-fit rounded-lg bg-black text-white/90 ring-2 ring-red-600/50  mt-2 absolute bottom-14 right-1",children:[g.jsx("span",{onClick:x,className:"px-7 rounded-lg py-1 hover:bg-red-600/40 place-self-center",children:"To_Do"}),g.jsx("span",{onClick:E,className:"px-2 rounded-lg py-1 hover:bg-red-600/40 place-self-center",children:"In_Progress"}),g.jsx("span",{onClick:_,className:"px-1.5 rounded-lg py-1 hover:bg-red-600/40 place-self-center",children:"Completed"})]})]}),g.jsx("div",{onClick:p,className:"py-2 px-3 border text-[11px] rounded-2xl hover:bg-red-600/50 bg-red-600/10 border-red-700 text-red-700 items-center",children:"Delete"})]})]}):null})})},M2=()=>{const[t,e]=C.useState(!1),{Completed:n,selected:s,setSelected:o}=C.useContext(Sn),l=()=>{e(!t)},u=()=>{o(p=>p.forEach(m=>{const y=$n(Hn),_=Vn(y,"task/"+m);no(_),location.reload()}))},f=()=>{if(s.length===n.length)o([]);else{const p=n.map(m=>m.id);o(p)}};return g.jsxs("div",{className:"sm:px-8 px-3",children:[g.jsxs("div",{className:"sm:mt-10 mt-7 border rounded-xl bg-gray-100",children:[g.jsxs("div",{className:" bg-green-300 flex rounded-t-xl justify-between py-4 px-2 ",children:[g.jsxs("p",{className:"text-[16px] font-semibold",children:["Completed (",n.length,")"]}),t&&g.jsx(Mc,{onClick:l,className:"size-7 text-gray-600 cursor-pointer"}),!t&&g.jsx(jc,{onClick:l,className:"size-7 text-gray-600 cursor-pointer"})]}),s.length>0?g.jsx("div",{className:" bg-gray-200 w-full sm:block hidden",children:g.jsxs("div",{className:"flex gap-6  py-4 place-self-end mr-10",children:[g.jsxs("p",{onClick:f,className:"font-semibold  text-[17px] text-white border border-black  cursor-pointer rounded-lg bg-blue-700 py-1 px-2 hover:bg-blue-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Select All"]}),g.jsxs("p",{onClick:()=>u(),className:"font-semibold text-[17px] cursor-pointer   text-white border border-black rounded-lg bg-red-700 py-1 px-2 hover:bg-red-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Delete"]})]})}):null,!t&&g.jsx("div",{children:n.map(p=>g.jsx(Gc,{item:p},p.id))})]}),g.jsx(j2,{})]})};function F2(t){return pt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},child:[]}]})(t)}const z2=()=>{const{displayTaskData:t,setDisplayTaskData:e,selected:n,setSelected:s,searchData:o}=C.useContext(Sn);C.useState(!1);const[l,u]=C.useState(!1),[f,p]=C.useState(!1),[m,y]=C.useState(!1),[_,x]=C.useState(!1),[E,S]=C.useState(!1),[I,L]=C.useState({title:"",date:"",status:"",desc:"",category:"",img:[]}),j=we=>{const{name:ye,value:Se}=we.target;L(ge=>({...ge,[ye]:Se}))},$=Date.now(),W=async()=>{const we=$n(Hn),ye=Vn(we,"task/"+$);await Gp(ye,I).then(()=>{alert("data save successfull"),L({title:"",desc:"",date:"",status:"",category:"",img:[]})}).catch(Se=>{alert("error:",Se.message)}),e(Se=>[...Se,{...I,id:$}])};C.useEffect(()=>{(async()=>{const ye=$n(Hn),Se=Vn(ye,"task");try{const Qe=(await sx(Se)).val(),Fe=Object.keys(Qe).map(q=>({id:q,...Qe[q]}));e(Fe)}catch(ge){console.log(ge)}})()},[]);const ie=()=>{p(!f)},R=()=>{y(!m)},ee=()=>{x(!_)},ce=()=>{S(!E)},G=we=>{L(ye=>({...ye,status:we}))},ae=we=>{L(ye=>({...ye,category:we}))},se=()=>{s(we=>we.forEach(ye=>{const Se=$n(Hn),ge=Vn(Se,"task/"+ye);no(ge),s([]),location.reload()}))},Ne=()=>{if(n.length===t.length)s([]);else{const we=t.map(ye=>ye.id);s(we)}};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"sm:px-8 px-3",children:[g.jsx("hr",{className:"border-black/15 sm:mt-0 mt-4 sm:block hidden"}),g.jsxs("div",{className:"sm:flex hidden justify-between items-center  mt-2 px-1 py-1 sm:mr-44  sm:text-[15px] text-[11px] text-gray-500 font-semibold",children:[g.jsx("p",{className:"md:w-[16rem] w-[27rem] sm:px-8 px-1 ",children:"Task name"}),g.jsx("p",{className:"sm:w-52 sm:px-10 px-2 w-[12rem] ",children:"Due on"}),g.jsx("p",{className:"md:block hidden sm:w-52 w-[12rem] sm:px-4 ",children:"Task status"}),g.jsx("p",{className:" md:block hidden sm:w-52 w-[12rem] text-center",children:"Task category"})]}),g.jsxs("div",{className:"sm:mt-2 mt-2 border rounded-t-3xl  bg-gray-200",children:[g.jsxs("div",{className:" bg-purple-300 flex rounded-t-xl justify-between py-4 px-2 ",children:[g.jsxs("p",{className:"sm:text-[16px] text-[16px] font-semibold",children:["All Tasks (",t.length,")"]}),E&&g.jsx(Mc,{onClick:ce,className:"size-7 text-gray-600 cursor-pointer"}),!E&&g.jsx(jc,{onClick:ce,className:"size-7 text-gray-600 cursor-pointer"})]}),E&&g.jsxs("div",{children:[g.jsxs("div",{className:"sm:block hidden cursor-pointer ",children:[g.jsxs("div",{className:" border-b-2 border-gray-300 py-4 px-3 flex justify-between gap-1 items-center  ",children:[g.jsxs("div",{onClick:ee,className:"sm:flex hidden items-center gap-1.5 border border-gray-700 sm:ml-10 ml-5 px-2 py-0.5 rounded-lg hover:bg-gray-300",children:[g.jsx(F2,{className:" text-blue-600"}),g.jsx("p",{className:"font-semibold sm:text-[17px] text-[13px] text-blue-700",children:"Add Task"})]}),g.jsxs("div",{className:"flex gap-6 mr-7 ",children:[n.length>0?!l&&g.jsxs("p",{onClick:()=>se(),className:"font-semibold text-[17px] text-white border border-black rounded-lg bg-red-700 py-1 px-2 hover:bg-red-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Delete"]}):l&&g.jsxs("p",{onClick:()=>se(),className:"font-semibold text-[17px] text-white border border-black rounded-lg bg-red-700 py-1 px-2 hover:bg-red-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Delete"]}),n.length>0?!l&&g.jsxs("p",{onClick:Ne,className:"font-semibold text-[17px] text-white border border-black rounded-lg bg-blue-700 py-1 px-2 hover:bg-blue-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Select All"]}):l&&g.jsxs("p",{onClick:Ne,className:"font-semibold text-[17px] text-white border border-black rounded-lg bg-blue-700 py-1 px-2 hover:bg-blue-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Select All"]})]})]}),_&&g.jsxs("div",{className:"flex flex-col gap-2  border-b-2 py-2 border-gray-300",children:[g.jsxs("div",{className:"flex justify-between items-center  px-2 py-2 mr-10 ",children:[g.jsx("div",{className:"flex flex-col  ml-14  w-[20rem]  ",children:g.jsx("input",{onChange:j,name:"title",value:I.title,type:"text",placeholder:"Task Title",className:"bg-gray-200 font-semibold  py-1 px-2  text-[15px] rounded-md text-gray-900 w-[15rem] "})}),g.jsx("div",{className:" w-52     ",children:g.jsx("input",{onChange:j,name:"date",value:I.date,className:"py-1 text-center px-2 border rounded-2xl border-black/15 text-[14.5px] bg-gray-200/60 uppercase",type:"date"})}),g.jsxs("div",{onClick:ie,className:"first+div flex items-center gap-2 w-52 relative  ",children:[g.jsx("div",{className:" w-8 h-8 border-2 rounded-full border-black/15 flex justify-center items-center  ",children:g.jsx(Ey,{className:"size-4  "})}),f&&g.jsxs("div",{className:"  border-2 rounded-md border-purple-100 bg-white flex flex-col absolute top-4 left-9 shadow-lg text-[13px] font-semibold",children:[g.jsx("button",{onClick:()=>G("TO-DO"),className:"hover:bg-purple-200 hover:rounded-sm  py-1.5 px-2 ",children:"TO-DO"}),g.jsx("button",{onClick:()=>G("IN-PROGRESS"),className:"hover:bg-purple-200 hover:rounded-sm item py-1.5 px-2 tracking-wide   ",children:"IN-PROGRESS"}),g.jsx("button",{onClick:()=>G("COMPLETED"),className:"hover:bg-purple-200 hover:rounded-sm item py-1.5 px-2   ",children:"COMPLETED"})]})]}),g.jsxs("div",{onClick:R,className:"second+div flex items-center gap-2 relative w-52 ",children:[g.jsx("div",{className:"w-8 h-8 border-2 rounded-full  border-black/15 flex justify-center items-center ",children:g.jsx(Ey,{className:"size-4 "})}),m&&g.jsxs("div",{className:" border-2 rounded-md border-purple-100 bg-white flex flex-col  absolute top-4 left-9 shadow-lg text-[13px] font-semibold",children:[g.jsx("button",{onClick:()=>ae("WORK"),className:"hover:bg-purple-200 py-1 px-3",children:"WORK"}),g.jsx("button",{onClick:()=>ae("PERSONAL"),className:"hover:bg-purple-200 py-1 px-3",children:"PERSONAL"})]})]})]}),g.jsx("div",{className:"w-fit",children:g.jsxs("div",{className:"flex gap-5 items-center w-fit py-2 ml-14",children:[g.jsxs("div",{className:"flex gap-2 bg-purple-900 text-white text-[15px] hover:bg-purple-700 font-semibold items-center py-1 px-5 border rounded-2xl",children:[g.jsx("button",{onClick:W,children:"Add"}),g.jsx(cT,{})]}),g.jsx("button",{className:" text-[16px] items-center py-1 px-5 border border-gray-300 hover:bg-gray-300 font-semibold rounded-2xl",children:"Cancel"})]})})]})]}),o==null?void 0:o.map(we=>g.jsx(Gc,{item:we,openDelBtn:l,setOpneDelBtn:u},we.id))]})]})]})})},U2=()=>{const[t,e]=C.useState(!1),{To_Do:n,selected:s,setSelected:o}=C.useContext(Sn),l=()=>{e(!t)},u=()=>{o(p=>p.forEach(m=>{const y=$n(Hn),_=Vn(y,"task/"+m);no(_),location.reload()}))},f=()=>{if(s.length===n.length)o([]);else{const p=n.map(m=>m.id);o(p)}};return g.jsx("div",{className:"sm:px-8 px-3",children:g.jsxs("div",{className:"sm:mt-10  mt-7 border rounded-xl bg-gray-100",children:[g.jsxs("div",{className:" bg-orange-300 flex rounded-t-xl justify-between py-4 px-2 ",children:[g.jsxs("p",{className:"text-[16px] font-semibold",children:["To_Do (",n.length,")"]}),!t&&g.jsx(Mc,{onClick:l,className:"size-7 text-gray-600 cursor-pointer"}),t&&g.jsx(jc,{onClick:l,className:"size-7 text-gray-600 cursor-pointer"})]}),s.length>0?g.jsx("div",{className:" bg-gray-200 w-full sm:block hidden ",children:g.jsxs("div",{className:"flex gap-6  py-4 place-self-end mr-10",children:[g.jsxs("p",{onClick:f,className:"font-semibold  text-[17px] text-white border border-black rounded-lg cursor-pointer bg-blue-700 py-1 px-2 hover:bg-blue-900 flex  items-center gap-1. 5",children:[g.jsx(zn,{className:"size-5"}),"Select All"]}),g.jsxs("p",{onClick:()=>u(),className:"font-semibold text-[17px]  cursor-pointer text-white border border-black rounded-lg bg-red-700 py-1 px-2 hover:bg-red-900 flex  items-center gap-1.5",children:[g.jsx(zn,{className:"size-5"}),"Delete"]})]})}):null,!t&&g.jsx("div",{children:n.map(p=>g.jsx(Gc,{item:p},p.id))})]})})},B2=()=>g.jsxs("div",{className:"sm:py-0 py-4",children:[g.jsx(z2,{}),g.jsx(U2,{}),g.jsx(A2,{}),g.jsx(M2,{})]}),H2=()=>{const[t,e]=C.useState(!0);return g.jsxs("div",{className:"sm:py-4",children:[g.jsx(T2,{open:t,setOpen:e}),t?g.jsx("div",{children:g.jsx(B2,{})}):g.jsx(O2,{})]})};function W2(){const t=YE([{path:"/Task-Management/signin/",element:g.jsx(lT,{})},{path:"/Task-Management",element:g.jsx(H2,{})},{path:"/Task-Management/create",element:g.jsx(gx,{})}]);return g.jsx(g.Fragment,{children:g.jsx(C2,{children:g.jsx(lk,{router:t})})})}l1.createRoot(document.getElementById("root")).render(g.jsx(C.StrictMode,{children:g.jsx(W2,{})}));
